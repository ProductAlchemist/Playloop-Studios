(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&u(d)}).observe(document,{childList:!0,subtree:!0});function l(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function u(o){if(o.ep)return;o.ep=!0;const f=l(o);fetch(o.href,f)}})();function Pp(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Rc={exports:{}},Ua={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function i1(){if(Q_)return Ua;Q_=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(u,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var _ in o)_!=="key"&&(f[_]=o[_])}else f=o;return o=f.ref,{$$typeof:s,type:u,key:d,ref:o!==void 0?o:null,props:f}}return Ua.Fragment=n,Ua.jsx=l,Ua.jsxs=l,Ua}var X_;function l1(){return X_||(X_=1,Rc.exports=i1()),Rc.exports}var U=l1(),Dc={exports:{}},P={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function a1(){if(Z_)return P;Z_=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function L(S){return S===null||typeof S!="object"?null:(S=b&&S[b]||S["@@iterator"],typeof S=="function"?S:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,te={};function Ae(S,M,H){this.props=S,this.context=M,this.refs=te,this.updater=H||I}Ae.prototype.isReactComponent={},Ae.prototype.setState=function(S,M){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,M,"setState")},Ae.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function Be(){}Be.prototype=Ae.prototype;function ie(S,M,H){this.props=S,this.context=M,this.refs=te,this.updater=H||I}var se=ie.prototype=new Be;se.constructor=ie,Q(se,Ae.prototype),se.isPureReactComponent=!0;var mt=Array.isArray;function tt(){}var le={H:null,A:null,T:null,S:null},nt=Object.prototype.hasOwnProperty;function J(S,M,H){var q=H.ref;return{$$typeof:s,type:S,key:M,ref:q!==void 0?q:null,props:H}}function K(S,M){return J(S.type,M,S.props)}function Ie(S){return typeof S=="object"&&S!==null&&S.$$typeof===s}function _e(S){var M={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(H){return M[H]})}var Qe=/\/+/g;function W(S,M){return typeof S=="object"&&S!==null&&S.key!=null?_e(""+S.key):M.toString(36)}function vt(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(tt,tt):(S.status="pending",S.then(function(M){S.status==="pending"&&(S.status="fulfilled",S.value=M)},function(M){S.status==="pending"&&(S.status="rejected",S.reason=M)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function D(S,M,H,q,F){var $=typeof S;($==="undefined"||$==="boolean")&&(S=null);var ce=!1;if(S===null)ce=!0;else switch($){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(S.$$typeof){case s:case n:ce=!0;break;case T:return ce=S._init,D(ce(S._payload),M,H,q,F)}}if(ce)return F=F(S),ce=q===""?"."+W(S,0):q,mt(F)?(H="",ce!=null&&(H=ce.replace(Qe,"$&/")+"/"),D(F,M,H,"",function(ql){return ql})):F!=null&&(Ie(F)&&(F=K(F,H+(F.key==null||S&&S.key===F.key?"":(""+F.key).replace(Qe,"$&/")+"/")+ce)),M.push(F)),1;ce=0;var Je=q===""?".":q+":";if(mt(S))for(var Ge=0;Ge<S.length;Ge++)q=S[Ge],$=Je+W(q,Ge),ce+=D(q,M,H,$,F);else if(Ge=L(S),typeof Ge=="function")for(S=Ge.call(S),Ge=0;!(q=S.next()).done;)q=q.value,$=Je+W(q,Ge++),ce+=D(q,M,H,$,F);else if($==="object"){if(typeof S.then=="function")return D(vt(S),M,H,q,F);throw M=String(S),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return ce}function j(S,M,H){if(S==null)return S;var q=[],F=0;return D(S,q,"","",function($){return M.call(H,$,F++)}),q}function k(S){if(S._status===-1){var M=S._result;M=M(),M.then(function(H){(S._status===0||S._status===-1)&&(S._status=1,S._result=H)},function(H){(S._status===0||S._status===-1)&&(S._status=2,S._result=H)}),S._status===-1&&(S._status=0,S._result=M)}if(S._status===1)return S._result.default;throw S._result}var be=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},Ee={map:j,forEach:function(S,M,H){j(S,function(){M.apply(this,arguments)},H)},count:function(S){var M=0;return j(S,function(){M++}),M},toArray:function(S){return j(S,function(M){return M})||[]},only:function(S){if(!Ie(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return P.Activity=v,P.Children=Ee,P.Component=Ae,P.Fragment=l,P.Profiler=o,P.PureComponent=ie,P.StrictMode=u,P.Suspense=g,P.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,P.__COMPILER_RUNTIME={__proto__:null,c:function(S){return le.H.useMemoCache(S)}},P.cache=function(S){return function(){return S.apply(null,arguments)}},P.cacheSignal=function(){return null},P.cloneElement=function(S,M,H){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var q=Q({},S.props),F=S.key;if(M!=null)for($ in M.key!==void 0&&(F=""+M.key),M)!nt.call(M,$)||$==="key"||$==="__self"||$==="__source"||$==="ref"&&M.ref===void 0||(q[$]=M[$]);var $=arguments.length-2;if($===1)q.children=H;else if(1<$){for(var ce=Array($),Je=0;Je<$;Je++)ce[Je]=arguments[Je+2];q.children=ce}return J(S.type,F,q)},P.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:f,_context:S},S},P.createElement=function(S,M,H){var q,F={},$=null;if(M!=null)for(q in M.key!==void 0&&($=""+M.key),M)nt.call(M,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(F[q]=M[q]);var ce=arguments.length-2;if(ce===1)F.children=H;else if(1<ce){for(var Je=Array(ce),Ge=0;Ge<ce;Ge++)Je[Ge]=arguments[Ge+2];F.children=Je}if(S&&S.defaultProps)for(q in ce=S.defaultProps,ce)F[q]===void 0&&(F[q]=ce[q]);return J(S,$,F)},P.createRef=function(){return{current:null}},P.forwardRef=function(S){return{$$typeof:_,render:S}},P.isValidElement=Ie,P.lazy=function(S){return{$$typeof:T,_payload:{_status:-1,_result:S},_init:k}},P.memo=function(S,M){return{$$typeof:p,type:S,compare:M===void 0?null:M}},P.startTransition=function(S){var M=le.T,H={};le.T=H;try{var q=S(),F=le.S;F!==null&&F(H,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(tt,be)}catch($){be($)}finally{M!==null&&H.types!==null&&(M.types=H.types),le.T=M}},P.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},P.use=function(S){return le.H.use(S)},P.useActionState=function(S,M,H){return le.H.useActionState(S,M,H)},P.useCallback=function(S,M){return le.H.useCallback(S,M)},P.useContext=function(S){return le.H.useContext(S)},P.useDebugValue=function(){},P.useDeferredValue=function(S,M){return le.H.useDeferredValue(S,M)},P.useEffect=function(S,M){return le.H.useEffect(S,M)},P.useEffectEvent=function(S){return le.H.useEffectEvent(S)},P.useId=function(){return le.H.useId()},P.useImperativeHandle=function(S,M,H){return le.H.useImperativeHandle(S,M,H)},P.useInsertionEffect=function(S,M){return le.H.useInsertionEffect(S,M)},P.useLayoutEffect=function(S,M){return le.H.useLayoutEffect(S,M)},P.useMemo=function(S,M){return le.H.useMemo(S,M)},P.useOptimistic=function(S,M){return le.H.useOptimistic(S,M)},P.useReducer=function(S,M,H){return le.H.useReducer(S,M,H)},P.useRef=function(S){return le.H.useRef(S)},P.useState=function(S){return le.H.useState(S)},P.useSyncExternalStore=function(S,M,H){return le.H.useSyncExternalStore(S,M,H)},P.useTransition=function(){return le.H.useTransition()},P.version="19.2.0",P}var K_;function cf(){return K_||(K_=1,Dc.exports=a1()),Dc.exports}var ye=cf();const s1=Pp(ye);var wc={exports:{}},La={},Mc={exports:{}},Oc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function u1(){return F_||(F_=1,(function(s){function n(D,j){var k=D.length;D.push(j);e:for(;0<k;){var be=k-1>>>1,Ee=D[be];if(0<o(Ee,j))D[be]=j,D[k]=Ee,k=be;else break e}}function l(D){return D.length===0?null:D[0]}function u(D){if(D.length===0)return null;var j=D[0],k=D.pop();if(k!==j){D[0]=k;e:for(var be=0,Ee=D.length,S=Ee>>>1;be<S;){var M=2*(be+1)-1,H=D[M],q=M+1,F=D[q];if(0>o(H,k))q<Ee&&0>o(F,H)?(D[be]=F,D[q]=k,be=q):(D[be]=H,D[M]=k,be=M);else if(q<Ee&&0>o(F,k))D[be]=F,D[q]=k,be=q;else break e}}return j}function o(D,j){var k=D.sortIndex-j.sortIndex;return k!==0?k:D.id-j.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var d=Date,_=d.now();s.unstable_now=function(){return d.now()-_}}var g=[],p=[],T=1,v=null,b=3,L=!1,I=!1,Q=!1,te=!1,Ae=typeof setTimeout=="function"?setTimeout:null,Be=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function se(D){for(var j=l(p);j!==null;){if(j.callback===null)u(p);else if(j.startTime<=D)u(p),j.sortIndex=j.expirationTime,n(g,j);else break;j=l(p)}}function mt(D){if(Q=!1,se(D),!I)if(l(g)!==null)I=!0,tt||(tt=!0,_e());else{var j=l(p);j!==null&&vt(mt,j.startTime-D)}}var tt=!1,le=-1,nt=5,J=-1;function K(){return te?!0:!(s.unstable_now()-J<nt)}function Ie(){if(te=!1,tt){var D=s.unstable_now();J=D;var j=!0;try{e:{I=!1,Q&&(Q=!1,Be(le),le=-1),L=!0;var k=b;try{t:{for(se(D),v=l(g);v!==null&&!(v.expirationTime>D&&K());){var be=v.callback;if(typeof be=="function"){v.callback=null,b=v.priorityLevel;var Ee=be(v.expirationTime<=D);if(D=s.unstable_now(),typeof Ee=="function"){v.callback=Ee,se(D),j=!0;break t}v===l(g)&&u(g),se(D)}else u(g);v=l(g)}if(v!==null)j=!0;else{var S=l(p);S!==null&&vt(mt,S.startTime-D),j=!1}}break e}finally{v=null,b=k,L=!1}j=void 0}}finally{j?_e():tt=!1}}}var _e;if(typeof ie=="function")_e=function(){ie(Ie)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,W=Qe.port2;Qe.port1.onmessage=Ie,_e=function(){W.postMessage(null)}}else _e=function(){Ae(Ie,0)};function vt(D,j){le=Ae(function(){D(s.unstable_now())},j)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(D){D.callback=null},s.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):nt=0<D?Math.floor(1e3/D):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(D){switch(b){case 1:case 2:case 3:var j=3;break;default:j=b}var k=b;b=j;try{return D()}finally{b=k}},s.unstable_requestPaint=function(){te=!0},s.unstable_runWithPriority=function(D,j){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var k=b;b=D;try{return j()}finally{b=k}},s.unstable_scheduleCallback=function(D,j,k){var be=s.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?be+k:be):k=be,D){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=k+Ee,D={id:T++,callback:j,priorityLevel:D,startTime:k,expirationTime:Ee,sortIndex:-1},k>be?(D.sortIndex=k,n(p,D),l(g)===null&&D===l(p)&&(Q?(Be(le),le=-1):Q=!0,vt(mt,k-be))):(D.sortIndex=Ee,n(g,D),I||L||(I=!0,tt||(tt=!0,_e()))),D},s.unstable_shouldYield=K,s.unstable_wrapCallback=function(D){var j=b;return function(){var k=b;b=j;try{return D.apply(this,arguments)}finally{b=k}}}})(Oc)),Oc}var J_;function r1(){return J_||(J_=1,Mc.exports=u1()),Mc.exports}var zc={exports:{}},_t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function o1(){if(W_)return _t;W_=1;var s=cf();function n(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var u={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(g,p,T){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:g,containerInfo:p,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,_t.createPortal=function(g,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return f(g,p,null,T)},_t.flushSync=function(g){var p=d.T,T=u.p;try{if(d.T=null,u.p=2,g)return g()}finally{d.T=p,u.p=T,u.d.f()}},_t.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,u.d.C(g,p))},_t.prefetchDNS=function(g){typeof g=="string"&&u.d.D(g)},_t.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var T=p.as,v=_(T,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,L=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?u.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:L}):T==="script"&&u.d.X(g,{crossOrigin:v,integrity:b,fetchPriority:L,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},_t.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=_(p.as,p.crossOrigin);u.d.M(g,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&u.d.M(g)},_t.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,v=_(T,p.crossOrigin);u.d.L(g,T,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},_t.preloadModule=function(g,p){if(typeof g=="string")if(p){var T=_(p.as,p.crossOrigin);u.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else u.d.m(g)},_t.requestFormReset=function(g){u.d.r(g)},_t.unstable_batchedUpdates=function(g,p){return g(p)},_t.useFormState=function(g,p,T){return d.H.useFormState(g,p,T)},_t.useFormStatus=function(){return d.H.useHostTransitionStatus()},_t.version="19.2.0",_t}var P_;function c1(){if(P_)return zc.exports;P_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),zc.exports=o1(),zc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function f1(){if($_)return La;$_=1;var s=r1(),n=cf(),l=c1();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(u(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(u(188));return t!==e?null:e}for(var i=e,a=t;;){var r=i.return;if(r===null)break;var c=r.alternate;if(c===null){if(a=r.return,a!==null){i=a;continue}break}if(r.child===c.child){for(c=r.child;c;){if(c===i)return g(r),e;if(c===a)return g(r),t;c=c.sibling}throw Error(u(188))}if(i.return!==a.return)i=r,a=c;else{for(var h=!1,m=r.child;m;){if(m===i){h=!0,i=r,a=c;break}if(m===a){h=!0,a=r,i=c;break}m=m.sibling}if(!h){for(m=c.child;m;){if(m===i){h=!0,i=c,a=r;break}if(m===a){h=!0,a=c,i=r;break}m=m.sibling}if(!h)throw Error(u(189))}}if(i.alternate!==a)throw Error(u(190))}if(i.tag!==3)throw Error(u(188));return i.stateNode.current===i?e:t}function T(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=T(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),Ae=Symbol.for("react.profiler"),Be=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),Ie=Symbol.iterator;function _e(e){return e===null||typeof e!="object"?null:(e=Ie&&e[Ie]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Symbol.for("react.client.reference");function W(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Qe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case Ae:return"Profiler";case te:return"StrictMode";case mt:return"Suspense";case tt:return"SuspenseList";case J:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case I:return"Portal";case ie:return e.displayName||"Context";case Be:return(e._context.displayName||"Context")+".Consumer";case se:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case le:return t=e.displayName||null,t!==null?t:W(e.type)||"Memo";case nt:t=e._payload,e=e._init;try{return W(e(t))}catch{}}return null}var vt=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k={pending:!1,data:null,method:null,action:null},be=[],Ee=-1;function S(e){return{current:e}}function M(e){0>Ee||(e.current=be[Ee],be[Ee]=null,Ee--)}function H(e,t){Ee++,be[Ee]=e.current,e.current=t}var q=S(null),F=S(null),$=S(null),ce=S(null);function Je(e,t){switch(H($,t),H(F,e),H(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?m_(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=m_(t),e=__(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(q),H(q,e)}function Ge(){M(q),M(F),M($)}function ql(e){e.memoizedState!==null&&H(ce,e);var t=q.current,i=__(t,e.type);t!==i&&(H(F,e),H(q,i))}function fs(e){F.current===e&&(M(q),M(F)),ce.current===e&&(M(ce),wa._currentValue=k)}var or,Vf;function di(e){if(or===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);or=t&&t[1]||"",Vf=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+or+e+Vf}var cr=!1;function fr(e,t){if(!e||cr)return"";cr=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(R){var x=R}Reflect.construct(e,[],z)}else{try{z.call()}catch(R){x=R}e.call(z.prototype)}}else{try{throw Error()}catch(R){x=R}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(R){if(R&&x&&typeof R.stack=="string")return[R.stack,x.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=a.DetermineComponentFrameRoot(),h=c[0],m=c[1];if(h&&m){var y=h.split(`
`),N=m.split(`
`);for(r=a=0;a<y.length&&!y[a].includes("DetermineComponentFrameRoot");)a++;for(;r<N.length&&!N[r].includes("DetermineComponentFrameRoot");)r++;if(a===y.length||r===N.length)for(a=y.length-1,r=N.length-1;1<=a&&0<=r&&y[a]!==N[r];)r--;for(;1<=a&&0<=r;a--,r--)if(y[a]!==N[r]){if(a!==1||r!==1)do if(a--,r--,0>r||y[a]!==N[r]){var w=`
`+y[a].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=a&&0<=r);break}}}finally{cr=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?di(i):""}function Uy(e,t){switch(e.tag){case 26:case 27:case 5:return di(e.type);case 16:return di("Lazy");case 13:return e.child!==t&&t!==null?di("Suspense Fallback"):di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return fr(e.type,!1);case 11:return fr(e.type.render,!1);case 1:return fr(e.type,!0);case 31:return di("Activity");default:return""}}function Qf(e){try{var t="",i=null;do t+=Uy(e,i),i=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var hr=Object.prototype.hasOwnProperty,dr=s.unstable_scheduleCallback,mr=s.unstable_cancelCallback,Ly=s.unstable_shouldYield,Hy=s.unstable_requestPaint,wt=s.unstable_now,By=s.unstable_getCurrentPriorityLevel,Xf=s.unstable_ImmediatePriority,Zf=s.unstable_UserBlockingPriority,hs=s.unstable_NormalPriority,Iy=s.unstable_LowPriority,Kf=s.unstable_IdlePriority,jy=s.log,ky=s.unstable_setDisableYieldValue,Gl=null,Mt=null;function Ln(e){if(typeof jy=="function"&&ky(e),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(Gl,e)}catch{}}var Ot=Math.clz32?Math.clz32:Yy,qy=Math.log,Gy=Math.LN2;function Yy(e){return e>>>=0,e===0?32:31-(qy(e)/Gy|0)|0}var ds=256,ms=262144,_s=4194304;function mi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ps(e,t,i){var a=e.pendingLanes;if(a===0)return 0;var r=0,c=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var m=a&134217727;return m!==0?(a=m&~c,a!==0?r=mi(a):(h&=m,h!==0?r=mi(h):i||(i=m&~e,i!==0&&(r=mi(i))))):(m=a&~c,m!==0?r=mi(m):h!==0?r=mi(h):i||(i=a&~e,i!==0&&(r=mi(i)))),r===0?0:t!==0&&t!==r&&(t&c)===0&&(c=r&-r,i=t&-t,c>=i||c===32&&(i&4194048)!==0)?t:r}function Yl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Vy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ff(){var e=_s;return _s<<=1,(_s&62914560)===0&&(_s=4194304),e}function _r(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Vl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qy(e,t,i,a,r,c){var h=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var m=e.entanglements,y=e.expirationTimes,N=e.hiddenUpdates;for(i=h&~i;0<i;){var w=31-Ot(i),z=1<<w;m[w]=0,y[w]=-1;var x=N[w];if(x!==null)for(N[w]=null,w=0;w<x.length;w++){var R=x[w];R!==null&&(R.lane&=-536870913)}i&=~z}a!==0&&Jf(e,a,0),c!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=c&~(h&~t))}function Jf(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Ot(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|i&261930}function Wf(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-Ot(i),r=1<<a;r&t|e[a]&t&&(e[a]|=t),i&=~r}}function Pf(e,t){var i=t&-t;return i=(i&42)!==0?1:pr(i),(i&(e.suspendedLanes|t))!==0?0:i}function pr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function gr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $f(){var e=j.p;return e!==0?e:(e=window.event,e===void 0?32:I_(e.type))}function eh(e,t){var i=j.p;try{return j.p=e,t()}finally{j.p=i}}var Hn=Math.random().toString(36).slice(2),ot="__reactFiber$"+Hn,Et="__reactProps$"+Hn,ki="__reactContainer$"+Hn,yr="__reactEvents$"+Hn,Xy="__reactListeners$"+Hn,Zy="__reactHandles$"+Hn,th="__reactResources$"+Hn,Ql="__reactMarker$"+Hn;function vr(e){delete e[ot],delete e[Et],delete e[yr],delete e[Xy],delete e[Zy]}function qi(e){var t=e[ot];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ki]||i[ot]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=b_(e);e!==null;){if(i=e[ot])return i;e=b_(e)}return t}e=i,i=e.parentNode}return null}function Gi(e){if(e=e[ot]||e[ki]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Xl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function Yi(e){var t=e[th];return t||(t=e[th]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function it(e){e[Ql]=!0}var nh=new Set,ih={};function _i(e,t){Vi(e,t),Vi(e+"Capture",t)}function Vi(e,t){for(ih[e]=t,e=0;e<t.length;e++)nh.add(t[e])}var Ky=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lh={},ah={};function Fy(e){return hr.call(ah,e)?!0:hr.call(lh,e)?!1:Ky.test(e)?ah[e]=!0:(lh[e]=!0,!1)}function gs(e,t,i){if(Fy(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function ys(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function on(e,t,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+a)}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jy(e,t,i){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,c=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(h){i=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(h){i=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Er(e){if(!e._valueTracker){var t=sh(e)?"checked":"value";e._valueTracker=Jy(e,t,""+e[t])}}function uh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=sh(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function vs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Wy=/[\n"\\]/g;function qt(e){return e.replace(Wy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Sr(e,t,i,a,r,c,h,m){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+kt(t)):e.value!==""+kt(t)&&(e.value=""+kt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?br(e,h,kt(t)):i!=null?br(e,h,kt(i)):a!=null&&e.removeAttribute("value"),r==null&&c!=null&&(e.defaultChecked=!!c),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.name=""+kt(m):e.removeAttribute("name")}function rh(e,t,i,a,r,c,h,m){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Er(e);return}i=i!=null?""+kt(i):"",t=t!=null?""+kt(t):i,m||t===e.value||(e.value=t),e.defaultValue=t}a=a??r,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=m?e.checked:!!a,e.defaultChecked=!!a,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),Er(e)}function br(e,t,i){t==="number"&&vs(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Qi(e,t,i,a){if(e=e.options,t){t={};for(var r=0;r<i.length;r++)t["$"+i[r]]=!0;for(i=0;i<e.length;i++)r=t.hasOwnProperty("$"+e[i].value),e[i].selected!==r&&(e[i].selected=r),r&&a&&(e[i].defaultSelected=!0)}else{for(i=""+kt(i),t=null,r=0;r<e.length;r++){if(e[r].value===i){e[r].selected=!0,a&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function oh(e,t,i){if(t!=null&&(t=""+kt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+kt(i):""}function ch(e,t,i,a){if(t==null){if(a!=null){if(i!=null)throw Error(u(92));if(vt(a)){if(1<a.length)throw Error(u(93));a=a[0]}i=a}i==null&&(i=""),t=i}i=kt(t),e.defaultValue=i,a=e.textContent,a===i&&a!==""&&a!==null&&(e.value=a),Er(e)}function Xi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Py=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fh(e,t,i){var a=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,i):typeof i!="number"||i===0||Py.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function hh(e,t,i){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var r in t)a=t[r],t.hasOwnProperty(r)&&i[r]!==a&&fh(e,r,a)}else for(var c in t)t.hasOwnProperty(c)&&fh(e,c,t[c])}function Cr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $y=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ev=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Es(e){return ev.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function cn(){}var Tr=null;function Ar(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zi=null,Ki=null;function dh(e){var t=Gi(e);if(t&&(e=t.stateNode)){var i=e[Et]||null;e:switch(e=t.stateNode,t.type){case"input":if(Sr(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+qt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var r=a[Et]||null;if(!r)throw Error(u(90));Sr(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<i.length;t++)a=i[t],a.form===e.form&&uh(a)}break e;case"textarea":oh(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Qi(e,!!i.multiple,t,!1)}}}var Nr=!1;function mh(e,t,i){if(Nr)return e(t,i);Nr=!0;try{var a=e(t);return a}finally{if(Nr=!1,(Zi!==null||Ki!==null)&&(uu(),Zi&&(t=Zi,e=Ki,Ki=Zi=null,dh(t),e)))for(t=0;t<e.length;t++)dh(e[t])}}function Zl(e,t){var i=e.stateNode;if(i===null)return null;var a=i[Et]||null;if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(u(231,t,typeof i));return i}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xr=!1;if(fn)try{var Kl={};Object.defineProperty(Kl,"passive",{get:function(){xr=!0}}),window.addEventListener("test",Kl,Kl),window.removeEventListener("test",Kl,Kl)}catch{xr=!1}var Bn=null,Rr=null,Ss=null;function _h(){if(Ss)return Ss;var e,t=Rr,i=t.length,a,r="value"in Bn?Bn.value:Bn.textContent,c=r.length;for(e=0;e<i&&t[e]===r[e];e++);var h=i-e;for(a=1;a<=h&&t[i-a]===r[c-a];a++);return Ss=r.slice(e,1<a?1-a:void 0)}function bs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cs(){return!0}function ph(){return!1}function St(e){function t(i,a,r,c,h){this._reactName=i,this._targetInst=r,this.type=a,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(i=e[m],this[m]=i?i(c):c[m]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Cs:ph,this.isPropagationStopped=ph,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),t}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ts=St(pi),Fl=v({},pi,{view:0,detail:0}),tv=St(Fl),Dr,wr,Jl,As=v({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jl&&(Jl&&e.type==="mousemove"?(Dr=e.screenX-Jl.screenX,wr=e.screenY-Jl.screenY):wr=Dr=0,Jl=e),Dr)},movementY:function(e){return"movementY"in e?e.movementY:wr}}),gh=St(As),nv=v({},As,{dataTransfer:0}),iv=St(nv),lv=v({},Fl,{relatedTarget:0}),Mr=St(lv),av=v({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),sv=St(av),uv=v({},pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rv=St(uv),ov=v({},pi,{data:0}),yh=St(ov),cv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hv[e])?!!t[e]:!1}function Or(){return dv}var mv=v({},Fl,{key:function(e){if(e.key){var t=cv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(e){return e.type==="keypress"?bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_v=St(mv),pv=v({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vh=St(pv),gv=v({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),yv=St(gv),vv=v({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ev=St(vv),Sv=v({},As,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bv=St(Sv),Cv=v({},pi,{newState:0,oldState:0}),Tv=St(Cv),Av=[9,13,27,32],zr=fn&&"CompositionEvent"in window,Wl=null;fn&&"documentMode"in document&&(Wl=document.documentMode);var Nv=fn&&"TextEvent"in window&&!Wl,Eh=fn&&(!zr||Wl&&8<Wl&&11>=Wl),Sh=" ",bh=!1;function Ch(e,t){switch(e){case"keyup":return Av.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Th(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fi=!1;function xv(e,t){switch(e){case"compositionend":return Th(t);case"keypress":return t.which!==32?null:(bh=!0,Sh);case"textInput":return e=t.data,e===Sh&&bh?null:e;default:return null}}function Rv(e,t){if(Fi)return e==="compositionend"||!zr&&Ch(e,t)?(e=_h(),Ss=Rr=Bn=null,Fi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Eh&&t.locale!=="ko"?null:t.data;default:return null}}var Dv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ah(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dv[e.type]:t==="textarea"}function Nh(e,t,i,a){Zi?Ki?Ki.push(a):Ki=[a]:Zi=a,t=mu(t,"onChange"),0<t.length&&(i=new Ts("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var Pl=null,$l=null;function wv(e){r_(e,0)}function Ns(e){var t=Xl(e);if(uh(t))return e}function xh(e,t){if(e==="change")return t}var Rh=!1;if(fn){var Ur;if(fn){var Lr="oninput"in document;if(!Lr){var Dh=document.createElement("div");Dh.setAttribute("oninput","return;"),Lr=typeof Dh.oninput=="function"}Ur=Lr}else Ur=!1;Rh=Ur&&(!document.documentMode||9<document.documentMode)}function wh(){Pl&&(Pl.detachEvent("onpropertychange",Mh),$l=Pl=null)}function Mh(e){if(e.propertyName==="value"&&Ns($l)){var t=[];Nh(t,$l,e,Ar(e)),mh(wv,t)}}function Mv(e,t,i){e==="focusin"?(wh(),Pl=t,$l=i,Pl.attachEvent("onpropertychange",Mh)):e==="focusout"&&wh()}function Ov(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ns($l)}function zv(e,t){if(e==="click")return Ns(t)}function Uv(e,t){if(e==="input"||e==="change")return Ns(t)}function Lv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:Lv;function ea(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var r=i[a];if(!hr.call(t,r)||!zt(e[r],t[r]))return!1}return!0}function Oh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zh(e,t){var i=Oh(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Oh(i)}}function Uh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=vs(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=vs(e.document)}return t}function Hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Hv=fn&&"documentMode"in document&&11>=document.documentMode,Ji=null,Br=null,ta=null,Ir=!1;function Hh(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ir||Ji==null||Ji!==vs(a)||(a=Ji,"selectionStart"in a&&Hr(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ta&&ea(ta,a)||(ta=a,a=mu(Br,"onSelect"),0<a.length&&(t=new Ts("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=Ji)))}function gi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Wi={animationend:gi("Animation","AnimationEnd"),animationiteration:gi("Animation","AnimationIteration"),animationstart:gi("Animation","AnimationStart"),transitionrun:gi("Transition","TransitionRun"),transitionstart:gi("Transition","TransitionStart"),transitioncancel:gi("Transition","TransitionCancel"),transitionend:gi("Transition","TransitionEnd")},jr={},Bh={};fn&&(Bh=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);function yi(e){if(jr[e])return jr[e];if(!Wi[e])return e;var t=Wi[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Bh)return jr[e]=t[i];return e}var Ih=yi("animationend"),jh=yi("animationiteration"),kh=yi("animationstart"),Bv=yi("transitionrun"),Iv=yi("transitionstart"),jv=yi("transitioncancel"),qh=yi("transitionend"),Gh=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kr.push("scrollEnd");function Jt(e,t){Gh.set(e,t),_i(t,[e])}var xs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gt=[],Pi=0,qr=0;function Rs(){for(var e=Pi,t=qr=Pi=0;t<e;){var i=Gt[t];Gt[t++]=null;var a=Gt[t];Gt[t++]=null;var r=Gt[t];Gt[t++]=null;var c=Gt[t];if(Gt[t++]=null,a!==null&&r!==null){var h=a.pending;h===null?r.next=r:(r.next=h.next,h.next=r),a.pending=r}c!==0&&Yh(i,r,c)}}function Ds(e,t,i,a){Gt[Pi++]=e,Gt[Pi++]=t,Gt[Pi++]=i,Gt[Pi++]=a,qr|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Gr(e,t,i,a){return Ds(e,t,i,a),ws(e)}function vi(e,t){return Ds(e,null,null,t),ws(e)}function Yh(e,t,i){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i);for(var r=!1,c=e.return;c!==null;)c.childLanes|=i,a=c.alternate,a!==null&&(a.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(r=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,r&&t!==null&&(r=31-Ot(i),e=c.hiddenUpdates,a=e[r],a===null?e[r]=[t]:a.push(t),t.lane=i|536870912),c):null}function ws(e){if(50<Ca)throw Ca=0,Po=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var $i={};function kv(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,i,a){return new kv(e,t,i,a)}function Yr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hn(e,t){var i=e.alternate;return i===null?(i=Ut(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Vh(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ms(e,t,i,a,r,c){var h=0;if(a=e,typeof e=="function")Yr(e)&&(h=1);else if(typeof e=="string")h=Q0(e,i,q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case J:return e=Ut(31,i,t,r),e.elementType=J,e.lanes=c,e;case Q:return Ei(i.children,r,c,t);case te:h=8,r|=24;break;case Ae:return e=Ut(12,i,t,r|2),e.elementType=Ae,e.lanes=c,e;case mt:return e=Ut(13,i,t,r),e.elementType=mt,e.lanes=c,e;case tt:return e=Ut(19,i,t,r),e.elementType=tt,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ie:h=10;break e;case Be:h=9;break e;case se:h=11;break e;case le:h=14;break e;case nt:h=16,a=null;break e}h=29,i=Error(u(130,e===null?"null":typeof e,"")),a=null}return t=Ut(h,i,t,r),t.elementType=e,t.type=a,t.lanes=c,t}function Ei(e,t,i,a){return e=Ut(7,e,a,t),e.lanes=i,e}function Vr(e,t,i){return e=Ut(6,e,null,t),e.lanes=i,e}function Qh(e){var t=Ut(18,null,null,0);return t.stateNode=e,t}function Qr(e,t,i){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Xh=new WeakMap;function Yt(e,t){if(typeof e=="object"&&e!==null){var i=Xh.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Qf(t)},Xh.set(e,t),t)}return{value:e,source:t,stack:Qf(t)}}var el=[],tl=0,Os=null,na=0,Vt=[],Qt=0,In=null,ln=1,an="";function dn(e,t){el[tl++]=na,el[tl++]=Os,Os=e,na=t}function Zh(e,t,i){Vt[Qt++]=ln,Vt[Qt++]=an,Vt[Qt++]=In,In=e;var a=ln;e=an;var r=32-Ot(a)-1;a&=~(1<<r),i+=1;var c=32-Ot(t)+r;if(30<c){var h=r-r%5;c=(a&(1<<h)-1).toString(32),a>>=h,r-=h,ln=1<<32-Ot(t)+r|i<<r|a,an=c+e}else ln=1<<c|i<<r|a,an=e}function Xr(e){e.return!==null&&(dn(e,1),Zh(e,1,0))}function Zr(e){for(;e===Os;)Os=el[--tl],el[tl]=null,na=el[--tl],el[tl]=null;for(;e===In;)In=Vt[--Qt],Vt[Qt]=null,an=Vt[--Qt],Vt[Qt]=null,ln=Vt[--Qt],Vt[Qt]=null}function Kh(e,t){Vt[Qt++]=ln,Vt[Qt++]=an,Vt[Qt++]=In,ln=t.id,an=t.overflow,In=e}var ct=null,ze=null,me=!1,jn=null,Xt=!1,Kr=Error(u(519));function kn(e){var t=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ia(Yt(t,e)),Kr}function Fh(e){var t=e.stateNode,i=e.type,a=e.memoizedProps;switch(t[ot]=e,t[Et]=a,i){case"dialog":re("cancel",t),re("close",t);break;case"iframe":case"object":case"embed":re("load",t);break;case"video":case"audio":for(i=0;i<Aa.length;i++)re(Aa[i],t);break;case"source":re("error",t);break;case"img":case"image":case"link":re("error",t),re("load",t);break;case"details":re("toggle",t);break;case"input":re("invalid",t),rh(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":re("invalid",t);break;case"textarea":re("invalid",t),ch(t,a.value,a.defaultValue,a.children)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||a.suppressHydrationWarning===!0||h_(t.textContent,i)?(a.popover!=null&&(re("beforetoggle",t),re("toggle",t)),a.onScroll!=null&&re("scroll",t),a.onScrollEnd!=null&&re("scrollend",t),a.onClick!=null&&(t.onclick=cn),t=!0):t=!1,t||kn(e,!0)}function Jh(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:ct=ct.return}}function nl(e){if(e!==ct)return!1;if(!me)return Jh(e),me=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||dc(e.type,e.memoizedProps)),i=!i),i&&ze&&kn(e),Jh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));ze=S_(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));ze=S_(e)}else t===27?(t=ze,ei(e.type)?(e=yc,yc=null,ze=e):ze=t):ze=ct?Kt(e.stateNode.nextSibling):null;return!0}function Si(){ze=ct=null,me=!1}function Fr(){var e=jn;return e!==null&&(At===null?At=e:At.push.apply(At,e),jn=null),e}function ia(e){jn===null?jn=[e]:jn.push(e)}var Jr=S(null),bi=null,mn=null;function qn(e,t,i){H(Jr,t._currentValue),t._currentValue=i}function _n(e){e._currentValue=Jr.current,M(Jr)}function Wr(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function Pr(e,t,i,a){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var c=r.dependencies;if(c!==null){var h=r.child;c=c.firstContext;e:for(;c!==null;){var m=c;c=r;for(var y=0;y<t.length;y++)if(m.context===t[y]){c.lanes|=i,m=c.alternate,m!==null&&(m.lanes|=i),Wr(c.return,i,e),a||(h=null);break e}c=m.next}}else if(r.tag===18){if(h=r.return,h===null)throw Error(u(341));h.lanes|=i,c=h.alternate,c!==null&&(c.lanes|=i),Wr(h,i,e),h=null}else h=r.child;if(h!==null)h.return=r;else for(h=r;h!==null;){if(h===e){h=null;break}if(r=h.sibling,r!==null){r.return=h.return,h=r;break}h=h.return}r=h}}function il(e,t,i,a){e=null;for(var r=t,c=!1;r!==null;){if(!c){if((r.flags&524288)!==0)c=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var h=r.alternate;if(h===null)throw Error(u(387));if(h=h.memoizedProps,h!==null){var m=r.type;zt(r.pendingProps.value,h.value)||(e!==null?e.push(m):e=[m])}}else if(r===ce.current){if(h=r.alternate,h===null)throw Error(u(387));h.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(wa):e=[wa])}r=r.return}e!==null&&Pr(t,e,i,a),t.flags|=262144}function zs(e){for(e=e.firstContext;e!==null;){if(!zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ci(e){bi=e,mn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ft(e){return Wh(bi,e)}function Us(e,t){return bi===null&&Ci(e),Wh(e,t)}function Wh(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},mn===null){if(e===null)throw Error(u(308));mn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else mn=mn.next=t;return i}var qv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Gv=s.unstable_scheduleCallback,Yv=s.unstable_NormalPriority,Xe={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $r(){return{controller:new qv,data:new Map,refCount:0}}function la(e){e.refCount--,e.refCount===0&&Gv(Yv,function(){e.controller.abort()})}var aa=null,eo=0,ll=0,al=null;function Vv(e,t){if(aa===null){var i=aa=[];eo=0,ll=lc(),al={status:"pending",value:void 0,then:function(a){i.push(a)}}}return eo++,t.then(Ph,Ph),t}function Ph(){if(--eo===0&&aa!==null){al!==null&&(al.status="fulfilled");var e=aa;aa=null,ll=0,al=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Qv(e,t){var i=[],a={status:"pending",value:null,reason:null,then:function(r){i.push(r)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var r=0;r<i.length;r++)(0,i[r])(t)},function(r){for(a.status="rejected",a.reason=r,r=0;r<i.length;r++)(0,i[r])(void 0)}),a}var $h=D.S;D.S=function(e,t){Hm=wt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Vv(e,t),$h!==null&&$h(e,t)};var Ti=S(null);function to(){var e=Ti.current;return e!==null?e:De.pooledCache}function Ls(e,t){t===null?H(Ti,Ti.current):H(Ti,t.pool)}function ed(){var e=to();return e===null?null:{parent:Xe._currentValue,pool:e}}var sl=Error(u(460)),no=Error(u(474)),Hs=Error(u(542)),Bs={then:function(){}};function td(e){return e=e.status,e==="fulfilled"||e==="rejected"}function nd(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(cn,cn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ld(e),e;default:if(typeof t.status=="string")t.then(cn,cn);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=a}},function(a){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ld(e),e}throw Ni=t,sl}}function Ai(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ni=i,sl):i}}var Ni=null;function id(){if(Ni===null)throw Error(u(459));var e=Ni;return Ni=null,e}function ld(e){if(e===sl||e===Hs)throw Error(u(483))}var ul=null,sa=0;function Is(e){var t=sa;return sa+=1,ul===null&&(ul=[]),nd(ul,e,t)}function ua(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function js(e,t){throw t.$$typeof===b?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ad(e){function t(C,E){if(e){var A=C.deletions;A===null?(C.deletions=[E],C.flags|=16):A.push(E)}}function i(C,E){if(!e)return null;for(;E!==null;)t(C,E),E=E.sibling;return null}function a(C){for(var E=new Map;C!==null;)C.key!==null?E.set(C.key,C):E.set(C.index,C),C=C.sibling;return E}function r(C,E){return C=hn(C,E),C.index=0,C.sibling=null,C}function c(C,E,A){return C.index=A,e?(A=C.alternate,A!==null?(A=A.index,A<E?(C.flags|=67108866,E):A):(C.flags|=67108866,E)):(C.flags|=1048576,E)}function h(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function m(C,E,A,O){return E===null||E.tag!==6?(E=Vr(A,C.mode,O),E.return=C,E):(E=r(E,A),E.return=C,E)}function y(C,E,A,O){var V=A.type;return V===Q?w(C,E,A.props.children,O,A.key):E!==null&&(E.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===nt&&Ai(V)===E.type)?(E=r(E,A.props),ua(E,A),E.return=C,E):(E=Ms(A.type,A.key,A.props,null,C.mode,O),ua(E,A),E.return=C,E)}function N(C,E,A,O){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=Qr(A,C.mode,O),E.return=C,E):(E=r(E,A.children||[]),E.return=C,E)}function w(C,E,A,O,V){return E===null||E.tag!==7?(E=Ei(A,C.mode,O,V),E.return=C,E):(E=r(E,A),E.return=C,E)}function z(C,E,A){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Vr(""+E,C.mode,A),E.return=C,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case L:return A=Ms(E.type,E.key,E.props,null,C.mode,A),ua(A,E),A.return=C,A;case I:return E=Qr(E,C.mode,A),E.return=C,E;case nt:return E=Ai(E),z(C,E,A)}if(vt(E)||_e(E))return E=Ei(E,C.mode,A,null),E.return=C,E;if(typeof E.then=="function")return z(C,Is(E),A);if(E.$$typeof===ie)return z(C,Us(C,E),A);js(C,E)}return null}function x(C,E,A,O){var V=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return V!==null?null:m(C,E,""+A,O);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case L:return A.key===V?y(C,E,A,O):null;case I:return A.key===V?N(C,E,A,O):null;case nt:return A=Ai(A),x(C,E,A,O)}if(vt(A)||_e(A))return V!==null?null:w(C,E,A,O,null);if(typeof A.then=="function")return x(C,E,Is(A),O);if(A.$$typeof===ie)return x(C,E,Us(C,A),O);js(C,A)}return null}function R(C,E,A,O,V){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return C=C.get(A)||null,m(E,C,""+O,V);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case L:return C=C.get(O.key===null?A:O.key)||null,y(E,C,O,V);case I:return C=C.get(O.key===null?A:O.key)||null,N(E,C,O,V);case nt:return O=Ai(O),R(C,E,A,O,V)}if(vt(O)||_e(O))return C=C.get(A)||null,w(E,C,O,V,null);if(typeof O.then=="function")return R(C,E,A,Is(O),V);if(O.$$typeof===ie)return R(C,E,A,Us(E,O),V);js(E,O)}return null}function G(C,E,A,O){for(var V=null,pe=null,Y=E,ne=E=0,he=null;Y!==null&&ne<A.length;ne++){Y.index>ne?(he=Y,Y=null):he=Y.sibling;var ge=x(C,Y,A[ne],O);if(ge===null){Y===null&&(Y=he);break}e&&Y&&ge.alternate===null&&t(C,Y),E=c(ge,E,ne),pe===null?V=ge:pe.sibling=ge,pe=ge,Y=he}if(ne===A.length)return i(C,Y),me&&dn(C,ne),V;if(Y===null){for(;ne<A.length;ne++)Y=z(C,A[ne],O),Y!==null&&(E=c(Y,E,ne),pe===null?V=Y:pe.sibling=Y,pe=Y);return me&&dn(C,ne),V}for(Y=a(Y);ne<A.length;ne++)he=R(Y,C,ne,A[ne],O),he!==null&&(e&&he.alternate!==null&&Y.delete(he.key===null?ne:he.key),E=c(he,E,ne),pe===null?V=he:pe.sibling=he,pe=he);return e&&Y.forEach(function(ai){return t(C,ai)}),me&&dn(C,ne),V}function X(C,E,A,O){if(A==null)throw Error(u(151));for(var V=null,pe=null,Y=E,ne=E=0,he=null,ge=A.next();Y!==null&&!ge.done;ne++,ge=A.next()){Y.index>ne?(he=Y,Y=null):he=Y.sibling;var ai=x(C,Y,ge.value,O);if(ai===null){Y===null&&(Y=he);break}e&&Y&&ai.alternate===null&&t(C,Y),E=c(ai,E,ne),pe===null?V=ai:pe.sibling=ai,pe=ai,Y=he}if(ge.done)return i(C,Y),me&&dn(C,ne),V;if(Y===null){for(;!ge.done;ne++,ge=A.next())ge=z(C,ge.value,O),ge!==null&&(E=c(ge,E,ne),pe===null?V=ge:pe.sibling=ge,pe=ge);return me&&dn(C,ne),V}for(Y=a(Y);!ge.done;ne++,ge=A.next())ge=R(Y,C,ne,ge.value,O),ge!==null&&(e&&ge.alternate!==null&&Y.delete(ge.key===null?ne:ge.key),E=c(ge,E,ne),pe===null?V=ge:pe.sibling=ge,pe=ge);return e&&Y.forEach(function(n1){return t(C,n1)}),me&&dn(C,ne),V}function Re(C,E,A,O){if(typeof A=="object"&&A!==null&&A.type===Q&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case L:e:{for(var V=A.key;E!==null;){if(E.key===V){if(V=A.type,V===Q){if(E.tag===7){i(C,E.sibling),O=r(E,A.props.children),O.return=C,C=O;break e}}else if(E.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===nt&&Ai(V)===E.type){i(C,E.sibling),O=r(E,A.props),ua(O,A),O.return=C,C=O;break e}i(C,E);break}else t(C,E);E=E.sibling}A.type===Q?(O=Ei(A.props.children,C.mode,O,A.key),O.return=C,C=O):(O=Ms(A.type,A.key,A.props,null,C.mode,O),ua(O,A),O.return=C,C=O)}return h(C);case I:e:{for(V=A.key;E!==null;){if(E.key===V)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){i(C,E.sibling),O=r(E,A.children||[]),O.return=C,C=O;break e}else{i(C,E);break}else t(C,E);E=E.sibling}O=Qr(A,C.mode,O),O.return=C,C=O}return h(C);case nt:return A=Ai(A),Re(C,E,A,O)}if(vt(A))return G(C,E,A,O);if(_e(A)){if(V=_e(A),typeof V!="function")throw Error(u(150));return A=V.call(A),X(C,E,A,O)}if(typeof A.then=="function")return Re(C,E,Is(A),O);if(A.$$typeof===ie)return Re(C,E,Us(C,A),O);js(C,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,E!==null&&E.tag===6?(i(C,E.sibling),O=r(E,A),O.return=C,C=O):(i(C,E),O=Vr(A,C.mode,O),O.return=C,C=O),h(C)):i(C,E)}return function(C,E,A,O){try{sa=0;var V=Re(C,E,A,O);return ul=null,V}catch(Y){if(Y===sl||Y===Hs)throw Y;var pe=Ut(29,Y,null,C.mode);return pe.lanes=O,pe.return=C,pe}finally{}}}var xi=ad(!0),sd=ad(!1),Gn=!1;function io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Yn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vn(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Se&2)!==0){var r=a.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),a.pending=t,t=ws(e),Yh(e,null,i),t}return Ds(e,a,t,i),ws(e)}function ra(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Wf(e,i)}}function ao(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var r=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var h={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?r=c=h:c=c.next=h,i=i.next}while(i!==null);c===null?r=c=t:c=c.next=t}else r=c=t;i={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:c,shared:a.shared,callbacks:a.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var so=!1;function oa(){if(so){var e=al;if(e!==null)throw e}}function ca(e,t,i,a){so=!1;var r=e.updateQueue;Gn=!1;var c=r.firstBaseUpdate,h=r.lastBaseUpdate,m=r.shared.pending;if(m!==null){r.shared.pending=null;var y=m,N=y.next;y.next=null,h===null?c=N:h.next=N,h=y;var w=e.alternate;w!==null&&(w=w.updateQueue,m=w.lastBaseUpdate,m!==h&&(m===null?w.firstBaseUpdate=N:m.next=N,w.lastBaseUpdate=y))}if(c!==null){var z=r.baseState;h=0,w=N=y=null,m=c;do{var x=m.lane&-536870913,R=x!==m.lane;if(R?(fe&x)===x:(a&x)===x){x!==0&&x===ll&&(so=!0),w!==null&&(w=w.next={lane:0,tag:m.tag,payload:m.payload,callback:null,next:null});e:{var G=e,X=m;x=t;var Re=i;switch(X.tag){case 1:if(G=X.payload,typeof G=="function"){z=G.call(Re,z,x);break e}z=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=X.payload,x=typeof G=="function"?G.call(Re,z,x):G,x==null)break e;z=v({},z,x);break e;case 2:Gn=!0}}x=m.callback,x!==null&&(e.flags|=64,R&&(e.flags|=8192),R=r.callbacks,R===null?r.callbacks=[x]:R.push(x))}else R={lane:x,tag:m.tag,payload:m.payload,callback:m.callback,next:null},w===null?(N=w=R,y=z):w=w.next=R,h|=x;if(m=m.next,m===null){if(m=r.shared.pending,m===null)break;R=m,m=R.next,R.next=null,r.lastBaseUpdate=R,r.shared.pending=null}}while(!0);w===null&&(y=z),r.baseState=y,r.firstBaseUpdate=N,r.lastBaseUpdate=w,c===null&&(r.shared.lanes=0),Fn|=h,e.lanes=h,e.memoizedState=z}}function ud(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function rd(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)ud(i[e],t)}var rl=S(null),ks=S(0);function od(e,t){e=Tn,H(ks,e),H(rl,t),Tn=e|t.baseLanes}function uo(){H(ks,Tn),H(rl,rl.current)}function ro(){Tn=ks.current,M(rl),M(ks)}var Lt=S(null),Zt=null;function Qn(e){var t=e.alternate;H(Ye,Ye.current&1),H(Lt,e),Zt===null&&(t===null||rl.current!==null||t.memoizedState!==null)&&(Zt=e)}function oo(e){H(Ye,Ye.current),H(Lt,e),Zt===null&&(Zt=e)}function cd(e){e.tag===22?(H(Ye,Ye.current),H(Lt,e),Zt===null&&(Zt=e)):Xn()}function Xn(){H(Ye,Ye.current),H(Lt,Lt.current)}function Ht(e){M(Lt),Zt===e&&(Zt=null),M(Ye)}var Ye=S(0);function qs(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||pc(i)||gc(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pn=0,ee=null,Ne=null,Ze=null,Gs=!1,ol=!1,Ri=!1,Ys=0,fa=0,cl=null,Xv=0;function je(){throw Error(u(321))}function co(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!zt(e[i],t[i]))return!1;return!0}function fo(e,t,i,a,r,c){return pn=c,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?Zd:xo,Ri=!1,c=i(a,r),Ri=!1,ol&&(c=hd(t,i,a,r)),fd(e),c}function fd(e){D.H=ma;var t=Ne!==null&&Ne.next!==null;if(pn=0,Ze=Ne=ee=null,Gs=!1,fa=0,cl=null,t)throw Error(u(300));e===null||Ke||(e=e.dependencies,e!==null&&zs(e)&&(Ke=!0))}function hd(e,t,i,a){ee=e;var r=0;do{if(ol&&(cl=null),fa=0,ol=!1,25<=r)throw Error(u(301));if(r+=1,Ze=Ne=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}D.H=Kd,c=t(i,a)}while(ol);return c}function Zv(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?ha(t):t,e=e.useState()[0],(Ne!==null?Ne.memoizedState:null)!==e&&(ee.flags|=1024),t}function ho(){var e=Ys!==0;return Ys=0,e}function mo(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function _o(e){if(Gs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Gs=!1}pn=0,Ze=Ne=ee=null,ol=!1,fa=Ys=0,cl=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?ee.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Ve(){if(Ne===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Ze===null?ee.memoizedState:Ze.next;if(t!==null)Ze=t,Ne=e;else{if(e===null)throw ee.alternate===null?Error(u(467)):Error(u(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ze===null?ee.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Vs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ha(e){var t=fa;return fa+=1,cl===null&&(cl=[]),e=nd(cl,e,t),t=ee,(Ze===null?t.memoizedState:Ze.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?Zd:xo),e}function Qs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ha(e);if(e.$$typeof===ie)return ft(e)}throw Error(u(438,String(e)))}function po(e){var t=null,i=ee.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var a=ee.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Vs(),ee.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),a=0;a<e;a++)i[a]=K;return t.index++,i}function gn(e,t){return typeof t=="function"?t(e):t}function Xs(e){var t=Ve();return go(t,Ne,e)}function go(e,t,i){var a=e.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=i;var r=e.baseQueue,c=a.pending;if(c!==null){if(r!==null){var h=r.next;r.next=c.next,c.next=h}t.baseQueue=r=c,a.pending=null}if(c=e.baseState,r===null)e.memoizedState=c;else{t=r.next;var m=h=null,y=null,N=t,w=!1;do{var z=N.lane&-536870913;if(z!==N.lane?(fe&z)===z:(pn&z)===z){var x=N.revertLane;if(x===0)y!==null&&(y=y.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),z===ll&&(w=!0);else if((pn&x)===x){N=N.next,x===ll&&(w=!0);continue}else z={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},y===null?(m=y=z,h=c):y=y.next=z,ee.lanes|=x,Fn|=x;z=N.action,Ri&&i(c,z),c=N.hasEagerState?N.eagerState:i(c,z)}else x={lane:z,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},y===null?(m=y=x,h=c):y=y.next=x,ee.lanes|=z,Fn|=z;N=N.next}while(N!==null&&N!==t);if(y===null?h=c:y.next=m,!zt(c,e.memoizedState)&&(Ke=!0,w&&(i=al,i!==null)))throw i;e.memoizedState=c,e.baseState=h,e.baseQueue=y,a.lastRenderedState=c}return r===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function yo(e){var t=Ve(),i=t.queue;if(i===null)throw Error(u(311));i.lastRenderedReducer=e;var a=i.dispatch,r=i.pending,c=t.memoizedState;if(r!==null){i.pending=null;var h=r=r.next;do c=e(c,h.action),h=h.next;while(h!==r);zt(c,t.memoizedState)||(Ke=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,a]}function dd(e,t,i){var a=ee,r=Ve(),c=me;if(c){if(i===void 0)throw Error(u(407));i=i()}else i=t();var h=!zt((Ne||r).memoizedState,i);if(h&&(r.memoizedState=i,Ke=!0),r=r.queue,So(pd.bind(null,a,r,e),[e]),r.getSnapshot!==t||h||Ze!==null&&Ze.memoizedState.tag&1){if(a.flags|=2048,fl(9,{destroy:void 0},_d.bind(null,a,r,i,t),null),De===null)throw Error(u(349));c||(pn&127)!==0||md(a,t,i)}return i}function md(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ee.updateQueue,t===null?(t=Vs(),ee.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function _d(e,t,i,a){t.value=i,t.getSnapshot=a,gd(t)&&yd(e)}function pd(e,t,i){return i(function(){gd(t)&&yd(e)})}function gd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!zt(e,i)}catch{return!0}}function yd(e){var t=vi(e,2);t!==null&&Nt(t,e,2)}function vo(e){var t=gt();if(typeof e=="function"){var i=e;if(e=i(),Ri){Ln(!0);try{i()}finally{Ln(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:e},t}function vd(e,t,i,a){return e.baseState=i,go(e,Ne,typeof a=="function"?a:gn)}function Kv(e,t,i,a,r){if(Fs(e))throw Error(u(485));if(e=t.action,e!==null){var c={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){c.listeners.push(h)}};D.T!==null?i(!0):c.isTransition=!1,a(c),i=t.pending,i===null?(c.next=t.pending=c,Ed(t,c)):(c.next=i.next,t.pending=i.next=c)}}function Ed(e,t){var i=t.action,a=t.payload,r=e.state;if(t.isTransition){var c=D.T,h={};D.T=h;try{var m=i(r,a),y=D.S;y!==null&&y(h,m),Sd(e,t,m)}catch(N){Eo(e,t,N)}finally{c!==null&&h.types!==null&&(c.types=h.types),D.T=c}}else try{c=i(r,a),Sd(e,t,c)}catch(N){Eo(e,t,N)}}function Sd(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){bd(e,t,a)},function(a){return Eo(e,t,a)}):bd(e,t,i)}function bd(e,t,i){t.status="fulfilled",t.value=i,Cd(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Ed(e,i)))}function Eo(e,t,i){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=i,Cd(t),t=t.next;while(t!==a)}e.action=null}function Cd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Td(e,t){return t}function Ad(e,t){if(me){var i=De.formState;if(i!==null){e:{var a=ee;if(me){if(ze){t:{for(var r=ze,c=Xt;r.nodeType!==8;){if(!c){r=null;break t}if(r=Kt(r.nextSibling),r===null){r=null;break t}}c=r.data,r=c==="F!"||c==="F"?r:null}if(r){ze=Kt(r.nextSibling),a=r.data==="F!";break e}}kn(a)}a=!1}a&&(t=i[0])}}return i=gt(),i.memoizedState=i.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Td,lastRenderedState:t},i.queue=a,i=Vd.bind(null,ee,a),a.dispatch=i,a=vo(!1),c=No.bind(null,ee,!1,a.queue),a=gt(),r={state:t,dispatch:null,action:e,pending:null},a.queue=r,i=Kv.bind(null,ee,r,c,i),r.dispatch=i,a.memoizedState=e,[t,i,!1]}function Nd(e){var t=Ve();return xd(t,Ne,e)}function xd(e,t,i){if(t=go(e,t,Td)[0],e=Xs(gn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=ha(t)}catch(h){throw h===sl?Hs:h}else a=t;t=Ve();var r=t.queue,c=r.dispatch;return i!==t.memoizedState&&(ee.flags|=2048,fl(9,{destroy:void 0},Fv.bind(null,r,i),null)),[a,c,e]}function Fv(e,t){e.action=t}function Rd(e){var t=Ve(),i=Ne;if(i!==null)return xd(t,i,e);Ve(),t=t.memoizedState,i=Ve();var a=i.queue.dispatch;return i.memoizedState=e,[t,a,!1]}function fl(e,t,i,a){return e={tag:e,create:i,deps:a,inst:t,next:null},t=ee.updateQueue,t===null&&(t=Vs(),ee.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e),e}function Dd(){return Ve().memoizedState}function Zs(e,t,i,a){var r=gt();ee.flags|=e,r.memoizedState=fl(1|t,{destroy:void 0},i,a===void 0?null:a)}function Ks(e,t,i,a){var r=Ve();a=a===void 0?null:a;var c=r.memoizedState.inst;Ne!==null&&a!==null&&co(a,Ne.memoizedState.deps)?r.memoizedState=fl(t,c,i,a):(ee.flags|=e,r.memoizedState=fl(1|t,c,i,a))}function wd(e,t){Zs(8390656,8,e,t)}function So(e,t){Ks(2048,8,e,t)}function Jv(e){ee.flags|=4;var t=ee.updateQueue;if(t===null)t=Vs(),ee.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Md(e){var t=Ve().memoizedState;return Jv({ref:t,nextImpl:e}),function(){if((Se&2)!==0)throw Error(u(440));return t.impl.apply(void 0,arguments)}}function Od(e,t){return Ks(4,2,e,t)}function zd(e,t){return Ks(4,4,e,t)}function Ud(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ld(e,t,i){i=i!=null?i.concat([e]):null,Ks(4,4,Ud.bind(null,t,e),i)}function bo(){}function Hd(e,t){var i=Ve();t=t===void 0?null:t;var a=i.memoizedState;return t!==null&&co(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Bd(e,t){var i=Ve();t=t===void 0?null:t;var a=i.memoizedState;if(t!==null&&co(t,a[1]))return a[0];if(a=e(),Ri){Ln(!0);try{e()}finally{Ln(!1)}}return i.memoizedState=[a,t],a}function Co(e,t,i){return i===void 0||(pn&1073741824)!==0&&(fe&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=Im(),ee.lanes|=e,Fn|=e,i)}function Id(e,t,i,a){return zt(i,t)?i:rl.current!==null?(e=Co(e,i,a),zt(e,t)||(Ke=!0),e):(pn&42)===0||(pn&1073741824)!==0&&(fe&261930)===0?(Ke=!0,e.memoizedState=i):(e=Im(),ee.lanes|=e,Fn|=e,t)}function jd(e,t,i,a,r){var c=j.p;j.p=c!==0&&8>c?c:8;var h=D.T,m={};D.T=m,No(e,!1,t,i);try{var y=r(),N=D.S;if(N!==null&&N(m,y),y!==null&&typeof y=="object"&&typeof y.then=="function"){var w=Qv(y,a);da(e,t,w,jt(e))}else da(e,t,a,jt(e))}catch(z){da(e,t,{then:function(){},status:"rejected",reason:z},jt())}finally{j.p=c,h!==null&&m.types!==null&&(h.types=m.types),D.T=h}}function Wv(){}function To(e,t,i,a){if(e.tag!==5)throw Error(u(476));var r=kd(e).queue;jd(e,r,t,k,i===null?Wv:function(){return qd(e),i(a)})}function kd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:k,baseState:k,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:k},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function qd(e){var t=kd(e);t.next===null&&(t=e.alternate.memoizedState),da(e,t.next.queue,{},jt())}function Ao(){return ft(wa)}function Gd(){return Ve().memoizedState}function Yd(){return Ve().memoizedState}function Pv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=jt();e=Yn(i);var a=Vn(t,e,i);a!==null&&(Nt(a,t,i),ra(a,t,i)),t={cache:$r()},e.payload=t;return}t=t.return}}function $v(e,t,i){var a=jt();i={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Fs(e)?Qd(t,i):(i=Gr(e,t,i,a),i!==null&&(Nt(i,e,a),Xd(i,t,a)))}function Vd(e,t,i){var a=jt();da(e,t,i,a)}function da(e,t,i,a){var r={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Fs(e))Qd(t,r);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,m=c(h,i);if(r.hasEagerState=!0,r.eagerState=m,zt(m,h))return Ds(e,t,r,0),De===null&&Rs(),!1}catch{}finally{}if(i=Gr(e,t,r,a),i!==null)return Nt(i,e,a),Xd(i,t,a),!0}return!1}function No(e,t,i,a){if(a={lane:2,revertLane:lc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Fs(e)){if(t)throw Error(u(479))}else t=Gr(e,i,a,2),t!==null&&Nt(t,e,2)}function Fs(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function Qd(e,t){ol=Gs=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Xd(e,t,i){if((i&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Wf(e,i)}}var ma={readContext:ft,use:Qs,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je};ma.useEffectEvent=je;var Zd={readContext:ft,use:Qs,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:wd,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Zs(4194308,4,Ud.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Zs(4194308,4,e,t)},useInsertionEffect:function(e,t){Zs(4,2,e,t)},useMemo:function(e,t){var i=gt();t=t===void 0?null:t;var a=e();if(Ri){Ln(!0);try{e()}finally{Ln(!1)}}return i.memoizedState=[a,t],a},useReducer:function(e,t,i){var a=gt();if(i!==void 0){var r=i(t);if(Ri){Ln(!0);try{i(t)}finally{Ln(!1)}}}else r=t;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=$v.bind(null,ee,e),[a.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:function(e){e=vo(e);var t=e.queue,i=Vd.bind(null,ee,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:bo,useDeferredValue:function(e,t){var i=gt();return Co(i,e,t)},useTransition:function(){var e=vo(!1);return e=jd.bind(null,ee,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var a=ee,r=gt();if(me){if(i===void 0)throw Error(u(407));i=i()}else{if(i=t(),De===null)throw Error(u(349));(fe&127)!==0||md(a,t,i)}r.memoizedState=i;var c={value:i,getSnapshot:t};return r.queue=c,wd(pd.bind(null,a,c,e),[e]),a.flags|=2048,fl(9,{destroy:void 0},_d.bind(null,a,c,i,t),null),i},useId:function(){var e=gt(),t=De.identifierPrefix;if(me){var i=an,a=ln;i=(a&~(1<<32-Ot(a)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Ys++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=Xv++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ao,useFormState:Ad,useActionState:Ad,useOptimistic:function(e){var t=gt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=No.bind(null,ee,!0,i),i.dispatch=t,[e,t]},useMemoCache:po,useCacheRefresh:function(){return gt().memoizedState=Pv.bind(null,ee)},useEffectEvent:function(e){var t=gt(),i={impl:e};return t.memoizedState=i,function(){if((Se&2)!==0)throw Error(u(440));return i.impl.apply(void 0,arguments)}}},xo={readContext:ft,use:Qs,useCallback:Hd,useContext:ft,useEffect:So,useImperativeHandle:Ld,useInsertionEffect:Od,useLayoutEffect:zd,useMemo:Bd,useReducer:Xs,useRef:Dd,useState:function(){return Xs(gn)},useDebugValue:bo,useDeferredValue:function(e,t){var i=Ve();return Id(i,Ne.memoizedState,e,t)},useTransition:function(){var e=Xs(gn)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:ha(e),t]},useSyncExternalStore:dd,useId:Gd,useHostTransitionStatus:Ao,useFormState:Nd,useActionState:Nd,useOptimistic:function(e,t){var i=Ve();return vd(i,Ne,e,t)},useMemoCache:po,useCacheRefresh:Yd};xo.useEffectEvent=Md;var Kd={readContext:ft,use:Qs,useCallback:Hd,useContext:ft,useEffect:So,useImperativeHandle:Ld,useInsertionEffect:Od,useLayoutEffect:zd,useMemo:Bd,useReducer:yo,useRef:Dd,useState:function(){return yo(gn)},useDebugValue:bo,useDeferredValue:function(e,t){var i=Ve();return Ne===null?Co(i,e,t):Id(i,Ne.memoizedState,e,t)},useTransition:function(){var e=yo(gn)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:ha(e),t]},useSyncExternalStore:dd,useId:Gd,useHostTransitionStatus:Ao,useFormState:Rd,useActionState:Rd,useOptimistic:function(e,t){var i=Ve();return Ne!==null?vd(i,Ne,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:po,useCacheRefresh:Yd};Kd.useEffectEvent=Md;function Ro(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:v({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Do={enqueueSetState:function(e,t,i){e=e._reactInternals;var a=jt(),r=Yn(a);r.payload=t,i!=null&&(r.callback=i),t=Vn(e,r,a),t!==null&&(Nt(t,e,a),ra(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=jt(),r=Yn(a);r.tag=1,r.payload=t,i!=null&&(r.callback=i),t=Vn(e,r,a),t!==null&&(Nt(t,e,a),ra(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=jt(),a=Yn(i);a.tag=2,t!=null&&(a.callback=t),t=Vn(e,a,i),t!==null&&(Nt(t,e,i),ra(t,e,i))}};function Fd(e,t,i,a,r,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,h):t.prototype&&t.prototype.isPureReactComponent?!ea(i,a)||!ea(r,c):!0}function Jd(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&Do.enqueueReplaceState(t,t.state,null)}function Di(e,t){var i=t;if("ref"in t){i={};for(var a in t)a!=="ref"&&(i[a]=t[a])}if(e=e.defaultProps){i===t&&(i=v({},i));for(var r in e)i[r]===void 0&&(i[r]=e[r])}return i}function Wd(e){xs(e)}function Pd(e){console.error(e)}function $d(e){xs(e)}function Js(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function em(e,t,i){try{var a=e.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function wo(e,t,i){return i=Yn(i),i.tag=3,i.payload={element:null},i.callback=function(){Js(e,t)},i}function tm(e){return e=Yn(e),e.tag=3,e}function nm(e,t,i,a){var r=i.type.getDerivedStateFromError;if(typeof r=="function"){var c=a.value;e.payload=function(){return r(c)},e.callback=function(){em(t,i,a)}}var h=i.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){em(t,i,a),typeof r!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var m=a.stack;this.componentDidCatch(a.value,{componentStack:m!==null?m:""})})}function e0(e,t,i,a,r){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=i.alternate,t!==null&&il(t,i,r,!0),i=Lt.current,i!==null){switch(i.tag){case 31:case 13:return Zt===null?ru():i.alternate===null&&ke===0&&(ke=3),i.flags&=-257,i.flags|=65536,i.lanes=r,a===Bs?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([a]):t.add(a),tc(e,a,r)),!1;case 22:return i.flags|=65536,a===Bs?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([a]):i.add(a)),tc(e,a,r)),!1}throw Error(u(435,i.tag))}return tc(e,a,r),ru(),!1}if(me)return t=Lt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,a!==Kr&&(e=Error(u(422),{cause:a}),ia(Yt(e,i)))):(a!==Kr&&(t=Error(u(423),{cause:a}),ia(Yt(t,i))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,a=Yt(a,i),r=wo(e.stateNode,a,r),ao(e,r),ke!==4&&(ke=2)),!1;var c=Error(u(520),{cause:a});if(c=Yt(c,i),ba===null?ba=[c]:ba.push(c),ke!==4&&(ke=2),t===null)return!0;a=Yt(a,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=r&-r,i.lanes|=e,e=wo(i.stateNode,a,e),ao(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Jn===null||!Jn.has(c))))return i.flags|=65536,r&=-r,i.lanes|=r,r=tm(r),nm(r,e,i,a),ao(i,r),!1}i=i.return}while(i!==null);return!1}var Mo=Error(u(461)),Ke=!1;function ht(e,t,i,a){t.child=e===null?sd(t,null,i,a):xi(t,e.child,i,a)}function im(e,t,i,a,r){i=i.render;var c=t.ref;if("ref"in a){var h={};for(var m in a)m!=="ref"&&(h[m]=a[m])}else h=a;return Ci(t),a=fo(e,t,i,h,c,r),m=ho(),e!==null&&!Ke?(mo(e,t,r),yn(e,t,r)):(me&&m&&Xr(t),t.flags|=1,ht(e,t,a,r),t.child)}function lm(e,t,i,a,r){if(e===null){var c=i.type;return typeof c=="function"&&!Yr(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,am(e,t,c,a,r)):(e=Ms(i.type,null,a,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!jo(e,r)){var h=c.memoizedProps;if(i=i.compare,i=i!==null?i:ea,i(h,a)&&e.ref===t.ref)return yn(e,t,r)}return t.flags|=1,e=hn(c,a),e.ref=t.ref,e.return=t,t.child=e}function am(e,t,i,a,r){if(e!==null){var c=e.memoizedProps;if(ea(c,a)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=a=c,jo(e,r))(e.flags&131072)!==0&&(Ke=!0);else return t.lanes=e.lanes,yn(e,t,r)}return Oo(e,t,i,a,r)}function sm(e,t,i,a){var r=a.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|i:i,e!==null){for(a=t.child=e.child,r=0;a!==null;)r=r|a.lanes|a.childLanes,a=a.sibling;a=r&~c}else a=0,t.child=null;return um(e,t,c,i,a)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ls(t,c!==null?c.cachePool:null),c!==null?od(t,c):uo(),cd(t);else return a=t.lanes=536870912,um(e,t,c!==null?c.baseLanes|i:i,i,a)}else c!==null?(Ls(t,c.cachePool),od(t,c),Xn(),t.memoizedState=null):(e!==null&&Ls(t,null),uo(),Xn());return ht(e,t,r,i),t.child}function _a(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function um(e,t,i,a,r){var c=to();return c=c===null?null:{parent:Xe._currentValue,pool:c},t.memoizedState={baseLanes:i,cachePool:c},e!==null&&Ls(t,null),uo(),cd(t),e!==null&&il(e,t,a,!0),t.childLanes=r,null}function Ws(e,t){return t=$s({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function rm(e,t,i){return xi(t,e.child,null,i),e=Ws(t,t.pendingProps),e.flags|=2,Ht(t),t.memoizedState=null,e}function t0(e,t,i){var a=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(me){if(a.mode==="hidden")return e=Ws(t,a),t.lanes=536870912,_a(null,e);if(oo(t),(e=ze)?(e=E_(e,Xt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:In!==null?{id:ln,overflow:an}:null,retryLane:536870912,hydrationErrors:null},i=Qh(e),i.return=t,t.child=i,ct=t,ze=null)):e=null,e===null)throw kn(t);return t.lanes=536870912,null}return Ws(t,a)}var c=e.memoizedState;if(c!==null){var h=c.dehydrated;if(oo(t),r)if(t.flags&256)t.flags&=-257,t=rm(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(u(558));else if(Ke||il(e,t,i,!1),r=(i&e.childLanes)!==0,Ke||r){if(a=De,a!==null&&(h=Pf(a,i),h!==0&&h!==c.retryLane))throw c.retryLane=h,vi(e,h),Nt(a,e,h),Mo;ru(),t=rm(e,t,i)}else e=c.treeContext,ze=Kt(h.nextSibling),ct=t,me=!0,jn=null,Xt=!1,e!==null&&Kh(t,e),t=Ws(t,a),t.flags|=4096;return t}return e=hn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ps(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(u(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Oo(e,t,i,a,r){return Ci(t),i=fo(e,t,i,a,void 0,r),a=ho(),e!==null&&!Ke?(mo(e,t,r),yn(e,t,r)):(me&&a&&Xr(t),t.flags|=1,ht(e,t,i,r),t.child)}function om(e,t,i,a,r,c){return Ci(t),t.updateQueue=null,i=hd(t,a,i,r),fd(e),a=ho(),e!==null&&!Ke?(mo(e,t,c),yn(e,t,c)):(me&&a&&Xr(t),t.flags|=1,ht(e,t,i,c),t.child)}function cm(e,t,i,a,r){if(Ci(t),t.stateNode===null){var c=$i,h=i.contextType;typeof h=="object"&&h!==null&&(c=ft(h)),c=new i(a,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Do,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=a,c.state=t.memoizedState,c.refs={},io(t),h=i.contextType,c.context=typeof h=="object"&&h!==null?ft(h):$i,c.state=t.memoizedState,h=i.getDerivedStateFromProps,typeof h=="function"&&(Ro(t,i,h,a),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(h=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),h!==c.state&&Do.enqueueReplaceState(c,c.state,null),ca(t,a,c,r),oa(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){c=t.stateNode;var m=t.memoizedProps,y=Di(i,m);c.props=y;var N=c.context,w=i.contextType;h=$i,typeof w=="object"&&w!==null&&(h=ft(w));var z=i.getDerivedStateFromProps;w=typeof z=="function"||typeof c.getSnapshotBeforeUpdate=="function",m=t.pendingProps!==m,w||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m||N!==h)&&Jd(t,c,a,h),Gn=!1;var x=t.memoizedState;c.state=x,ca(t,a,c,r),oa(),N=t.memoizedState,m||x!==N||Gn?(typeof z=="function"&&(Ro(t,i,z,a),N=t.memoizedState),(y=Gn||Fd(t,i,y,a,x,N,h))?(w||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=N),c.props=a,c.state=N,c.context=h,a=y):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{c=t.stateNode,lo(e,t),h=t.memoizedProps,w=Di(i,h),c.props=w,z=t.pendingProps,x=c.context,N=i.contextType,y=$i,typeof N=="object"&&N!==null&&(y=ft(N)),m=i.getDerivedStateFromProps,(N=typeof m=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==z||x!==y)&&Jd(t,c,a,y),Gn=!1,x=t.memoizedState,c.state=x,ca(t,a,c,r),oa();var R=t.memoizedState;h!==z||x!==R||Gn||e!==null&&e.dependencies!==null&&zs(e.dependencies)?(typeof m=="function"&&(Ro(t,i,m,a),R=t.memoizedState),(w=Gn||Fd(t,i,w,a,x,R,y)||e!==null&&e.dependencies!==null&&zs(e.dependencies))?(N||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(a,R,y),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(a,R,y)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=R),c.props=a,c.state=R,c.context=y,a=w):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),a=!1)}return c=a,Ps(e,t),a=(t.flags&128)!==0,c||a?(c=t.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&a?(t.child=xi(t,e.child,null,r),t.child=xi(t,null,i,r)):ht(e,t,i,r),t.memoizedState=c.state,e=t.child):e=yn(e,t,r),e}function fm(e,t,i,a){return Si(),t.flags|=256,ht(e,t,i,a),t.child}var zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uo(e){return{baseLanes:e,cachePool:ed()}}function Lo(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=It),e}function hm(e,t,i){var a=t.pendingProps,r=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),h&&(r=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(me){if(r?Qn(t):Xn(),(e=ze)?(e=E_(e,Xt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:In!==null?{id:ln,overflow:an}:null,retryLane:536870912,hydrationErrors:null},i=Qh(e),i.return=t,t.child=i,ct=t,ze=null)):e=null,e===null)throw kn(t);return gc(e)?t.lanes=32:t.lanes=536870912,null}var m=a.children;return a=a.fallback,r?(Xn(),r=t.mode,m=$s({mode:"hidden",children:m},r),a=Ei(a,r,i,null),m.return=t,a.return=t,m.sibling=a,t.child=m,a=t.child,a.memoizedState=Uo(i),a.childLanes=Lo(e,h,i),t.memoizedState=zo,_a(null,a)):(Qn(t),Ho(t,m))}var y=e.memoizedState;if(y!==null&&(m=y.dehydrated,m!==null)){if(c)t.flags&256?(Qn(t),t.flags&=-257,t=Bo(e,t,i)):t.memoizedState!==null?(Xn(),t.child=e.child,t.flags|=128,t=null):(Xn(),m=a.fallback,r=t.mode,a=$s({mode:"visible",children:a.children},r),m=Ei(m,r,i,null),m.flags|=2,a.return=t,m.return=t,a.sibling=m,t.child=a,xi(t,e.child,null,i),a=t.child,a.memoizedState=Uo(i),a.childLanes=Lo(e,h,i),t.memoizedState=zo,t=_a(null,a));else if(Qn(t),gc(m)){if(h=m.nextSibling&&m.nextSibling.dataset,h)var N=h.dgst;h=N,a=Error(u(419)),a.stack="",a.digest=h,ia({value:a,source:null,stack:null}),t=Bo(e,t,i)}else if(Ke||il(e,t,i,!1),h=(i&e.childLanes)!==0,Ke||h){if(h=De,h!==null&&(a=Pf(h,i),a!==0&&a!==y.retryLane))throw y.retryLane=a,vi(e,a),Nt(h,e,a),Mo;pc(m)||ru(),t=Bo(e,t,i)}else pc(m)?(t.flags|=192,t.child=e.child,t=null):(e=y.treeContext,ze=Kt(m.nextSibling),ct=t,me=!0,jn=null,Xt=!1,e!==null&&Kh(t,e),t=Ho(t,a.children),t.flags|=4096);return t}return r?(Xn(),m=a.fallback,r=t.mode,y=e.child,N=y.sibling,a=hn(y,{mode:"hidden",children:a.children}),a.subtreeFlags=y.subtreeFlags&65011712,N!==null?m=hn(N,m):(m=Ei(m,r,i,null),m.flags|=2),m.return=t,a.return=t,a.sibling=m,t.child=a,_a(null,a),a=t.child,m=e.child.memoizedState,m===null?m=Uo(i):(r=m.cachePool,r!==null?(y=Xe._currentValue,r=r.parent!==y?{parent:y,pool:y}:r):r=ed(),m={baseLanes:m.baseLanes|i,cachePool:r}),a.memoizedState=m,a.childLanes=Lo(e,h,i),t.memoizedState=zo,_a(e.child,a)):(Qn(t),i=e.child,e=i.sibling,i=hn(i,{mode:"visible",children:a.children}),i.return=t,i.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=i,t.memoizedState=null,i)}function Ho(e,t){return t=$s({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function $s(e,t){return e=Ut(22,e,null,t),e.lanes=0,e}function Bo(e,t,i){return xi(t,e.child,null,i),e=Ho(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dm(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Wr(e.return,t,i)}function Io(e,t,i,a,r,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:r,treeForkCount:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=i,h.tailMode=r,h.treeForkCount=c)}function mm(e,t,i){var a=t.pendingProps,r=a.revealOrder,c=a.tail;a=a.children;var h=Ye.current,m=(h&2)!==0;if(m?(h=h&1|2,t.flags|=128):h&=1,H(Ye,h),ht(e,t,a,i),a=me?na:0,!m&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dm(e,i,t);else if(e.tag===19)dm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(i=t.child,r=null;i!==null;)e=i.alternate,e!==null&&qs(e)===null&&(r=i),i=i.sibling;i=r,i===null?(r=t.child,t.child=null):(r=i.sibling,i.sibling=null),Io(t,!1,r,i,c,a);break;case"backwards":case"unstable_legacy-backwards":for(i=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&qs(e)===null){t.child=r;break}e=r.sibling,r.sibling=i,i=r,r=e}Io(t,!0,i,null,c,a);break;case"together":Io(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function yn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Fn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(il(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,i=hn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=hn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function jo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&zs(e)))}function n0(e,t,i){switch(t.tag){case 3:Je(t,t.stateNode.containerInfo),qn(t,Xe,e.memoizedState.cache),Si();break;case 27:case 5:ql(t);break;case 4:Je(t,t.stateNode.containerInfo);break;case 10:qn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,oo(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Qn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?hm(e,t,i):(Qn(t),e=yn(e,t,i),e!==null?e.sibling:null);Qn(t);break;case 19:var r=(e.flags&128)!==0;if(a=(i&t.childLanes)!==0,a||(il(e,t,i,!1),a=(i&t.childLanes)!==0),r){if(a)return mm(e,t,i);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),H(Ye,Ye.current),a)break;return null;case 22:return t.lanes=0,sm(e,t,i,t.pendingProps);case 24:qn(t,Xe,e.memoizedState.cache)}return yn(e,t,i)}function _m(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ke=!0;else{if(!jo(e,i)&&(t.flags&128)===0)return Ke=!1,n0(e,t,i);Ke=(e.flags&131072)!==0}else Ke=!1,me&&(t.flags&1048576)!==0&&Zh(t,na,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ai(t.elementType),t.type=e,typeof e=="function")Yr(e)?(a=Di(e,a),t.tag=1,t=cm(null,t,e,a,i)):(t.tag=0,t=Oo(null,t,e,a,i));else{if(e!=null){var r=e.$$typeof;if(r===se){t.tag=11,t=im(null,t,e,a,i);break e}else if(r===le){t.tag=14,t=lm(null,t,e,a,i);break e}}throw t=W(e)||e,Error(u(306,t,""))}}return t;case 0:return Oo(e,t,t.type,t.pendingProps,i);case 1:return a=t.type,r=Di(a,t.pendingProps),cm(e,t,a,r,i);case 3:e:{if(Je(t,t.stateNode.containerInfo),e===null)throw Error(u(387));a=t.pendingProps;var c=t.memoizedState;r=c.element,lo(e,t),ca(t,a,null,i);var h=t.memoizedState;if(a=h.cache,qn(t,Xe,a),a!==c.cache&&Pr(t,[Xe],i,!0),oa(),a=h.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=fm(e,t,a,i);break e}else if(a!==r){r=Yt(Error(u(424)),t),ia(r),t=fm(e,t,a,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ze=Kt(e.firstChild),ct=t,me=!0,jn=null,Xt=!0,i=sd(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Si(),a===r){t=yn(e,t,i);break e}ht(e,t,a,i)}t=t.child}return t;case 26:return Ps(e,t),e===null?(i=N_(t.type,null,t.pendingProps,null))?t.memoizedState=i:me||(i=t.type,e=t.pendingProps,a=_u($.current).createElement(i),a[ot]=t,a[Et]=e,dt(a,i,e),it(a),t.stateNode=a):t.memoizedState=N_(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ql(t),e===null&&me&&(a=t.stateNode=C_(t.type,t.pendingProps,$.current),ct=t,Xt=!0,r=ze,ei(t.type)?(yc=r,ze=Kt(a.firstChild)):ze=r),ht(e,t,t.pendingProps.children,i),Ps(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&me&&((r=a=ze)&&(a=O0(a,t.type,t.pendingProps,Xt),a!==null?(t.stateNode=a,ct=t,ze=Kt(a.firstChild),Xt=!1,r=!0):r=!1),r||kn(t)),ql(t),r=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,a=c.children,dc(r,c)?a=null:h!==null&&dc(r,h)&&(t.flags|=32),t.memoizedState!==null&&(r=fo(e,t,Zv,null,null,i),wa._currentValue=r),Ps(e,t),ht(e,t,a,i),t.child;case 6:return e===null&&me&&((e=i=ze)&&(i=z0(i,t.pendingProps,Xt),i!==null?(t.stateNode=i,ct=t,ze=null,e=!0):e=!1),e||kn(t)),null;case 13:return hm(e,t,i);case 4:return Je(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=xi(t,null,a,i):ht(e,t,a,i),t.child;case 11:return im(e,t,t.type,t.pendingProps,i);case 7:return ht(e,t,t.pendingProps,i),t.child;case 8:return ht(e,t,t.pendingProps.children,i),t.child;case 12:return ht(e,t,t.pendingProps.children,i),t.child;case 10:return a=t.pendingProps,qn(t,t.type,a.value),ht(e,t,a.children,i),t.child;case 9:return r=t.type._context,a=t.pendingProps.children,Ci(t),r=ft(r),a=a(r),t.flags|=1,ht(e,t,a,i),t.child;case 14:return lm(e,t,t.type,t.pendingProps,i);case 15:return am(e,t,t.type,t.pendingProps,i);case 19:return mm(e,t,i);case 31:return t0(e,t,i);case 22:return sm(e,t,i,t.pendingProps);case 24:return Ci(t),a=ft(Xe),e===null?(r=to(),r===null&&(r=De,c=$r(),r.pooledCache=c,c.refCount++,c!==null&&(r.pooledCacheLanes|=i),r=c),t.memoizedState={parent:a,cache:r},io(t),qn(t,Xe,r)):((e.lanes&i)!==0&&(lo(e,t),ca(t,null,null,i),oa()),r=e.memoizedState,c=t.memoizedState,r.parent!==a?(r={parent:a,cache:a},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),qn(t,Xe,a)):(a=c.cache,qn(t,Xe,a),a!==r.cache&&Pr(t,[Xe],i,!0))),ht(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function vn(e){e.flags|=4}function ko(e,t,i,a,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(Gm())e.flags|=8192;else throw Ni=Bs,no}else e.flags&=-16777217}function pm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!M_(t))if(Gm())e.flags|=8192;else throw Ni=Bs,no}function eu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ff():536870912,e.lanes|=t,_l|=t)}function pa(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var r=e.child;r!==null;)i|=r.lanes|r.childLanes,a|=r.subtreeFlags&65011712,a|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)i|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function i0(e,t,i){var a=t.pendingProps;switch(Zr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return Ue(t),null;case 3:return i=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),_n(Xe),Ge(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(nl(t)?vn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Fr())),Ue(t),null;case 26:var r=t.type,c=t.memoizedState;return e===null?(vn(t),c!==null?(Ue(t),pm(t,c)):(Ue(t),ko(t,r,null,a,i))):c?c!==e.memoizedState?(vn(t),Ue(t),pm(t,c)):(Ue(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&vn(t),Ue(t),ko(t,r,e,a,i)),null;case 27:if(fs(t),i=$.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&vn(t);else{if(!a){if(t.stateNode===null)throw Error(u(166));return Ue(t),null}e=q.current,nl(t)?Fh(t):(e=C_(r,a,i),t.stateNode=e,vn(t))}return Ue(t),null;case 5:if(fs(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&vn(t);else{if(!a){if(t.stateNode===null)throw Error(u(166));return Ue(t),null}if(c=q.current,nl(t))Fh(t);else{var h=_u($.current);switch(c){case 1:c=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:c=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":c=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":c=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":c=h.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof a.is=="string"?h.createElement("select",{is:a.is}):h.createElement("select"),a.multiple?c.multiple=!0:a.size&&(c.size=a.size);break;default:c=typeof a.is=="string"?h.createElement(r,{is:a.is}):h.createElement(r)}}c[ot]=t,c[Et]=a;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)c.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=c;e:switch(dt(c,r,a),r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&vn(t)}}return Ue(t),ko(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&vn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(u(166));if(e=$.current,nl(t)){if(e=t.stateNode,i=t.memoizedProps,a=null,r=ct,r!==null)switch(r.tag){case 27:case 5:a=r.memoizedProps}e[ot]=t,e=!!(e.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||h_(e.nodeValue,i)),e||kn(t,!0)}else e=_u(e).createTextNode(a),e[ot]=t,t.stateNode=e}return Ue(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(a=nl(t),i!==null){if(e===null){if(!a)throw Error(u(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(557));e[ot]=t}else Si(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ue(t),e=!1}else i=Fr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Ht(t),t):(Ht(t),null);if((t.flags&128)!==0)throw Error(u(558))}return Ue(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=nl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!r)throw Error(u(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(u(317));r[ot]=t}else Si(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ue(t),r=!1}else r=Fr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Ht(t),t):(Ht(t),null)}return Ht(t),(t.flags&128)!==0?(t.lanes=i,t):(i=a!==null,e=e!==null&&e.memoizedState!==null,i&&(a=t.child,r=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(r=a.alternate.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==r&&(a.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),eu(t,t.updateQueue),Ue(t),null);case 4:return Ge(),e===null&&rc(t.stateNode.containerInfo),Ue(t),null;case 10:return _n(t.type),Ue(t),null;case 19:if(M(Ye),a=t.memoizedState,a===null)return Ue(t),null;if(r=(t.flags&128)!==0,c=a.rendering,c===null)if(r)pa(a,!1);else{if(ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=qs(e),c!==null){for(t.flags|=128,pa(a,!1),e=c.updateQueue,t.updateQueue=e,eu(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Vh(i,e),i=i.sibling;return H(Ye,Ye.current&1|2),me&&dn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&wt()>au&&(t.flags|=128,r=!0,pa(a,!1),t.lanes=4194304)}else{if(!r)if(e=qs(c),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,eu(t,e),pa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!me)return Ue(t),null}else 2*wt()-a.renderingStartTime>au&&i!==536870912&&(t.flags|=128,r=!0,pa(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(e=a.last,e!==null?e.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=wt(),e.sibling=null,i=Ye.current,H(Ye,r?i&1|2:i&1),me&&dn(t,a.treeForkCount),e):(Ue(t),null);case 22:case 23:return Ht(t),ro(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(i&536870912)!==0&&(t.flags&128)===0&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),i=t.updateQueue,i!==null&&eu(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==i&&(t.flags|=2048),e!==null&&M(Ti),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),_n(Xe),Ue(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function l0(e,t){switch(Zr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _n(Xe),Ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return fs(t),null;case 31:if(t.memoizedState!==null){if(Ht(t),t.alternate===null)throw Error(u(340));Si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ht(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));Si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return M(Ye),null;case 4:return Ge(),null;case 10:return _n(t.type),null;case 22:case 23:return Ht(t),ro(),e!==null&&M(Ti),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return _n(Xe),null;case 25:return null;default:return null}}function gm(e,t){switch(Zr(t),t.tag){case 3:_n(Xe),Ge();break;case 26:case 27:case 5:fs(t);break;case 4:Ge();break;case 31:t.memoizedState!==null&&Ht(t);break;case 13:Ht(t);break;case 19:M(Ye);break;case 10:_n(t.type);break;case 22:case 23:Ht(t),ro(),e!==null&&M(Ti);break;case 24:_n(Xe)}}function ga(e,t){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var r=a.next;i=r;do{if((i.tag&e)===e){a=void 0;var c=i.create,h=i.inst;a=c(),h.destroy=a}i=i.next}while(i!==r)}}catch(m){Te(t,t.return,m)}}function Zn(e,t,i){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var c=r.next;a=c;do{if((a.tag&e)===e){var h=a.inst,m=h.destroy;if(m!==void 0){h.destroy=void 0,r=t;var y=i,N=m;try{N()}catch(w){Te(r,y,w)}}}a=a.next}while(a!==c)}}catch(w){Te(t,t.return,w)}}function ym(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{rd(t,i)}catch(a){Te(e,e.return,a)}}}function vm(e,t,i){i.props=Di(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(a){Te(e,t,a)}}function ya(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof i=="function"?e.refCleanup=i(a):i.current=a}}catch(r){Te(e,t,r)}}function sn(e,t){var i=e.ref,a=e.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(r){Te(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(r){Te(e,t,r)}else i.current=null}function Em(e){var t=e.type,i=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break e;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(r){Te(e,e.return,r)}}function qo(e,t,i){try{var a=e.stateNode;N0(a,e.type,i,t),a[Et]=t}catch(r){Te(e,e.return,r)}}function Sm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ei(e.type)||e.tag===4}function Go(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ei(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yo(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=cn));else if(a!==4&&(a===27&&ei(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Yo(e,t,i),e=e.sibling;e!==null;)Yo(e,t,i),e=e.sibling}function tu(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(a===27&&ei(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(tu(e,t,i),e=e.sibling;e!==null;)tu(e,t,i),e=e.sibling}function bm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var a=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);dt(t,a,i),t[ot]=e,t[Et]=i}catch(c){Te(e,e.return,c)}}var En=!1,Fe=!1,Vo=!1,Cm=typeof WeakSet=="function"?WeakSet:Set,lt=null;function a0(e,t){if(e=e.containerInfo,fc=bu,e=Lh(e),Hr(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var r=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var h=0,m=-1,y=-1,N=0,w=0,z=e,x=null;t:for(;;){for(var R;z!==i||r!==0&&z.nodeType!==3||(m=h+r),z!==c||a!==0&&z.nodeType!==3||(y=h+a),z.nodeType===3&&(h+=z.nodeValue.length),(R=z.firstChild)!==null;)x=z,z=R;for(;;){if(z===e)break t;if(x===i&&++N===r&&(m=h),x===c&&++w===a&&(y=h),(R=z.nextSibling)!==null)break;z=x,x=z.parentNode}z=R}i=m===-1||y===-1?null:{start:m,end:y}}else i=null}i=i||{start:0,end:0}}else i=null;for(hc={focusedElem:e,selectionRange:i},bu=!1,lt=t;lt!==null;)if(t=lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,lt=e;else for(;lt!==null;){switch(t=lt,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)r=e[i],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,i=t,r=c.memoizedProps,c=c.memoizedState,a=i.stateNode;try{var G=Di(i.type,r);e=a.getSnapshotBeforeUpdate(G,c),a.__reactInternalSnapshotBeforeUpdate=e}catch(X){Te(i,i.return,X)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)_c(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_c(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,lt=e;break}lt=t.return}}function Tm(e,t,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:bn(e,i),a&4&&ga(5,i);break;case 1:if(bn(e,i),a&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(h){Te(i,i.return,h)}else{var r=Di(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Te(i,i.return,h)}}a&64&&ym(i),a&512&&ya(i,i.return);break;case 3:if(bn(e,i),a&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{rd(e,t)}catch(h){Te(i,i.return,h)}}break;case 27:t===null&&a&4&&bm(i);case 26:case 5:bn(e,i),t===null&&a&4&&Em(i),a&512&&ya(i,i.return);break;case 12:bn(e,i);break;case 31:bn(e,i),a&4&&xm(e,i);break;case 13:bn(e,i),a&4&&Rm(e,i),a&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=m0.bind(null,i),U0(e,i))));break;case 22:if(a=i.memoizedState!==null||En,!a){t=t!==null&&t.memoizedState!==null||Fe,r=En;var c=Fe;En=a,(Fe=t)&&!c?Cn(e,i,(i.subtreeFlags&8772)!==0):bn(e,i),En=r,Fe=c}break;case 30:break;default:bn(e,i)}}function Am(e){var t=e.alternate;t!==null&&(e.alternate=null,Am(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&vr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,bt=!1;function Sn(e,t,i){for(i=i.child;i!==null;)Nm(e,t,i),i=i.sibling}function Nm(e,t,i){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Gl,i)}catch{}switch(i.tag){case 26:Fe||sn(i,t),Sn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Fe||sn(i,t);var a=He,r=bt;ei(i.type)&&(He=i.stateNode,bt=!1),Sn(e,t,i),xa(i.stateNode),He=a,bt=r;break;case 5:Fe||sn(i,t);case 6:if(a=He,r=bt,He=null,Sn(e,t,i),He=a,bt=r,He!==null)if(bt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(i.stateNode)}catch(c){Te(i,t,c)}else try{He.removeChild(i.stateNode)}catch(c){Te(i,t,c)}break;case 18:He!==null&&(bt?(e=He,y_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Cl(e)):y_(He,i.stateNode));break;case 4:a=He,r=bt,He=i.stateNode.containerInfo,bt=!0,Sn(e,t,i),He=a,bt=r;break;case 0:case 11:case 14:case 15:Zn(2,i,t),Fe||Zn(4,i,t),Sn(e,t,i);break;case 1:Fe||(sn(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"&&vm(i,t,a)),Sn(e,t,i);break;case 21:Sn(e,t,i);break;case 22:Fe=(a=Fe)||i.memoizedState!==null,Sn(e,t,i),Fe=a;break;default:Sn(e,t,i)}}function xm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Cl(e)}catch(i){Te(t,t.return,i)}}}function Rm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Cl(e)}catch(i){Te(t,t.return,i)}}function s0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Cm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Cm),t;default:throw Error(u(435,e.tag))}}function nu(e,t){var i=s0(e);t.forEach(function(a){if(!i.has(a)){i.add(a);var r=_0.bind(null,e,a);a.then(r,r)}})}function Ct(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var r=i[a],c=e,h=t,m=h;e:for(;m!==null;){switch(m.tag){case 27:if(ei(m.type)){He=m.stateNode,bt=!1;break e}break;case 5:He=m.stateNode,bt=!1;break e;case 3:case 4:He=m.stateNode.containerInfo,bt=!0;break e}m=m.return}if(He===null)throw Error(u(160));Nm(c,h,r),He=null,bt=!1,c=r.alternate,c!==null&&(c.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Dm(t,e),t=t.sibling}var Wt=null;function Dm(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ct(t,e),Tt(e),a&4&&(Zn(3,e,e.return),ga(3,e),Zn(5,e,e.return));break;case 1:Ct(t,e),Tt(e),a&512&&(Fe||i===null||sn(i,i.return)),a&64&&En&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var r=Wt;if(Ct(t,e),Tt(e),a&512&&(Fe||i===null||sn(i,i.return)),a&4){var c=i!==null?i.memoizedState:null;if(a=e.memoizedState,i===null)if(a===null)if(e.stateNode===null){e:{a=e.type,i=e.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":c=r.getElementsByTagName("title")[0],(!c||c[Ql]||c[ot]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=r.createElement(a),r.head.insertBefore(c,r.querySelector("head > title"))),dt(c,a,i),c[ot]=e,it(c),a=c;break e;case"link":var h=D_("link","href",r).get(a+(i.href||""));if(h){for(var m=0;m<h.length;m++)if(c=h[m],c.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){h.splice(m,1);break t}}c=r.createElement(a),dt(c,a,i),r.head.appendChild(c);break;case"meta":if(h=D_("meta","content",r).get(a+(i.content||""))){for(m=0;m<h.length;m++)if(c=h[m],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){h.splice(m,1);break t}}c=r.createElement(a),dt(c,a,i),r.head.appendChild(c);break;default:throw Error(u(468,a))}c[ot]=e,it(c),a=c}e.stateNode=a}else w_(r,e.type,e.stateNode);else e.stateNode=R_(r,a,e.memoizedProps);else c!==a?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,a===null?w_(r,e.type,e.stateNode):R_(r,a,e.memoizedProps)):a===null&&e.stateNode!==null&&qo(e,e.memoizedProps,i.memoizedProps)}break;case 27:Ct(t,e),Tt(e),a&512&&(Fe||i===null||sn(i,i.return)),i!==null&&a&4&&qo(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Ct(t,e),Tt(e),a&512&&(Fe||i===null||sn(i,i.return)),e.flags&32){r=e.stateNode;try{Xi(r,"")}catch(G){Te(e,e.return,G)}}a&4&&e.stateNode!=null&&(r=e.memoizedProps,qo(e,r,i!==null?i.memoizedProps:r)),a&1024&&(Vo=!0);break;case 6:if(Ct(t,e),Tt(e),a&4){if(e.stateNode===null)throw Error(u(162));a=e.memoizedProps,i=e.stateNode;try{i.nodeValue=a}catch(G){Te(e,e.return,G)}}break;case 3:if(yu=null,r=Wt,Wt=pu(t.containerInfo),Ct(t,e),Wt=r,Tt(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Cl(t.containerInfo)}catch(G){Te(e,e.return,G)}Vo&&(Vo=!1,wm(e));break;case 4:a=Wt,Wt=pu(e.stateNode.containerInfo),Ct(t,e),Tt(e),Wt=a;break;case 12:Ct(t,e),Tt(e);break;case 31:Ct(t,e),Tt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,nu(e,a)));break;case 13:Ct(t,e),Tt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(lu=wt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,nu(e,a)));break;case 22:r=e.memoizedState!==null;var y=i!==null&&i.memoizedState!==null,N=En,w=Fe;if(En=N||r,Fe=w||y,Ct(t,e),Fe=w,En=N,Tt(e),a&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(i===null||y||En||Fe||wi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){y=i=t;try{if(c=y.stateNode,r)h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{m=y.stateNode;var z=y.memoizedProps.style,x=z!=null&&z.hasOwnProperty("display")?z.display:null;m.style.display=x==null||typeof x=="boolean"?"":(""+x).trim()}}catch(G){Te(y,y.return,G)}}}else if(t.tag===6){if(i===null){y=t;try{y.stateNode.nodeValue=r?"":y.memoizedProps}catch(G){Te(y,y.return,G)}}}else if(t.tag===18){if(i===null){y=t;try{var R=y.stateNode;r?v_(R,!0):v_(y.stateNode,!1)}catch(G){Te(y,y.return,G)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,nu(e,i))));break;case 19:Ct(t,e),Tt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,nu(e,a)));break;case 30:break;case 21:break;default:Ct(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{for(var i,a=e.return;a!==null;){if(Sm(a)){i=a;break}a=a.return}if(i==null)throw Error(u(160));switch(i.tag){case 27:var r=i.stateNode,c=Go(e);tu(e,c,r);break;case 5:var h=i.stateNode;i.flags&32&&(Xi(h,""),i.flags&=-33);var m=Go(e);tu(e,m,h);break;case 3:case 4:var y=i.stateNode.containerInfo,N=Go(e);Yo(e,N,y);break;default:throw Error(u(161))}}catch(w){Te(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;wm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function bn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Tm(e,t.alternate,t),t=t.sibling}function wi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Zn(4,t,t.return),wi(t);break;case 1:sn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&vm(t,t.return,i),wi(t);break;case 27:xa(t.stateNode);case 26:case 5:sn(t,t.return),wi(t);break;case 22:t.memoizedState===null&&wi(t);break;case 30:wi(t);break;default:wi(t)}e=e.sibling}}function Cn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,r=e,c=t,h=c.flags;switch(c.tag){case 0:case 11:case 15:Cn(r,c,i),ga(4,c);break;case 1:if(Cn(r,c,i),a=c,r=a.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(N){Te(a,a.return,N)}if(a=c,r=a.updateQueue,r!==null){var m=a.stateNode;try{var y=r.shared.hiddenCallbacks;if(y!==null)for(r.shared.hiddenCallbacks=null,r=0;r<y.length;r++)ud(y[r],m)}catch(N){Te(a,a.return,N)}}i&&h&64&&ym(c),ya(c,c.return);break;case 27:bm(c);case 26:case 5:Cn(r,c,i),i&&a===null&&h&4&&Em(c),ya(c,c.return);break;case 12:Cn(r,c,i);break;case 31:Cn(r,c,i),i&&h&4&&xm(r,c);break;case 13:Cn(r,c,i),i&&h&4&&Rm(r,c);break;case 22:c.memoizedState===null&&Cn(r,c,i),ya(c,c.return);break;case 30:break;default:Cn(r,c,i)}t=t.sibling}}function Qo(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&la(i))}function Xo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&la(e))}function Pt(e,t,i,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Mm(e,t,i,a),t=t.sibling}function Mm(e,t,i,a){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Pt(e,t,i,a),r&2048&&ga(9,t);break;case 1:Pt(e,t,i,a);break;case 3:Pt(e,t,i,a),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&la(e)));break;case 12:if(r&2048){Pt(e,t,i,a),e=t.stateNode;try{var c=t.memoizedProps,h=c.id,m=c.onPostCommit;typeof m=="function"&&m(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(y){Te(t,t.return,y)}}else Pt(e,t,i,a);break;case 31:Pt(e,t,i,a);break;case 13:Pt(e,t,i,a);break;case 23:break;case 22:c=t.stateNode,h=t.alternate,t.memoizedState!==null?c._visibility&2?Pt(e,t,i,a):va(e,t):c._visibility&2?Pt(e,t,i,a):(c._visibility|=2,hl(e,t,i,a,(t.subtreeFlags&10256)!==0||!1)),r&2048&&Qo(h,t);break;case 24:Pt(e,t,i,a),r&2048&&Xo(t.alternate,t);break;default:Pt(e,t,i,a)}}function hl(e,t,i,a,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,h=t,m=i,y=a,N=h.flags;switch(h.tag){case 0:case 11:case 15:hl(c,h,m,y,r),ga(8,h);break;case 23:break;case 22:var w=h.stateNode;h.memoizedState!==null?w._visibility&2?hl(c,h,m,y,r):va(c,h):(w._visibility|=2,hl(c,h,m,y,r)),r&&N&2048&&Qo(h.alternate,h);break;case 24:hl(c,h,m,y,r),r&&N&2048&&Xo(h.alternate,h);break;default:hl(c,h,m,y,r)}t=t.sibling}}function va(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,a=t,r=a.flags;switch(a.tag){case 22:va(i,a),r&2048&&Qo(a.alternate,a);break;case 24:va(i,a),r&2048&&Xo(a.alternate,a);break;default:va(i,a)}t=t.sibling}}var Ea=8192;function dl(e,t,i){if(e.subtreeFlags&Ea)for(e=e.child;e!==null;)Om(e,t,i),e=e.sibling}function Om(e,t,i){switch(e.tag){case 26:dl(e,t,i),e.flags&Ea&&e.memoizedState!==null&&X0(i,Wt,e.memoizedState,e.memoizedProps);break;case 5:dl(e,t,i);break;case 3:case 4:var a=Wt;Wt=pu(e.stateNode.containerInfo),dl(e,t,i),Wt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Ea,Ea=16777216,dl(e,t,i),Ea=a):dl(e,t,i));break;default:dl(e,t,i)}}function zm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Sa(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];lt=a,Lm(a,e)}zm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Um(e),e=e.sibling}function Um(e){switch(e.tag){case 0:case 11:case 15:Sa(e),e.flags&2048&&Zn(9,e,e.return);break;case 3:Sa(e);break;case 12:Sa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,iu(e)):Sa(e);break;default:Sa(e)}}function iu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];lt=a,Lm(a,e)}zm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Zn(8,t,t.return),iu(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,iu(t));break;default:iu(t)}e=e.sibling}}function Lm(e,t){for(;lt!==null;){var i=lt;switch(i.tag){case 0:case 11:case 15:Zn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:la(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,lt=a;else e:for(i=e;lt!==null;){a=lt;var r=a.sibling,c=a.return;if(Am(a),a===i){lt=null;break e}if(r!==null){r.return=c,lt=r;break e}lt=c}}}var u0={getCacheForType:function(e){var t=ft(Xe),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return ft(Xe).controller.signal}},r0=typeof WeakMap=="function"?WeakMap:Map,Se=0,De=null,ue=null,fe=0,Ce=0,Bt=null,Kn=!1,ml=!1,Zo=!1,Tn=0,ke=0,Fn=0,Mi=0,Ko=0,It=0,_l=0,ba=null,At=null,Fo=!1,lu=0,Hm=0,au=1/0,su=null,Jn=null,We=0,Wn=null,pl=null,An=0,Jo=0,Wo=null,Bm=null,Ca=0,Po=null;function jt(){return(Se&2)!==0&&fe!==0?fe&-fe:D.T!==null?lc():$f()}function Im(){if(It===0)if((fe&536870912)===0||me){var e=ms;ms<<=1,(ms&3932160)===0&&(ms=262144),It=e}else It=536870912;return e=Lt.current,e!==null&&(e.flags|=32),It}function Nt(e,t,i){(e===De&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(gl(e,0),Pn(e,fe,It,!1)),Vl(e,i),((Se&2)===0||e!==De)&&(e===De&&((Se&2)===0&&(Mi|=i),ke===4&&Pn(e,fe,It,!1)),un(e))}function jm(e,t,i){if((Se&6)!==0)throw Error(u(327));var a=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Yl(e,t),r=a?f0(e,t):ec(e,t,!0),c=a;do{if(r===0){ml&&!a&&Pn(e,t,0,!1);break}else{if(i=e.current.alternate,c&&!o0(i)){r=ec(e,t,!1),c=!1;continue}if(r===2){if(c=t,e.errorRecoveryDisabledLanes&c)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var m=e;r=ba;var y=m.current.memoizedState.isDehydrated;if(y&&(gl(m,h).flags|=256),h=ec(m,h,!1),h!==2){if(Zo&&!y){m.errorRecoveryDisabledLanes|=c,Mi|=c,r=4;break e}c=At,At=r,c!==null&&(At===null?At=c:At.push.apply(At,c))}r=h}if(c=!1,r!==2)continue}}if(r===1){gl(e,0),Pn(e,t,0,!0);break}e:{switch(a=e,c=r,c){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:Pn(a,t,It,!Kn);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(r=lu+300-wt(),10<r)){if(Pn(a,t,It,!Kn),ps(a,0,!0)!==0)break e;An=t,a.timeoutHandle=p_(km.bind(null,a,i,At,su,Fo,t,It,Mi,_l,Kn,c,"Throttled",-0,0),r);break e}km(a,i,At,su,Fo,t,It,Mi,_l,Kn,c,null,-0,0)}}break}while(!0);un(e)}function km(e,t,i,a,r,c,h,m,y,N,w,z,x,R){if(e.timeoutHandle=-1,z=t.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cn},Om(t,c,z);var G=(c&62914560)===c?lu-wt():(c&4194048)===c?Hm-wt():0;if(G=Z0(z,G),G!==null){An=c,e.cancelPendingCommit=G(Km.bind(null,e,t,c,i,a,r,h,m,y,w,z,null,x,R)),Pn(e,c,h,!N);return}}Km(e,t,c,i,a,r,h,m,y)}function o0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var r=i[a],c=r.getSnapshot;r=r.value;try{if(!zt(c(),r))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t,i,a){t&=~Ko,t&=~Mi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var r=t;0<r;){var c=31-Ot(r),h=1<<c;a[c]=-1,r&=~h}i!==0&&Jf(e,i,t)}function uu(){return(Se&6)===0?(Ta(0),!1):!0}function $o(){if(ue!==null){if(Ce===0)var e=ue.return;else e=ue,mn=bi=null,_o(e),ul=null,sa=0,e=ue;for(;e!==null;)gm(e.alternate,e),e=e.return;ue=null}}function gl(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,D0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),An=0,$o(),De=e,ue=i=hn(e.current,null),fe=t,Ce=0,Bt=null,Kn=!1,ml=Yl(e,t),Zo=!1,_l=It=Ko=Mi=Fn=ke=0,At=ba=null,Fo=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var r=31-Ot(a),c=1<<r;t|=e[r],a&=~c}return Tn=t,Rs(),i}function qm(e,t){ee=null,D.H=ma,t===sl||t===Hs?(t=id(),Ce=3):t===no?(t=id(),Ce=4):Ce=t===Mo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Bt=t,ue===null&&(ke=1,Js(e,Yt(t,e.current)))}function Gm(){var e=Lt.current;return e===null?!0:(fe&4194048)===fe?Zt===null:(fe&62914560)===fe||(fe&536870912)!==0?e===Zt:!1}function Ym(){var e=D.H;return D.H=ma,e===null?ma:e}function Vm(){var e=D.A;return D.A=u0,e}function ru(){ke=4,Kn||(fe&4194048)!==fe&&Lt.current!==null||(ml=!0),(Fn&134217727)===0&&(Mi&134217727)===0||De===null||Pn(De,fe,It,!1)}function ec(e,t,i){var a=Se;Se|=2;var r=Ym(),c=Vm();(De!==e||fe!==t)&&(su=null,gl(e,t)),t=!1;var h=ke;e:do try{if(Ce!==0&&ue!==null){var m=ue,y=Bt;switch(Ce){case 8:$o(),h=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(t=!0);var N=Ce;if(Ce=0,Bt=null,yl(e,m,y,N),i&&ml){h=0;break e}break;default:N=Ce,Ce=0,Bt=null,yl(e,m,y,N)}}c0(),h=ke;break}catch(w){qm(e,w)}while(!0);return t&&e.shellSuspendCounter++,mn=bi=null,Se=a,D.H=r,D.A=c,ue===null&&(De=null,fe=0,Rs()),h}function c0(){for(;ue!==null;)Qm(ue)}function f0(e,t){var i=Se;Se|=2;var a=Ym(),r=Vm();De!==e||fe!==t?(su=null,au=wt()+500,gl(e,t)):ml=Yl(e,t);e:do try{if(Ce!==0&&ue!==null){t=ue;var c=Bt;t:switch(Ce){case 1:Ce=0,Bt=null,yl(e,t,c,1);break;case 2:case 9:if(td(c)){Ce=0,Bt=null,Xm(t);break}t=function(){Ce!==2&&Ce!==9||De!==e||(Ce=7),un(e)},c.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:td(c)?(Ce=0,Bt=null,Xm(t)):(Ce=0,Bt=null,yl(e,t,c,7));break;case 5:var h=null;switch(ue.tag){case 26:h=ue.memoizedState;case 5:case 27:var m=ue;if(h?M_(h):m.stateNode.complete){Ce=0,Bt=null;var y=m.sibling;if(y!==null)ue=y;else{var N=m.return;N!==null?(ue=N,ou(N)):ue=null}break t}}Ce=0,Bt=null,yl(e,t,c,5);break;case 6:Ce=0,Bt=null,yl(e,t,c,6);break;case 8:$o(),ke=6;break e;default:throw Error(u(462))}}h0();break}catch(w){qm(e,w)}while(!0);return mn=bi=null,D.H=a,D.A=r,Se=i,ue!==null?0:(De=null,fe=0,Rs(),ke)}function h0(){for(;ue!==null&&!Ly();)Qm(ue)}function Qm(e){var t=_m(e.alternate,e,Tn);e.memoizedProps=e.pendingProps,t===null?ou(e):ue=t}function Xm(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=om(i,t,t.pendingProps,t.type,void 0,fe);break;case 11:t=om(i,t,t.pendingProps,t.type.render,t.ref,fe);break;case 5:_o(t);default:gm(i,t),t=ue=Vh(t,Tn),t=_m(i,t,Tn)}e.memoizedProps=e.pendingProps,t===null?ou(e):ue=t}function yl(e,t,i,a){mn=bi=null,_o(t),ul=null,sa=0;var r=t.return;try{if(e0(e,r,t,i,fe)){ke=1,Js(e,Yt(i,e.current)),ue=null;return}}catch(c){if(r!==null)throw ue=r,c;ke=1,Js(e,Yt(i,e.current)),ue=null;return}t.flags&32768?(me||a===1?e=!0:ml||(fe&536870912)!==0?e=!1:(Kn=e=!0,(a===2||a===9||a===3||a===6)&&(a=Lt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Zm(t,e)):ou(t)}function ou(e){var t=e;do{if((t.flags&32768)!==0){Zm(t,Kn);return}e=t.return;var i=i0(t.alternate,t,Tn);if(i!==null){ue=i;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);ke===0&&(ke=5)}function Zm(e,t){do{var i=l0(e.alternate,e);if(i!==null){i.flags&=32767,ue=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){ue=e;return}ue=e=i}while(e!==null);ke=6,ue=null}function Km(e,t,i,a,r,c,h,m,y){e.cancelPendingCommit=null;do cu();while(We!==0);if((Se&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(c=t.lanes|t.childLanes,c|=qr,Qy(e,i,c,h,m,y),e===De&&(ue=De=null,fe=0),pl=t,Wn=e,An=i,Jo=c,Wo=r,Bm=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,p0(hs,function(){return $m(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=D.T,D.T=null,r=j.p,j.p=2,h=Se,Se|=4;try{a0(e,t,i)}finally{Se=h,j.p=r,D.T=a}}We=1,Fm(),Jm(),Wm()}}function Fm(){if(We===1){We=0;var e=Wn,t=pl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=D.T,D.T=null;var a=j.p;j.p=2;var r=Se;Se|=4;try{Dm(t,e);var c=hc,h=Lh(e.containerInfo),m=c.focusedElem,y=c.selectionRange;if(h!==m&&m&&m.ownerDocument&&Uh(m.ownerDocument.documentElement,m)){if(y!==null&&Hr(m)){var N=y.start,w=y.end;if(w===void 0&&(w=N),"selectionStart"in m)m.selectionStart=N,m.selectionEnd=Math.min(w,m.value.length);else{var z=m.ownerDocument||document,x=z&&z.defaultView||window;if(x.getSelection){var R=x.getSelection(),G=m.textContent.length,X=Math.min(y.start,G),Re=y.end===void 0?X:Math.min(y.end,G);!R.extend&&X>Re&&(h=Re,Re=X,X=h);var C=zh(m,X),E=zh(m,Re);if(C&&E&&(R.rangeCount!==1||R.anchorNode!==C.node||R.anchorOffset!==C.offset||R.focusNode!==E.node||R.focusOffset!==E.offset)){var A=z.createRange();A.setStart(C.node,C.offset),R.removeAllRanges(),X>Re?(R.addRange(A),R.extend(E.node,E.offset)):(A.setEnd(E.node,E.offset),R.addRange(A))}}}}for(z=[],R=m;R=R.parentNode;)R.nodeType===1&&z.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<z.length;m++){var O=z[m];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}bu=!!fc,hc=fc=null}finally{Se=r,j.p=a,D.T=i}}e.current=t,We=2}}function Jm(){if(We===2){We=0;var e=Wn,t=pl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=D.T,D.T=null;var a=j.p;j.p=2;var r=Se;Se|=4;try{Tm(e,t.alternate,t)}finally{Se=r,j.p=a,D.T=i}}We=3}}function Wm(){if(We===4||We===3){We=0,Hy();var e=Wn,t=pl,i=An,a=Bm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?We=5:(We=0,pl=Wn=null,Pm(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Jn=null),gr(i),t=t.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Gl,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=D.T,r=j.p,j.p=2,D.T=null;try{for(var c=e.onRecoverableError,h=0;h<a.length;h++){var m=a[h];c(m.value,{componentStack:m.stack})}}finally{D.T=t,j.p=r}}(An&3)!==0&&cu(),un(e),r=e.pendingLanes,(i&261930)!==0&&(r&42)!==0?e===Po?Ca++:(Ca=0,Po=e):Ca=0,Ta(0)}}function Pm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,la(t)))}function cu(){return Fm(),Jm(),Wm(),$m()}function $m(){if(We!==5)return!1;var e=Wn,t=Jo;Jo=0;var i=gr(An),a=D.T,r=j.p;try{j.p=32>i?32:i,D.T=null,i=Wo,Wo=null;var c=Wn,h=An;if(We=0,pl=Wn=null,An=0,(Se&6)!==0)throw Error(u(331));var m=Se;if(Se|=4,Um(c.current),Mm(c,c.current,h,i),Se=m,Ta(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Gl,c)}catch{}return!0}finally{j.p=r,D.T=a,Pm(e,t)}}function e_(e,t,i){t=Yt(i,t),t=wo(e.stateNode,t,2),e=Vn(e,t,2),e!==null&&(Vl(e,2),un(e))}function Te(e,t,i){if(e.tag===3)e_(e,e,i);else for(;t!==null;){if(t.tag===3){e_(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Jn===null||!Jn.has(a))){e=Yt(i,e),i=tm(2),a=Vn(t,i,2),a!==null&&(nm(i,a,t,e),Vl(a,2),un(a));break}}t=t.return}}function tc(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new r0;var r=new Set;a.set(t,r)}else r=a.get(t),r===void 0&&(r=new Set,a.set(t,r));r.has(i)||(Zo=!0,r.add(i),e=d0.bind(null,e,t,i),t.then(e,e))}function d0(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,De===e&&(fe&i)===i&&(ke===4||ke===3&&(fe&62914560)===fe&&300>wt()-lu?(Se&2)===0&&gl(e,0):Ko|=i,_l===fe&&(_l=0)),un(e)}function t_(e,t){t===0&&(t=Ff()),e=vi(e,t),e!==null&&(Vl(e,t),un(e))}function m0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),t_(e,i)}function _0(e,t){var i=0;switch(e.tag){case 31:case 13:var a=e.stateNode,r=e.memoizedState;r!==null&&(i=r.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(u(314))}a!==null&&a.delete(t),t_(e,i)}function p0(e,t){return dr(e,t)}var fu=null,vl=null,nc=!1,hu=!1,ic=!1,$n=0;function un(e){e!==vl&&e.next===null&&(vl===null?fu=vl=e:vl=vl.next=e),hu=!0,nc||(nc=!0,y0())}function Ta(e,t){if(!ic&&hu){ic=!0;do for(var i=!1,a=fu;a!==null;){if(e!==0){var r=a.pendingLanes;if(r===0)var c=0;else{var h=a.suspendedLanes,m=a.pingedLanes;c=(1<<31-Ot(42|e)+1)-1,c&=r&~(h&~m),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(i=!0,a_(a,c))}else c=fe,c=ps(a,a===De?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(c&3)===0||Yl(a,c)||(i=!0,a_(a,c));a=a.next}while(i);ic=!1}}function g0(){n_()}function n_(){hu=nc=!1;var e=0;$n!==0&&R0()&&(e=$n);for(var t=wt(),i=null,a=fu;a!==null;){var r=a.next,c=i_(a,t);c===0?(a.next=null,i===null?fu=r:i.next=r,r===null&&(vl=i)):(i=a,(e!==0||(c&3)!==0)&&(hu=!0)),a=r}We!==0&&We!==5||Ta(e),$n!==0&&($n=0)}function i_(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var h=31-Ot(c),m=1<<h,y=r[h];y===-1?((m&i)===0||(m&a)!==0)&&(r[h]=Vy(m,t)):y<=t&&(e.expiredLanes|=m),c&=~m}if(t=De,i=fe,i=ps(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,i===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&mr(a),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Yl(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(a!==null&&mr(a),gr(i)){case 2:case 8:i=Zf;break;case 32:i=hs;break;case 268435456:i=Kf;break;default:i=hs}return a=l_.bind(null,e),i=dr(i,a),e.callbackPriority=t,e.callbackNode=i,t}return a!==null&&a!==null&&mr(a),e.callbackPriority=2,e.callbackNode=null,2}function l_(e,t){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(cu()&&e.callbackNode!==i)return null;var a=fe;return a=ps(e,e===De?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(jm(e,a,t),i_(e,wt()),e.callbackNode!=null&&e.callbackNode===i?l_.bind(null,e):null)}function a_(e,t){if(cu())return null;jm(e,t,!0)}function y0(){w0(function(){(Se&6)!==0?dr(Xf,g0):n_()})}function lc(){if($n===0){var e=ll;e===0&&(e=ds,ds<<=1,(ds&261888)===0&&(ds=256)),$n=e}return $n}function s_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Es(""+e)}function u_(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function v0(e,t,i,a,r){if(t==="submit"&&i&&i.stateNode===r){var c=s_((r[Et]||null).action),h=a.submitter;h&&(t=(t=h[Et]||null)?s_(t.formAction):h.getAttribute("formAction"),t!==null&&(c=t,h=null));var m=new Ts("action","action",null,a,r);e.push({event:m,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if($n!==0){var y=h?u_(r,h):new FormData(r);To(i,{pending:!0,data:y,method:r.method,action:c},null,y)}}else typeof c=="function"&&(m.preventDefault(),y=h?u_(r,h):new FormData(r),To(i,{pending:!0,data:y,method:r.method,action:c},c,y))},currentTarget:r}]})}}for(var ac=0;ac<kr.length;ac++){var sc=kr[ac],E0=sc.toLowerCase(),S0=sc[0].toUpperCase()+sc.slice(1);Jt(E0,"on"+S0)}Jt(Ih,"onAnimationEnd"),Jt(jh,"onAnimationIteration"),Jt(kh,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(Bv,"onTransitionRun"),Jt(Iv,"onTransitionStart"),Jt(jv,"onTransitionCancel"),Jt(qh,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Aa));function r_(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],r=a.event;a=a.listeners;e:{var c=void 0;if(t)for(var h=a.length-1;0<=h;h--){var m=a[h],y=m.instance,N=m.currentTarget;if(m=m.listener,y!==c&&r.isPropagationStopped())break e;c=m,r.currentTarget=N;try{c(r)}catch(w){xs(w)}r.currentTarget=null,c=y}else for(h=0;h<a.length;h++){if(m=a[h],y=m.instance,N=m.currentTarget,m=m.listener,y!==c&&r.isPropagationStopped())break e;c=m,r.currentTarget=N;try{c(r)}catch(w){xs(w)}r.currentTarget=null,c=y}}}}function re(e,t){var i=t[yr];i===void 0&&(i=t[yr]=new Set);var a=e+"__bubble";i.has(a)||(o_(t,e,2,!1),i.add(a))}function uc(e,t,i){var a=0;t&&(a|=4),o_(i,e,a,t)}var du="_reactListening"+Math.random().toString(36).slice(2);function rc(e){if(!e[du]){e[du]=!0,nh.forEach(function(i){i!=="selectionchange"&&(b0.has(i)||uc(i,!1,e),uc(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[du]||(t[du]=!0,uc("selectionchange",!1,t))}}function o_(e,t,i,a){switch(I_(t)){case 2:var r=J0;break;case 8:r=W0;break;default:r=Cc}i=r.bind(null,t,i,e),r=void 0,!xr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),a?r!==void 0?e.addEventListener(t,i,{capture:!0,passive:r}):e.addEventListener(t,i,!0):r!==void 0?e.addEventListener(t,i,{passive:r}):e.addEventListener(t,i,!1)}function oc(e,t,i,a,r){var c=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var h=a.tag;if(h===3||h===4){var m=a.stateNode.containerInfo;if(m===r)break;if(h===4)for(h=a.return;h!==null;){var y=h.tag;if((y===3||y===4)&&h.stateNode.containerInfo===r)return;h=h.return}for(;m!==null;){if(h=qi(m),h===null)return;if(y=h.tag,y===5||y===6||y===26||y===27){a=c=h;continue e}m=m.parentNode}}a=a.return}mh(function(){var N=c,w=Ar(i),z=[];e:{var x=Gh.get(e);if(x!==void 0){var R=Ts,G=e;switch(e){case"keypress":if(bs(i)===0)break e;case"keydown":case"keyup":R=_v;break;case"focusin":G="focus",R=Mr;break;case"focusout":G="blur",R=Mr;break;case"beforeblur":case"afterblur":R=Mr;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=iv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=yv;break;case Ih:case jh:case kh:R=sv;break;case qh:R=Ev;break;case"scroll":case"scrollend":R=tv;break;case"wheel":R=bv;break;case"copy":case"cut":case"paste":R=rv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=vh;break;case"toggle":case"beforetoggle":R=Tv}var X=(t&4)!==0,Re=!X&&(e==="scroll"||e==="scrollend"),C=X?x!==null?x+"Capture":null:x;X=[];for(var E=N,A;E!==null;){var O=E;if(A=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||A===null||C===null||(O=Zl(E,C),O!=null&&X.push(Na(E,O,A))),Re)break;E=E.return}0<X.length&&(x=new R(x,G,null,i,w),z.push({event:x,listeners:X}))}}if((t&7)===0){e:{if(x=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",x&&i!==Tr&&(G=i.relatedTarget||i.fromElement)&&(qi(G)||G[ki]))break e;if((R||x)&&(x=w.window===w?w:(x=w.ownerDocument)?x.defaultView||x.parentWindow:window,R?(G=i.relatedTarget||i.toElement,R=N,G=G?qi(G):null,G!==null&&(Re=f(G),X=G.tag,G!==Re||X!==5&&X!==27&&X!==6)&&(G=null)):(R=null,G=N),R!==G)){if(X=gh,O="onMouseLeave",C="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(X=vh,O="onPointerLeave",C="onPointerEnter",E="pointer"),Re=R==null?x:Xl(R),A=G==null?x:Xl(G),x=new X(O,E+"leave",R,i,w),x.target=Re,x.relatedTarget=A,O=null,qi(w)===N&&(X=new X(C,E+"enter",G,i,w),X.target=A,X.relatedTarget=Re,O=X),Re=O,R&&G)t:{for(X=C0,C=R,E=G,A=0,O=C;O;O=X(O))A++;O=0;for(var V=E;V;V=X(V))O++;for(;0<A-O;)C=X(C),A--;for(;0<O-A;)E=X(E),O--;for(;A--;){if(C===E||E!==null&&C===E.alternate){X=C;break t}C=X(C),E=X(E)}X=null}else X=null;R!==null&&c_(z,x,R,X,!1),G!==null&&Re!==null&&c_(z,Re,G,X,!0)}}e:{if(x=N?Xl(N):window,R=x.nodeName&&x.nodeName.toLowerCase(),R==="select"||R==="input"&&x.type==="file")var pe=xh;else if(Ah(x))if(Rh)pe=Uv;else{pe=Ov;var Y=Mv}else R=x.nodeName,!R||R.toLowerCase()!=="input"||x.type!=="checkbox"&&x.type!=="radio"?N&&Cr(N.elementType)&&(pe=xh):pe=zv;if(pe&&(pe=pe(e,N))){Nh(z,pe,i,w);break e}Y&&Y(e,x,N),e==="focusout"&&N&&x.type==="number"&&N.memoizedProps.value!=null&&br(x,"number",x.value)}switch(Y=N?Xl(N):window,e){case"focusin":(Ah(Y)||Y.contentEditable==="true")&&(Ji=Y,Br=N,ta=null);break;case"focusout":ta=Br=Ji=null;break;case"mousedown":Ir=!0;break;case"contextmenu":case"mouseup":case"dragend":Ir=!1,Hh(z,i,w);break;case"selectionchange":if(Hv)break;case"keydown":case"keyup":Hh(z,i,w)}var ne;if(zr)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else Fi?Ch(e,i)&&(he="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(he="onCompositionStart");he&&(Eh&&i.locale!=="ko"&&(Fi||he!=="onCompositionStart"?he==="onCompositionEnd"&&Fi&&(ne=_h()):(Bn=w,Rr="value"in Bn?Bn.value:Bn.textContent,Fi=!0)),Y=mu(N,he),0<Y.length&&(he=new yh(he,e,null,i,w),z.push({event:he,listeners:Y}),ne?he.data=ne:(ne=Th(i),ne!==null&&(he.data=ne)))),(ne=Nv?xv(e,i):Rv(e,i))&&(he=mu(N,"onBeforeInput"),0<he.length&&(Y=new yh("onBeforeInput","beforeinput",null,i,w),z.push({event:Y,listeners:he}),Y.data=ne)),v0(z,e,N,i,w)}r_(z,t)})}function Na(e,t,i){return{instance:e,listener:t,currentTarget:i}}function mu(e,t){for(var i=t+"Capture",a=[];e!==null;){var r=e,c=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||c===null||(r=Zl(e,i),r!=null&&a.unshift(Na(e,r,c)),r=Zl(e,t),r!=null&&a.push(Na(e,r,c))),e.tag===3)return a;e=e.return}return[]}function C0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function c_(e,t,i,a,r){for(var c=t._reactName,h=[];i!==null&&i!==a;){var m=i,y=m.alternate,N=m.stateNode;if(m=m.tag,y!==null&&y===a)break;m!==5&&m!==26&&m!==27||N===null||(y=N,r?(N=Zl(i,c),N!=null&&h.unshift(Na(i,N,y))):r||(N=Zl(i,c),N!=null&&h.push(Na(i,N,y)))),i=i.return}h.length!==0&&e.push({event:t,listeners:h})}var T0=/\r\n?/g,A0=/\u0000|\uFFFD/g;function f_(e){return(typeof e=="string"?e:""+e).replace(T0,`
`).replace(A0,"")}function h_(e,t){return t=f_(t),f_(e)===t}function xe(e,t,i,a,r,c){switch(i){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Xi(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Xi(e,""+a);break;case"className":ys(e,"class",a);break;case"tabIndex":ys(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ys(e,i,a);break;case"style":hh(e,a,c);break;case"data":if(t!=="object"){ys(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=Es(""+a),e.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&xe(e,t,"name",r.name,r,null),xe(e,t,"formEncType",r.formEncType,r,null),xe(e,t,"formMethod",r.formMethod,r,null),xe(e,t,"formTarget",r.formTarget,r,null)):(xe(e,t,"encType",r.encType,r,null),xe(e,t,"method",r.method,r,null),xe(e,t,"target",r.target,r,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=Es(""+a),e.setAttribute(i,a);break;case"onClick":a!=null&&(e.onclick=cn);break;case"onScroll":a!=null&&re("scroll",e);break;case"onScrollEnd":a!=null&&re("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(u(61));if(i=a.__html,i!=null){if(r.children!=null)throw Error(u(60));e.innerHTML=i}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}i=Es(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""+a):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":a===!0?e.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,a):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(i,a):e.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(i):e.setAttribute(i,a);break;case"popover":re("beforetoggle",e),re("toggle",e),gs(e,"popover",a);break;case"xlinkActuate":on(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":on(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":on(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":on(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":on(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":on(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":on(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":on(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":on(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":gs(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=$y.get(i)||i,gs(e,i,a))}}function cc(e,t,i,a,r,c){switch(i){case"style":hh(e,a,c);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(u(61));if(i=a.__html,i!=null){if(r.children!=null)throw Error(u(60));e.innerHTML=i}}break;case"children":typeof a=="string"?Xi(e,a):(typeof a=="number"||typeof a=="bigint")&&Xi(e,""+a);break;case"onScroll":a!=null&&re("scroll",e);break;case"onScrollEnd":a!=null&&re("scrollend",e);break;case"onClick":a!=null&&(e.onclick=cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ih.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(r=i.endsWith("Capture"),t=i.slice(2,r?i.length-7:void 0),c=e[Et]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,r),typeof a=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,a,r);break e}i in e?e[i]=a:a===!0?e.setAttribute(i,""):gs(e,i,a)}}}function dt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":re("error",e),re("load",e);var a=!1,r=!1,c;for(c in i)if(i.hasOwnProperty(c)){var h=i[c];if(h!=null)switch(c){case"src":a=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:xe(e,t,c,h,i,null)}}r&&xe(e,t,"srcSet",i.srcSet,i,null),a&&xe(e,t,"src",i.src,i,null);return;case"input":re("invalid",e);var m=c=h=r=null,y=null,N=null;for(a in i)if(i.hasOwnProperty(a)){var w=i[a];if(w!=null)switch(a){case"name":r=w;break;case"type":h=w;break;case"checked":y=w;break;case"defaultChecked":N=w;break;case"value":c=w;break;case"defaultValue":m=w;break;case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(u(137,t));break;default:xe(e,t,a,w,i,null)}}rh(e,c,m,y,N,h,r,!1);return;case"select":re("invalid",e),a=h=c=null;for(r in i)if(i.hasOwnProperty(r)&&(m=i[r],m!=null))switch(r){case"value":c=m;break;case"defaultValue":h=m;break;case"multiple":a=m;default:xe(e,t,r,m,i,null)}t=c,i=h,e.multiple=!!a,t!=null?Qi(e,!!a,t,!1):i!=null&&Qi(e,!!a,i,!0);return;case"textarea":re("invalid",e),c=r=a=null;for(h in i)if(i.hasOwnProperty(h)&&(m=i[h],m!=null))switch(h){case"value":a=m;break;case"defaultValue":r=m;break;case"children":c=m;break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(u(91));break;default:xe(e,t,h,m,i,null)}ch(e,a,r,c);return;case"option":for(y in i)if(i.hasOwnProperty(y)&&(a=i[y],a!=null))switch(y){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:xe(e,t,y,a,i,null)}return;case"dialog":re("beforetoggle",e),re("toggle",e),re("cancel",e),re("close",e);break;case"iframe":case"object":re("load",e);break;case"video":case"audio":for(a=0;a<Aa.length;a++)re(Aa[a],e);break;case"image":re("error",e),re("load",e);break;case"details":re("toggle",e);break;case"embed":case"source":case"link":re("error",e),re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in i)if(i.hasOwnProperty(N)&&(a=i[N],a!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:xe(e,t,N,a,i,null)}return;default:if(Cr(t)){for(w in i)i.hasOwnProperty(w)&&(a=i[w],a!==void 0&&cc(e,t,w,a,i,void 0));return}}for(m in i)i.hasOwnProperty(m)&&(a=i[m],a!=null&&xe(e,t,m,a,i,null))}function N0(e,t,i,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,c=null,h=null,m=null,y=null,N=null,w=null;for(R in i){var z=i[R];if(i.hasOwnProperty(R)&&z!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":y=z;default:a.hasOwnProperty(R)||xe(e,t,R,null,a,z)}}for(var x in a){var R=a[x];if(z=i[x],a.hasOwnProperty(x)&&(R!=null||z!=null))switch(x){case"type":c=R;break;case"name":r=R;break;case"checked":N=R;break;case"defaultChecked":w=R;break;case"value":h=R;break;case"defaultValue":m=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(u(137,t));break;default:R!==z&&xe(e,t,x,R,a,z)}}Sr(e,h,m,y,N,w,c,r);return;case"select":R=h=m=x=null;for(c in i)if(y=i[c],i.hasOwnProperty(c)&&y!=null)switch(c){case"value":break;case"multiple":R=y;default:a.hasOwnProperty(c)||xe(e,t,c,null,a,y)}for(r in a)if(c=a[r],y=i[r],a.hasOwnProperty(r)&&(c!=null||y!=null))switch(r){case"value":x=c;break;case"defaultValue":m=c;break;case"multiple":h=c;default:c!==y&&xe(e,t,r,c,a,y)}t=m,i=h,a=R,x!=null?Qi(e,!!i,x,!1):!!a!=!!i&&(t!=null?Qi(e,!!i,t,!0):Qi(e,!!i,i?[]:"",!1));return;case"textarea":R=x=null;for(m in i)if(r=i[m],i.hasOwnProperty(m)&&r!=null&&!a.hasOwnProperty(m))switch(m){case"value":break;case"children":break;default:xe(e,t,m,null,a,r)}for(h in a)if(r=a[h],c=i[h],a.hasOwnProperty(h)&&(r!=null||c!=null))switch(h){case"value":x=r;break;case"defaultValue":R=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(u(91));break;default:r!==c&&xe(e,t,h,r,a,c)}oh(e,x,R);return;case"option":for(var G in i)if(x=i[G],i.hasOwnProperty(G)&&x!=null&&!a.hasOwnProperty(G))switch(G){case"selected":e.selected=!1;break;default:xe(e,t,G,null,a,x)}for(y in a)if(x=a[y],R=i[y],a.hasOwnProperty(y)&&x!==R&&(x!=null||R!=null))switch(y){case"selected":e.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:xe(e,t,y,x,a,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var X in i)x=i[X],i.hasOwnProperty(X)&&x!=null&&!a.hasOwnProperty(X)&&xe(e,t,X,null,a,x);for(N in a)if(x=a[N],R=i[N],a.hasOwnProperty(N)&&x!==R&&(x!=null||R!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(u(137,t));break;default:xe(e,t,N,x,a,R)}return;default:if(Cr(t)){for(var Re in i)x=i[Re],i.hasOwnProperty(Re)&&x!==void 0&&!a.hasOwnProperty(Re)&&cc(e,t,Re,void 0,a,x);for(w in a)x=a[w],R=i[w],!a.hasOwnProperty(w)||x===R||x===void 0&&R===void 0||cc(e,t,w,x,a,R);return}}for(var C in i)x=i[C],i.hasOwnProperty(C)&&x!=null&&!a.hasOwnProperty(C)&&xe(e,t,C,null,a,x);for(z in a)x=a[z],R=i[z],!a.hasOwnProperty(z)||x===R||x==null&&R==null||xe(e,t,z,x,a,R)}function d_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function x0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),a=0;a<i.length;a++){var r=i[a],c=r.transferSize,h=r.initiatorType,m=r.duration;if(c&&m&&d_(h)){for(h=0,m=r.responseEnd,a+=1;a<i.length;a++){var y=i[a],N=y.startTime;if(N>m)break;var w=y.transferSize,z=y.initiatorType;w&&d_(z)&&(y=y.responseEnd,h+=w*(y<m?1:(m-N)/(y-N)))}if(--a,t+=8*(c+h)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var fc=null,hc=null;function _u(e){return e.nodeType===9?e:e.ownerDocument}function m_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function __(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function dc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mc=null;function R0(){var e=window.event;return e&&e.type==="popstate"?e===mc?!1:(mc=e,!0):(mc=null,!1)}var p_=typeof setTimeout=="function"?setTimeout:void 0,D0=typeof clearTimeout=="function"?clearTimeout:void 0,g_=typeof Promise=="function"?Promise:void 0,w0=typeof queueMicrotask=="function"?queueMicrotask:typeof g_<"u"?function(e){return g_.resolve(null).then(e).catch(M0)}:p_;function M0(e){setTimeout(function(){throw e})}function ei(e){return e==="head"}function y_(e,t){var i=t,a=0;do{var r=i.nextSibling;if(e.removeChild(i),r&&r.nodeType===8)if(i=r.data,i==="/$"||i==="/&"){if(a===0){e.removeChild(r),Cl(t);return}a--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")a++;else if(i==="html")xa(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,xa(i);for(var c=i.firstChild;c;){var h=c.nextSibling,m=c.nodeName;c[Ql]||m==="SCRIPT"||m==="STYLE"||m==="LINK"&&c.rel.toLowerCase()==="stylesheet"||i.removeChild(c),c=h}}else i==="body"&&xa(e.ownerDocument.body);i=r}while(i);Cl(t)}function v_(e,t){var i=e;e=0;do{var a=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=a}while(i)}function _c(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":_c(i),vr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function O0(e,t,i,a){for(;e.nodeType===1;){var r=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Ql])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function z0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Kt(e.nextSibling),e===null))return null;return e}function E_(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Kt(e.nextSibling),e===null))return null;return e}function pc(e){return e.data==="$?"||e.data==="$~"}function gc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function U0(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var a=function(){t(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var yc=null;function S_(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Kt(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function b_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function C_(e,t,i){switch(t=_u(i),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function xa(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);vr(e)}var Ft=new Map,T_=new Set;function pu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Nn=j.d;j.d={f:L0,r:H0,D:B0,C:I0,L:j0,m:k0,X:G0,S:q0,M:Y0};function L0(){var e=Nn.f(),t=uu();return e||t}function H0(e){var t=Gi(e);t!==null&&t.tag===5&&t.type==="form"?qd(t):Nn.r(e)}var El=typeof document>"u"?null:document;function A_(e,t,i){var a=El;if(a&&typeof t=="string"&&t){var r=qt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof i=="string"&&(r+='[crossorigin="'+i+'"]'),T_.has(r)||(T_.add(r),e={rel:e,crossOrigin:i,href:t},a.querySelector(r)===null&&(t=a.createElement("link"),dt(t,"link",e),it(t),a.head.appendChild(t)))}}function B0(e){Nn.D(e),A_("dns-prefetch",e,null)}function I0(e,t){Nn.C(e,t),A_("preconnect",e,t)}function j0(e,t,i){Nn.L(e,t,i);var a=El;if(a&&e&&t){var r='link[rel="preload"][as="'+qt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(r+='[imagesrcset="'+qt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(r+='[imagesizes="'+qt(i.imageSizes)+'"]')):r+='[href="'+qt(e)+'"]';var c=r;switch(t){case"style":c=Sl(e);break;case"script":c=bl(e)}Ft.has(c)||(e=v({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Ft.set(c,e),a.querySelector(r)!==null||t==="style"&&a.querySelector(Ra(c))||t==="script"&&a.querySelector(Da(c))||(t=a.createElement("link"),dt(t,"link",e),it(t),a.head.appendChild(t)))}}function k0(e,t){Nn.m(e,t);var i=El;if(i&&e){var a=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+qt(a)+'"][href="'+qt(e)+'"]',c=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=bl(e)}if(!Ft.has(c)&&(e=v({rel:"modulepreload",href:e},t),Ft.set(c,e),i.querySelector(r)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Da(c)))return}a=i.createElement("link"),dt(a,"link",e),it(a),i.head.appendChild(a)}}}function q0(e,t,i){Nn.S(e,t,i);var a=El;if(a&&e){var r=Yi(a).hoistableStyles,c=Sl(e);t=t||"default";var h=r.get(c);if(!h){var m={loading:0,preload:null};if(h=a.querySelector(Ra(c)))m.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Ft.get(c))&&vc(e,i);var y=h=a.createElement("link");it(y),dt(y,"link",e),y._p=new Promise(function(N,w){y.onload=N,y.onerror=w}),y.addEventListener("load",function(){m.loading|=1}),y.addEventListener("error",function(){m.loading|=2}),m.loading|=4,gu(h,t,a)}h={type:"stylesheet",instance:h,count:1,state:m},r.set(c,h)}}}function G0(e,t){Nn.X(e,t);var i=El;if(i&&e){var a=Yi(i).hoistableScripts,r=bl(e),c=a.get(r);c||(c=i.querySelector(Da(r)),c||(e=v({src:e,async:!0},t),(t=Ft.get(r))&&Ec(e,t),c=i.createElement("script"),it(c),dt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(r,c))}}function Y0(e,t){Nn.M(e,t);var i=El;if(i&&e){var a=Yi(i).hoistableScripts,r=bl(e),c=a.get(r);c||(c=i.querySelector(Da(r)),c||(e=v({src:e,async:!0,type:"module"},t),(t=Ft.get(r))&&Ec(e,t),c=i.createElement("script"),it(c),dt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(r,c))}}function N_(e,t,i,a){var r=(r=$.current)?pu(r):null;if(!r)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Sl(i.href),i=Yi(r).hoistableStyles,a=i.get(t),a||(a={type:"style",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Sl(i.href);var c=Yi(r).hoistableStyles,h=c.get(e);if(h||(r=r.ownerDocument||r,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=r.querySelector(Ra(e)))&&!c._p&&(h.instance=c,h.state.loading=5),Ft.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Ft.set(e,i),c||V0(r,e,i,h.state))),t&&a===null)throw Error(u(528,""));return h}if(t&&a!==null)throw Error(u(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=bl(i),i=Yi(r).hoistableScripts,a=i.get(t),a||(a={type:"script",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function Sl(e){return'href="'+qt(e)+'"'}function Ra(e){return'link[rel="stylesheet"]['+e+"]"}function x_(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function V0(e,t,i,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),dt(t,"link",i),it(t),e.head.appendChild(t))}function bl(e){return'[src="'+qt(e)+'"]'}function Da(e){return"script[async]"+e}function R_(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+qt(i.href)+'"]');if(a)return t.instance=a,it(a),a;var r=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),it(a),dt(a,"style",r),gu(a,i.precedence,e),t.instance=a;case"stylesheet":r=Sl(i.href);var c=e.querySelector(Ra(r));if(c)return t.state.loading|=4,t.instance=c,it(c),c;a=x_(i),(r=Ft.get(r))&&vc(a,r),c=(e.ownerDocument||e).createElement("link"),it(c);var h=c;return h._p=new Promise(function(m,y){h.onload=m,h.onerror=y}),dt(c,"link",a),t.state.loading|=4,gu(c,i.precedence,e),t.instance=c;case"script":return c=bl(i.src),(r=e.querySelector(Da(c)))?(t.instance=r,it(r),r):(a=i,(r=Ft.get(c))&&(a=v({},i),Ec(a,r)),e=e.ownerDocument||e,r=e.createElement("script"),it(r),dt(r,"link",a),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,gu(a,i.precedence,e));return t.instance}function gu(e,t,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,c=r,h=0;h<a.length;h++){var m=a[h];if(m.dataset.precedence===t)c=m;else if(c!==r)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function vc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ec(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var yu=null;function D_(e,t,i){if(yu===null){var a=new Map,r=yu=new Map;r.set(i,a)}else r=yu,a=r.get(i),a||(a=new Map,r.set(i,a));if(a.has(e))return a;for(a.set(e,null),i=i.getElementsByTagName(e),r=0;r<i.length;r++){var c=i[r];if(!(c[Ql]||c[ot]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var h=c.getAttribute(t)||"";h=e+h;var m=a.get(h);m?m.push(c):a.set(h,[c])}}return a}function w_(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Q0(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function M_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function X0(e,t,i,a){if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var r=Sl(a.href),c=t.querySelector(Ra(r));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=vu.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=c,it(c);return}c=t.ownerDocument||t,a=x_(a),(r=Ft.get(r))&&vc(a,r),c=c.createElement("link"),it(c);var h=c;h._p=new Promise(function(m,y){h.onload=m,h.onerror=y}),dt(c,"link",a),i.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=vu.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Sc=0;function Z0(e,t){return e.stylesheets&&e.count===0&&Su(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var a=setTimeout(function(){if(e.stylesheets&&Su(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&Sc===0&&(Sc=62500*x0());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Su(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Sc?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(r)}}:null}function vu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Su(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Eu=null;function Su(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Eu=new Map,t.forEach(K0,e),Eu=null,vu.call(e))}function K0(e,t){if(!(t.state.loading&4)){var i=Eu.get(e);if(i)var a=i.get(null);else{i=new Map,Eu.set(e,i);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<r.length;c++){var h=r[c];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(i.set(h.dataset.precedence,h),a=h)}a&&i.set(null,a)}r=t.instance,h=r.getAttribute("data-precedence"),c=i.get(h)||a,c===a&&i.set(null,r),i.set(h,r),this.count++,a=vu.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),c?c.parentNode.insertBefore(r,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var wa={$$typeof:ie,Provider:null,Consumer:null,_currentValue:k,_currentValue2:k,_threadCount:0};function F0(e,t,i,a,r,c,h,m,y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_r(0),this.hiddenUpdates=_r(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=c,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function O_(e,t,i,a,r,c,h,m,y,N,w,z){return e=new F0(e,t,i,h,y,N,w,z,m),t=1,c===!0&&(t|=24),c=Ut(3,null,null,t),e.current=c,c.stateNode=e,t=$r(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:a,isDehydrated:i,cache:t},io(c),e}function z_(e){return e?(e=$i,e):$i}function U_(e,t,i,a,r,c){r=z_(r),a.context===null?a.context=r:a.pendingContext=r,a=Yn(t),a.payload={element:i},c=c===void 0?null:c,c!==null&&(a.callback=c),i=Vn(e,a,t),i!==null&&(Nt(i,e,t),ra(i,e,t))}function L_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function bc(e,t){L_(e,t),(e=e.alternate)&&L_(e,t)}function H_(e){if(e.tag===13||e.tag===31){var t=vi(e,67108864);t!==null&&Nt(t,e,67108864),bc(e,67108864)}}function B_(e){if(e.tag===13||e.tag===31){var t=jt();t=pr(t);var i=vi(e,t);i!==null&&Nt(i,e,t),bc(e,t)}}var bu=!0;function J0(e,t,i,a){var r=D.T;D.T=null;var c=j.p;try{j.p=2,Cc(e,t,i,a)}finally{j.p=c,D.T=r}}function W0(e,t,i,a){var r=D.T;D.T=null;var c=j.p;try{j.p=8,Cc(e,t,i,a)}finally{j.p=c,D.T=r}}function Cc(e,t,i,a){if(bu){var r=Tc(a);if(r===null)oc(e,t,a,Cu,i),j_(e,a);else if($0(r,e,t,i,a))a.stopPropagation();else if(j_(e,a),t&4&&-1<P0.indexOf(e)){for(;r!==null;){var c=Gi(r);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var h=mi(c.pendingLanes);if(h!==0){var m=c;for(m.pendingLanes|=2,m.entangledLanes|=2;h;){var y=1<<31-Ot(h);m.entanglements[1]|=y,h&=~y}un(c),(Se&6)===0&&(au=wt()+500,Ta(0))}}break;case 31:case 13:m=vi(c,2),m!==null&&Nt(m,c,2),uu(),bc(c,2)}if(c=Tc(a),c===null&&oc(e,t,a,Cu,i),c===r)break;r=c}r!==null&&a.stopPropagation()}else oc(e,t,a,null,i)}}function Tc(e){return e=Ar(e),Ac(e)}var Cu=null;function Ac(e){if(Cu=null,e=qi(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=d(t),e!==null)return e;e=null}else if(i===31){if(e=_(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Cu=e,null}function I_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(By()){case Xf:return 2;case Zf:return 8;case hs:case Iy:return 32;case Kf:return 268435456;default:return 32}default:return 32}}var Nc=!1,ti=null,ni=null,ii=null,Ma=new Map,Oa=new Map,li=[],P0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j_(e,t){switch(e){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":Ma.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oa.delete(t.pointerId)}}function za(e,t,i,a,r,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:c,targetContainers:[r]},t!==null&&(t=Gi(t),t!==null&&H_(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function $0(e,t,i,a,r){switch(t){case"focusin":return ti=za(ti,e,t,i,a,r),!0;case"dragenter":return ni=za(ni,e,t,i,a,r),!0;case"mouseover":return ii=za(ii,e,t,i,a,r),!0;case"pointerover":var c=r.pointerId;return Ma.set(c,za(Ma.get(c)||null,e,t,i,a,r)),!0;case"gotpointercapture":return c=r.pointerId,Oa.set(c,za(Oa.get(c)||null,e,t,i,a,r)),!0}return!1}function k_(e){var t=qi(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=d(i),t!==null){e.blockedOn=t,eh(e.priority,function(){B_(i)});return}}else if(t===31){if(t=_(i),t!==null){e.blockedOn=t,eh(e.priority,function(){B_(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Tc(e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);Tr=a,i.target.dispatchEvent(a),Tr=null}else return t=Gi(i),t!==null&&H_(t),e.blockedOn=i,!1;t.shift()}return!0}function q_(e,t,i){Tu(e)&&i.delete(t)}function e1(){Nc=!1,ti!==null&&Tu(ti)&&(ti=null),ni!==null&&Tu(ni)&&(ni=null),ii!==null&&Tu(ii)&&(ii=null),Ma.forEach(q_),Oa.forEach(q_)}function Au(e,t){e.blockedOn===t&&(e.blockedOn=null,Nc||(Nc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,e1)))}var Nu=null;function G_(e){Nu!==e&&(Nu=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Nu===e&&(Nu=null);for(var t=0;t<e.length;t+=3){var i=e[t],a=e[t+1],r=e[t+2];if(typeof a!="function"){if(Ac(a||i)===null)continue;break}var c=Gi(i);c!==null&&(e.splice(t,3),t-=3,To(c,{pending:!0,data:r,method:i.method,action:a},a,r))}}))}function Cl(e){function t(y){return Au(y,e)}ti!==null&&Au(ti,e),ni!==null&&Au(ni,e),ii!==null&&Au(ii,e),Ma.forEach(t),Oa.forEach(t);for(var i=0;i<li.length;i++){var a=li[i];a.blockedOn===e&&(a.blockedOn=null)}for(;0<li.length&&(i=li[0],i.blockedOn===null);)k_(i),i.blockedOn===null&&li.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var r=i[a],c=i[a+1],h=r[Et]||null;if(typeof c=="function")h||G_(i);else if(h){var m=null;if(c&&c.hasAttribute("formAction")){if(r=c,h=c[Et]||null)m=h.formAction;else if(Ac(r)!==null)continue}else m=h.action;typeof m=="function"?i[a+1]=m:(i.splice(a,3),a-=3),G_(i)}}}function Y_(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(h){return r=h})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),a||setTimeout(i,20)}function i(){if(!a&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function xc(e){this._internalRoot=e}xu.prototype.render=xc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var i=t.current,a=jt();U_(i,a,e,t,null,null)},xu.prototype.unmount=xc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;U_(e.current,2,null,e,null,null),uu(),t[ki]=null}};function xu(e){this._internalRoot=e}xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=$f();e={blockedOn:null,target:e,priority:t};for(var i=0;i<li.length&&t!==0&&t<li[i].priority;i++);li.splice(i,0,e),i===0&&k_(e)}};var V_=n.version;if(V_!=="19.2.0")throw Error(u(527,V_,"19.2.0"));j.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=p(t),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var t1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{Gl=Ru.inject(t1),Mt=Ru}catch{}}return La.createRoot=function(e,t){if(!o(e))throw Error(u(299));var i=!1,a="",r=Wd,c=Pd,h=$d;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=O_(e,1,!1,null,null,i,a,null,r,c,h,Y_),e[ki]=t.current,rc(e),new xc(t)},La.hydrateRoot=function(e,t,i){if(!o(e))throw Error(u(299));var a=!1,r="",c=Wd,h=Pd,m=$d,y=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(m=i.onRecoverableError),i.formState!==void 0&&(y=i.formState)),t=O_(e,1,!0,t,i??null,a,r,y,c,h,m,Y_),t.context=z_(null),i=t.current,a=jt(),a=pr(a),r=Yn(a),r.callback=null,Vn(i,r,a),i=a,t.current.lanes=i,Vl(t,i),un(t),e[ki]=t.current,rc(e),new xu(t)},La.version="19.2.0",La}var ep;function h1(){if(ep)return wc.exports;ep=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),wc.exports=f1(),wc.exports}var d1=h1();const m1=Pp(d1),Tl=20,_1=150,p1=5,g1=10,y1=5,Al={snake:"#2ECC71",food:"#F59E0B",grid:"rgba(255, 255, 255, 0.03)"},tp=[{x:10,y:10},{x:9,y:10},{x:8,y:10}],Du={x:1,y:0};var at=(s=>(s.MENU="MENU",s.PLAYING="PLAYING",s.PAUSED="PAUSED",s.GAME_OVER="GAME_OVER",s))(at||{});const Pe=new(window.AudioContext||window.webkitAudioContext),xn=s=>{Pe.state==="suspended"&&Pe.resume();const n=Pe.createOscillator(),l=Pe.createGain();n.connect(l),l.connect(Pe.destination),s==="eat"?(n.type="sine",n.frequency.setValueAtTime(600,Pe.currentTime),n.frequency.exponentialRampToValueAtTime(1200,Pe.currentTime+.1),l.gain.setValueAtTime(.3,Pe.currentTime),l.gain.exponentialRampToValueAtTime(.01,Pe.currentTime+.1),n.start(),n.stop(Pe.currentTime+.1)):s==="die"?(n.type="sawtooth",n.frequency.setValueAtTime(200,Pe.currentTime),n.frequency.exponentialRampToValueAtTime(50,Pe.currentTime+.3),l.gain.setValueAtTime(.3,Pe.currentTime),l.gain.exponentialRampToValueAtTime(.01,Pe.currentTime+.3),n.start(),n.stop(Pe.currentTime+.3)):s==="click"&&(n.type="triangle",n.frequency.setValueAtTime(800,Pe.currentTime),l.gain.setValueAtTime(.1,Pe.currentTime),l.gain.exponentialRampToValueAtTime(.01,Pe.currentTime+.05),n.start(),n.stop(Pe.currentTime+.05))},np={EASY:{INITIAL_SPEED:200,MIN_SPEED:100},MEDIUM:{INITIAL_SPEED:150,MIN_SPEED:50},HARD:{INITIAL_SPEED:100,MIN_SPEED:30}},v1=({status:s,isSoundEnabled:n,difficulty:l,onScoreUpdate:u,onGameOver:o})=>{const f=ye.useRef(null),d=ye.useRef(null),_=ye.useRef([...tp]),g=ye.useRef({x:15,y:5}),p=ye.useRef(Du),T=ye.useRef(Du),v=ye.useRef(_1),b=ye.useRef(0),L=ye.useRef(0),I=ye.useRef(0),Q=ye.useRef(null),te=ye.useRef(),Ae=()=>{let J,K=!0;for(;K;)J={x:Math.floor(Math.random()*Tl),y:Math.floor(Math.random()*Tl)},K=_.current.some(Ie=>Ie.x===J.x&&Ie.y===J.y);return J},Be=ye.useCallback(()=>{_.current=[...tp],p.current=Du,T.current=Du,b.current=0,v.current=np[l].INITIAL_SPEED,I.current=0,g.current=Ae(),u(0)},[u,l]),ie=ye.useCallback(J=>{const K=p.current;J.x!==0&&K.x!==0||J.y!==0&&K.y!==0||(T.current=J)},[]),se=ye.useCallback(J=>{if(s===at.PLAYING)switch(J.key){case"ArrowUp":ie({x:0,y:-1});break;case"ArrowDown":ie({x:0,y:1});break;case"ArrowLeft":ie({x:-1,y:0});break;case"ArrowRight":ie({x:1,y:0});break}},[s,ie]),mt=J=>{Q.current={x:J.touches[0].clientX,y:J.touches[0].clientY}},tt=J=>{if(!Q.current||s!==at.PLAYING)return;const K={x:J.changedTouches[0].clientX,y:J.changedTouches[0].clientY},Ie=K.x-Q.current.x,_e=K.y-Q.current.y;Math.abs(Ie)>Math.abs(_e)?Math.abs(Ie)>30&&ie(Ie>0?{x:1,y:0}:{x:-1,y:0}):Math.abs(_e)>30&&ie(_e>0?{x:0,y:1}:{x:0,y:-1}),Q.current=null},le=J=>{if(s!==at.PLAYING){nt(),te.current=requestAnimationFrame(le);return}if(J-L.current>=v.current){L.current=J,p.current=T.current;const Ie=_.current[0],_e={x:Ie.x+p.current.x,y:Ie.y+p.current.y};if(_e.x<0||_e.x>=Tl||_e.y<0||_e.y>=Tl){n&&xn("die"),o(b.current);return}if(_.current.some(W=>W.x===_e.x&&W.y===_e.y)){n&&xn("die"),o(b.current);return}const Qe=[_e,..._.current];_e.x===g.current.x&&_e.y===g.current.y?(n&&xn("eat"),b.current+=g1,I.current+=1,u(b.current),I.current%y1===0&&(v.current=Math.max(np[l].MIN_SPEED,v.current-p1)),g.current=Ae()):Qe.pop(),_.current=Qe}nt(),te.current=requestAnimationFrame(le)},nt=()=>{var j;const J=f.current,K=J==null?void 0:J.getContext("2d");if(!J||!K)return;const Ie=Math.min(window.innerWidth-32,600),_e=(j=d.current)==null?void 0:j.getBoundingClientRect(),Qe=_e?Math.min(_e.width,_e.height):Ie;(J.width!==Qe||J.height!==Qe)&&(J.width=Qe,J.height=Qe);const W=Qe/Tl;K.clearRect(0,0,Qe,Qe),K.strokeStyle=Al.grid,K.lineWidth=1,K.beginPath();for(let k=0;k<=Tl;k++)K.moveTo(k*W,0),K.lineTo(k*W,Qe),K.moveTo(0,k*W),K.lineTo(Qe,k*W);K.stroke();const vt=g.current,D=W*.15;K.fillStyle=Al.food,K.shadowColor=Al.food,K.shadowBlur=15,K.beginPath(),K.roundRect(vt.x*W+D,vt.y*W+D,W-D*2,W-D*2,W*.3),K.fill(),K.shadowBlur=0,K.fillStyle=Al.snake,K.shadowColor=Al.snake,K.shadowBlur=10,_.current.forEach((k,be)=>{const Ee=be===0,S=1;if(Ee?K.fillStyle="#4ADE80":K.fillStyle=Al.snake,K.beginPath(),K.roundRect(k.x*W+S,k.y*W+S,W-S*2,W-S*2,Ee?6:4),K.fill(),Ee){K.fillStyle="#0E1B3E";const M=W*.15,H=W*.25;let q,F,$,ce;const Je=p.current;Je.x===1?(q=$=k.x*W+W-H-M,F=k.y*W+H,ce=k.y*W+W-H-M):Je.x===-1?(q=$=k.x*W+H,F=k.y*W+H,ce=k.y*W+W-H-M):Je.y===-1?(F=ce=k.y*W+H,q=k.x*W+H,$=k.x*W+W-H-M):(F=ce=k.y*W+W-H-M,q=k.x*W+H,$=k.x*W+W-H-M),K.beginPath(),K.arc(q+M/2,F+M/2,M,0,Math.PI*2),K.arc($+M/2,ce+M/2,M,0,Math.PI*2),K.fill()}}),K.shadowBlur=0};return ye.useEffect(()=>(window.addEventListener("keydown",se),()=>window.removeEventListener("keydown",se)),[se]),ye.useEffect(()=>(s===at.MENU?(Be(),nt()):s===at.PLAYING?te.current=requestAnimationFrame(le):s===at.PAUSED&&te.current&&cancelAnimationFrame(te.current),()=>{te.current&&cancelAnimationFrame(te.current)}),[s,Be]),U.jsxs("div",{ref:d,className:"w-full aspect-square max-w-[600px] relative rounded-xl overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 shadow-2xl",onTouchStart:mt,onTouchEnd:tt,children:[U.jsx("canvas",{ref:f,className:"block w-full h-full"}),U.jsxs("div",{className:"absolute bottom-4 right-4 md:hidden flex flex-col gap-2 items-center opacity-30 hover:opacity-100 transition-opacity",children:[U.jsx("button",{onClick:J=>{J.stopPropagation(),ie({x:0,y:-1})},className:"p-3 bg-white/20 rounded-full text-white backdrop-blur",children:U.jsx("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})}),U.jsxs("div",{className:"flex gap-4",children:[U.jsx("button",{onClick:J=>{J.stopPropagation(),ie({x:-1,y:0})},className:"p-3 bg-white/20 rounded-full text-white backdrop-blur",children:U.jsx("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),U.jsx("button",{onClick:J=>{J.stopPropagation(),ie({x:0,y:1})},className:"p-3 bg-white/20 rounded-full text-white backdrop-blur",children:U.jsx("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),U.jsx("button",{onClick:J=>{J.stopPropagation(),ie({x:1,y:0})},className:"p-3 bg-white/20 rounded-full text-white backdrop-blur",children:U.jsx("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})]})]})]})},Nl=({children:s,variant:n="primary",fullWidth:l=!1,className:u="",...o})=>{const f="relative overflow-hidden transition-all duration-200 active:scale-95 font-semibold tracking-wide disabled:opacity-50 disabled:cursor-not-allowed",d={primary:"bg-[#2ECC71] text-[#0E1B3E] hover:bg-[#27AE60] shadow-[0_0_15px_rgba(46,204,113,0.3)] rounded-lg py-3 px-6 text-lg uppercase",secondary:"bg-white/10 text-white hover:bg-white/20 border border-white/10 backdrop-blur-sm rounded-lg py-3 px-6 text-lg",icon:"p-3 rounded-full bg-white/5 hover:bg-white/10 text-white transition-colors"};return U.jsx("button",{className:`
        ${f} 
        ${d[n]} 
        ${l?"w-full":""} 
        ${u}
      `,...o,children:s})};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),S1=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,l,u)=>u?u.toUpperCase():l.toLowerCase()),ip=s=>{const n=S1(s);return n.charAt(0).toUpperCase()+n.slice(1)},$p=(...s)=>s.filter((n,l,u)=>!!n&&n.trim()!==""&&u.indexOf(n)===l).join(" ").trim(),b1=s=>{for(const n in s)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=ye.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:u,className:o="",children:f,iconNode:d,..._},g)=>ye.createElement("svg",{ref:g,...C1,width:n,height:n,stroke:s,strokeWidth:u?Number(l)*24/Number(n):l,className:$p("lucide",o),...!f&&!b1(_)&&{"aria-hidden":"true"},..._},[...d.map(([p,T])=>ye.createElement(p,T)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=(s,n)=>{const l=ye.forwardRef(({className:u,...o},f)=>ye.createElement(T1,{ref:f,iconNode:n,className:$p(`lucide-${E1(ip(s))}`,`lucide-${s}`,u),...o}));return l.displayName=ip(s),l};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],N1=Fu("pause",A1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],R1=Fu("trophy",x1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],w1=Fu("volume-2",D1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],O1=Fu("volume-x",M1),z1=({className:s})=>U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",className:s,children:U.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),U1=({className:s})=>U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",className:s,children:U.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),L1=()=>{};var lp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B=function(s,n){if(!s)throw Hl(n)},Hl=function(s){return new Error("Firebase Database ("+eg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=function(s){const n=[];let l=0;for(let u=0;u<s.length;u++){let o=s.charCodeAt(u);o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):(o&64512)===55296&&u+1<s.length&&(s.charCodeAt(u+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++u)&1023),n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},H1=function(s){const n=[];let l=0,u=0;for(;l<s.length;){const o=s[l++];if(o<128)n[u++]=String.fromCharCode(o);else if(o>191&&o<224){const f=s[l++];n[u++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=s[l++],d=s[l++],_=s[l++],g=((o&7)<<18|(f&63)<<12|(d&63)<<6|_&63)-65536;n[u++]=String.fromCharCode(55296+(g>>10)),n[u++]=String.fromCharCode(56320+(g&1023))}else{const f=s[l++],d=s[l++];n[u++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return n.join("")},ff={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,n){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,u=[];for(let o=0;o<s.length;o+=3){const f=s[o],d=o+1<s.length,_=d?s[o+1]:0,g=o+2<s.length,p=g?s[o+2]:0,T=f>>2,v=(f&3)<<4|_>>4;let b=(_&15)<<2|p>>6,L=p&63;g||(L=64,d||(b=64)),u.push(l[T],l[v],l[b],l[L])}return u.join("")},encodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(s):this.encodeByteArray(tg(s),n)},decodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(s):H1(this.decodeStringToByteArray(s,n))},decodeStringToByteArray(s,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,u=[];for(let o=0;o<s.length;){const f=l[s.charAt(o++)],_=o<s.length?l[s.charAt(o)]:0;++o;const p=o<s.length?l[s.charAt(o)]:64;++o;const v=o<s.length?l[s.charAt(o)]:64;if(++o,f==null||_==null||p==null||v==null)throw new B1;const b=f<<2|_>>4;if(u.push(b),p!==64){const L=_<<4&240|p>>2;if(u.push(L),v!==64){const I=p<<6&192|v;u.push(I)}}}return u},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class B1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ng=function(s){const n=tg(s);return ff.encodeByteArray(n,!0)},zu=function(s){return ng(s).replace(/\./g,"")},Xc=function(s){try{return ff.decodeString(s,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(s){return ig(void 0,s)}function ig(s,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!j1(l)||(s[l]=ig(s[l],n[l]));return s}function j1(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=()=>k1().__FIREBASE_DEFAULTS__,G1=()=>{if(typeof process>"u"||typeof lp>"u")return;const s=lp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Y1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=s&&Xc(s[1]);return n&&JSON.parse(n)},lg=()=>{try{return L1()||q1()||G1()||Y1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},V1=s=>{var n,l;return(l=(n=lg())==null?void 0:n.emulatorHosts)==null?void 0:l[s]},Q1=s=>{const n=V1(s);if(!n)return;const l=n.lastIndexOf(":");if(l<=0||l+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const u=parseInt(n.substring(l+1),10);return n[0]==="["?[n.substring(1,l-1),u]:[n.substring(0,l),u]},ag=()=>{var s;return(s=lg())==null?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,u)=>{l?this.reject(l):this.resolve(u),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function X1(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(s,n){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},u=n||"demo-project",o=s.iat||0,f=s.sub||s.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${u}`,aud:u,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...s};return[zu(JSON.stringify(l)),zu(JSON.stringify(d)),""].join(".")}const ka={};function K1(){const s={prod:[],emulator:[]};for(const n of Object.keys(ka))ka[n]?s.emulator.push(n):s.prod.push(n);return s}function F1(s){let n=document.getElementById(s),l=!1;return n||(n=document.createElement("div"),n.setAttribute("id",s),l=!0),{created:l,element:n}}let ap=!1;function J1(s,n){if(typeof window>"u"||typeof document>"u"||!hf(window.location.host)||ka[s]===n||ka[s]||ap)return;ka[s]=n;function l(b){return`__firebase__banner__${b}`}const u="__firebase__banner",f=K1().prod.length>0;function d(){const b=document.getElementById(u);b&&b.remove()}function _(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,L){b.setAttribute("width","24"),b.setAttribute("id",L),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{ap=!0,d()},b}function T(b,L){b.setAttribute("id",L),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=F1(u),L=l("text"),I=document.getElementById(L)||document.createElement("span"),Q=l("learnmore"),te=document.getElementById(Q)||document.createElement("a"),Ae=l("preprendIcon"),Be=document.getElementById(Ae)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const ie=b.element;_(ie),T(te,Q);const se=p();g(Be,Ae),ie.append(Be,I,te,se),document.body.appendChild(ie)}f?(I.innerText="Preview backend disconnected.",Be.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Be.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(W1())}function P1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $1(){return eg.NODE_ADMIN===!0}function eE(){try{return typeof indexedDB=="object"}catch{return!1}}function tE(){return new Promise((s,n)=>{try{let l=!0;const u="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(u);o.onsuccess=()=>{o.result.close(),l||self.indexedDB.deleteDatabase(u),s(!0)},o.onupgradeneeded=()=>{l=!1},o.onerror=()=>{var f;n(((f=o.error)==null?void 0:f.message)||"")}}catch(l){n(l)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="FirebaseError";class ls extends Error{constructor(n,l,u){super(l),this.code=n,this.customData=u,this.name=nE,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ug.prototype.create)}}class ug{constructor(n,l,u){this.service=n,this.serviceName=l,this.errors=u}create(n,...l){const u=l[0]||{},o=`${this.service}/${n}`,f=this.errors[n],d=f?iE(f,u):"Error",_=`${this.serviceName}: ${d} (${o}).`;return new ls(o,_,u)}}function iE(s,n){return s.replace(lE,(l,u)=>{const o=n[u];return o!=null?String(o):`<${u}?>`})}const lE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(s){return JSON.parse(s)}function $e(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=function(s){let n={},l={},u={},o="";try{const f=s.split(".");n=Xa(Xc(f[0])||""),l=Xa(Xc(f[1])||""),o=f[2],u=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:u,signature:o}},aE=function(s){const n=rg(s),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},sE=function(s){const n=rg(s).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(s,n){return Object.prototype.hasOwnProperty.call(s,n)}function Ol(s,n){if(Object.prototype.hasOwnProperty.call(s,n))return s[n]}function sp(s){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n))return!1;return!0}function Uu(s,n,l){const u={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(u[o]=n.call(l,s[o],o,s));return u}function Lu(s,n){if(s===n)return!0;const l=Object.keys(s),u=Object.keys(n);for(const o of l){if(!u.includes(o))return!1;const f=s[o],d=n[o];if(up(f)&&up(d)){if(!Lu(f,d))return!1}else if(f!==d)return!1}for(const o of u)if(!l.includes(o))return!1;return!0}function up(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(s){const n=[];for(const[l,u]of Object.entries(s))Array.isArray(u)?u.forEach(o=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(o))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(u));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const u=this.W_;if(typeof n=="string")for(let v=0;v<16;v++)u[v]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let v=0;v<16;v++)u[v]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let v=16;v<80;v++){const b=u[v-3]^u[v-8]^u[v-14]^u[v-16];u[v]=(b<<1|b>>>31)&4294967295}let o=this.chain_[0],f=this.chain_[1],d=this.chain_[2],_=this.chain_[3],g=this.chain_[4],p,T;for(let v=0;v<80;v++){v<40?v<20?(p=_^f&(d^_),T=1518500249):(p=f^d^_,T=1859775393):v<60?(p=f&d|_&(f|d),T=2400959708):(p=f^d^_,T=3395469782);const b=(o<<5|o>>>27)+p+g+T+u[v]&4294967295;g=_,_=d,d=(f<<30|f>>>2)&4294967295,f=o,o=b}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+_&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const u=l-this.blockSize;let o=0;const f=this.buf_;let d=this.inbuf_;for(;o<l;){if(d===0)for(;o<=u;)this.compress_(n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<l;)if(f[d]=n.charCodeAt(o),++d,++o,d===this.blockSize){this.compress_(f),d=0;break}}else for(;o<l;)if(f[d]=n[o],++d,++o,d===this.blockSize){this.compress_(f),d=0;break}}this.inbuf_=d,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=l&255,l/=256;this.compress_(this.buf_);let u=0;for(let o=0;o<5;o++)for(let f=24;f>=0;f-=8)n[u]=this.chain_[o]>>f&255,++u;return n}}function df(s,n){return`${s} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=function(s){const n=[];let l=0;for(let u=0;u<s.length;u++){let o=s.charCodeAt(u);if(o>=55296&&o<=56319){const f=o-55296;u++,B(u<s.length,"Surrogate pair missing trail surrogate.");const d=s.charCodeAt(u)-56320;o=65536+(f<<10)+d}o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):o<65536?(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},Wu=function(s){let n=0;for(let l=0;l<s.length;l++){const u=s.charCodeAt(l);u<128?n++:u<2048?n+=2:u>=55296&&u<=56319?(n+=4,l++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(s){return s&&s._delegate?s._delegate:s}class Za{constructor(n,l,u){this.name=n,this.instanceFactory=l,this.type=u,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const u=new Ju;if(this.instancesDeferred.set(l,u),this.isInitialized(l)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:l});o&&u.resolve(o)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){const l=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),u=(n==null?void 0:n.optional)??!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(o){if(u)return null;throw o}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(hE(n))try{this.getOrInitializeService({instanceIdentifier:Oi})}catch{}for(const[l,u]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(l);try{const f=this.getOrInitializeService({instanceIdentifier:o});u.resolve(f)}catch{}}}}clearInstance(n=Oi){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Oi){return this.instances.has(n)}getOptions(n=Oi){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,u=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(u))throw Error(`${this.name}(${u}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:u,options:l});for(const[f,d]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(f);u===_&&d.resolve(o)}return o}onInit(n,l){const u=this.normalizeInstanceIdentifier(l),o=this.onInitCallbacks.get(u)??new Set;o.add(n),this.onInitCallbacks.set(u,o);const f=this.instances.get(u);return f&&n(f,u),()=>{o.delete(n)}}invokeOnInitCallbacks(n,l){const u=this.onInitCallbacks.get(l);if(u)for(const o of u)try{o(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:fE(n),options:l}),this.instances.set(n,u),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch{}return u||null}normalizeInstanceIdentifier(n=Oi){return this.component?this.component.multipleInstances?n:Oi:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fE(s){return s===Oi?void 0:s}function hE(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new cE(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Me||(Me={}));const mE={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},_E=Me.INFO,pE={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},gE=(s,n,...l)=>{if(n<s.logLevel)return;const u=new Date().toISOString(),o=pE[n];if(o)console[o](`[${u}]  ${s.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class og{constructor(n){this.name=n,this._logLevel=_E,this._logHandler=gE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Me))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?mE[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...n),this._logHandler(this,Me.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...n),this._logHandler(this,Me.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...n),this._logHandler(this,Me.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...n),this._logHandler(this,Me.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...n),this._logHandler(this,Me.ERROR,...n)}}const yE=(s,n)=>n.some(l=>s instanceof l);let rp,op;function vE(){return rp||(rp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EE(){return op||(op=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cg=new WeakMap,Zc=new WeakMap,fg=new WeakMap,Uc=new WeakMap,mf=new WeakMap;function SE(s){const n=new Promise((l,u)=>{const o=()=>{s.removeEventListener("success",f),s.removeEventListener("error",d)},f=()=>{l(si(s.result)),o()},d=()=>{u(s.error),o()};s.addEventListener("success",f),s.addEventListener("error",d)});return n.then(l=>{l instanceof IDBCursor&&cg.set(l,s)}).catch(()=>{}),mf.set(n,s),n}function bE(s){if(Zc.has(s))return;const n=new Promise((l,u)=>{const o=()=>{s.removeEventListener("complete",f),s.removeEventListener("error",d),s.removeEventListener("abort",d)},f=()=>{l(),o()},d=()=>{u(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",f),s.addEventListener("error",d),s.addEventListener("abort",d)});Zc.set(s,n)}let Kc={get(s,n,l){if(s instanceof IDBTransaction){if(n==="done")return Zc.get(s);if(n==="objectStoreNames")return s.objectStoreNames||fg.get(s);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return si(s[n])},set(s,n,l){return s[n]=l,!0},has(s,n){return s instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in s}};function CE(s){Kc=s(Kc)}function TE(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const u=s.call(Lc(this),n,...l);return fg.set(u,n.sort?n.sort():[n]),si(u)}:EE().includes(s)?function(...n){return s.apply(Lc(this),n),si(cg.get(this))}:function(...n){return si(s.apply(Lc(this),n))}}function AE(s){return typeof s=="function"?TE(s):(s instanceof IDBTransaction&&bE(s),yE(s,vE())?new Proxy(s,Kc):s)}function si(s){if(s instanceof IDBRequest)return SE(s);if(Uc.has(s))return Uc.get(s);const n=AE(s);return n!==s&&(Uc.set(s,n),mf.set(n,s)),n}const Lc=s=>mf.get(s);function NE(s,n,{blocked:l,upgrade:u,blocking:o,terminated:f}={}){const d=indexedDB.open(s,n),_=si(d);return u&&d.addEventListener("upgradeneeded",g=>{u(si(d.result),g.oldVersion,g.newVersion,si(d.transaction),g)}),l&&d.addEventListener("blocked",g=>l(g.oldVersion,g.newVersion,g)),_.then(g=>{f&&g.addEventListener("close",()=>f()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),_}const xE=["get","getKey","getAll","getAllKeys","count"],RE=["put","add","delete","clear"],Hc=new Map;function cp(s,n){if(!(s instanceof IDBDatabase&&!(n in s)&&typeof n=="string"))return;if(Hc.get(n))return Hc.get(n);const l=n.replace(/FromIndex$/,""),u=n!==l,o=RE.includes(l);if(!(l in(u?IDBIndex:IDBObjectStore).prototype)||!(o||xE.includes(l)))return;const f=async function(d,..._){const g=this.transaction(d,o?"readwrite":"readonly");let p=g.store;return u&&(p=p.index(_.shift())),(await Promise.all([p[l](..._),o&&g.done]))[0]};return Hc.set(n,f),f}CE(s=>({...s,get:(n,l,u)=>cp(n,l)||s.get(n,l,u),has:(n,l)=>!!cp(n,l)||s.has(n,l)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(wE(l)){const u=l.getImmediate();return`${u.library}/${u.version}`}else return null}).filter(l=>l).join(" ")}}function wE(s){const n=s.getComponent();return(n==null?void 0:n.type)==="VERSION"}const Fc="@firebase/app",fp="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn=new og("@firebase/app"),ME="@firebase/app-compat",OE="@firebase/analytics-compat",zE="@firebase/analytics",UE="@firebase/app-check-compat",LE="@firebase/app-check",HE="@firebase/auth",BE="@firebase/auth-compat",IE="@firebase/database",jE="@firebase/data-connect",kE="@firebase/database-compat",qE="@firebase/functions",GE="@firebase/functions-compat",YE="@firebase/installations",VE="@firebase/installations-compat",QE="@firebase/messaging",XE="@firebase/messaging-compat",ZE="@firebase/performance",KE="@firebase/performance-compat",FE="@firebase/remote-config",JE="@firebase/remote-config-compat",WE="@firebase/storage",PE="@firebase/storage-compat",$E="@firebase/firestore",eS="@firebase/ai",tS="@firebase/firestore-compat",nS="firebase",iS="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc="[DEFAULT]",lS={[Fc]:"fire-core",[ME]:"fire-core-compat",[zE]:"fire-analytics",[OE]:"fire-analytics-compat",[LE]:"fire-app-check",[UE]:"fire-app-check-compat",[HE]:"fire-auth",[BE]:"fire-auth-compat",[IE]:"fire-rtdb",[jE]:"fire-data-connect",[kE]:"fire-rtdb-compat",[qE]:"fire-fn",[GE]:"fire-fn-compat",[YE]:"fire-iid",[VE]:"fire-iid-compat",[QE]:"fire-fcm",[XE]:"fire-fcm-compat",[ZE]:"fire-perf",[KE]:"fire-perf-compat",[FE]:"fire-rc",[JE]:"fire-rc-compat",[WE]:"fire-gcs",[PE]:"fire-gcs-compat",[$E]:"fire-fst",[tS]:"fire-fst-compat",[eS]:"fire-vertex","fire-js":"fire-js",[nS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new Map,aS=new Map,Wc=new Map;function hp(s,n){try{s.container.addComponent(n)}catch(l){wn.debug(`Component ${n.name} failed to register with FirebaseApp ${s.name}`,l)}}function Hu(s){const n=s.name;if(Wc.has(n))return wn.debug(`There were multiple attempts to register component ${n}.`),!1;Wc.set(n,s);for(const l of Ka.values())hp(l,s);for(const l of aS.values())hp(l,s);return!0}function sS(s,n){const l=s.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),s.container.getProvider(n)}function uS(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ui=new ug("app","Firebase",rS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(n,l,u){this._isDeleted=!1,this._options={...n},this._config={...l},this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=u,this.container.addComponent(new Za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=iS;function hg(s,n={}){let l=s;typeof n!="object"&&(n={name:n});const u={name:Jc,automaticDataCollectionEnabled:!0,...n},o=u.name;if(typeof o!="string"||!o)throw ui.create("bad-app-name",{appName:String(o)});if(l||(l=ag()),!l)throw ui.create("no-options");const f=Ka.get(o);if(f){if(Lu(l,f.options)&&Lu(u,f.config))return f;throw ui.create("duplicate-app",{appName:o})}const d=new dE(o);for(const g of Wc.values())d.addComponent(g);const _=new oS(l,u,d);return Ka.set(o,_),_}function fS(s=Jc){const n=Ka.get(s);if(!n&&s===Jc&&ag())return hg();if(!n)throw ui.create("no-app",{appName:s});return n}function dp(){return Array.from(Ka.values())}function Dl(s,n,l){let u=lS[s]??s;l&&(u+=`-${l}`);const o=u.match(/\s|\//),f=n.match(/\s|\//);if(o||f){const d=[`Unable to register library "${u}" with version "${n}":`];o&&d.push(`library name "${u}" contains illegal characters (whitespace or "/")`),o&&f&&d.push("and"),f&&d.push(`version name "${n}" contains illegal characters (whitespace or "/")`),wn.warn(d.join(" "));return}Hu(new Za(`${u}-version`,()=>({library:u,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="firebase-heartbeat-database",dS=1,Fa="firebase-heartbeat-store";let Bc=null;function dg(){return Bc||(Bc=NE(hS,dS,{upgrade:(s,n)=>{switch(n){case 0:try{s.createObjectStore(Fa)}catch(l){console.warn(l)}}}}).catch(s=>{throw ui.create("idb-open",{originalErrorMessage:s.message})})),Bc}async function mS(s){try{const l=(await dg()).transaction(Fa),u=await l.objectStore(Fa).get(mg(s));return await l.done,u}catch(n){if(n instanceof ls)wn.warn(n.message);else{const l=ui.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});wn.warn(l.message)}}}async function mp(s,n){try{const u=(await dg()).transaction(Fa,"readwrite");await u.objectStore(Fa).put(n,mg(s)),await u.done}catch(l){if(l instanceof ls)wn.warn(l.message);else{const u=ui.create("idb-set",{originalErrorMessage:l==null?void 0:l.message});wn.warn(u.message)}}}function mg(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=1024,pS=30;class gS{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new vS(l),this._heartbeatsCachePromise=this._storage.read().then(u=>(this._heartbeatsCache=u,u))}async triggerHeartbeat(){var n,l;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=_p();if(((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((l=this._heartbeatsCache)==null?void 0:l.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(d=>d.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:o}),this._heartbeatsCache.heartbeats.length>pS){const d=ES(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(u){wn.warn(u)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const l=_p(),{heartbeatsToSend:u,unsentEntries:o}=yS(this._heartbeatsCache.heartbeats),f=zu(JSON.stringify({version:2,heartbeats:u}));return this._heartbeatsCache.lastSentHeartbeatDate=l,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(l){return wn.warn(l),""}}}function _p(){return new Date().toISOString().substring(0,10)}function yS(s,n=_S){const l=[];let u=s.slice();for(const o of s){const f=l.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),pp(l)>n){f.dates.pop();break}}else if(l.push({agent:o.agent,dates:[o.date]}),pp(l)>n){l.pop();break}u=u.slice(1)}return{heartbeatsToSend:l,unsentEntries:u}}class vS{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eE()?tE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await mS(this.app);return l!=null&&l.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const u=await this.read();return mp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??u.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const u=await this.read();return mp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...n.heartbeats]})}else return}}function pp(s){return zu(JSON.stringify({version:2,heartbeats:s})).length}function ES(s){if(s.length===0)return-1;let n=0,l=s[0].date;for(let u=1;u<s.length;u++)s[u].date<l&&(l=s[u].date,n=u);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(s){Hu(new Za("platform-logger",n=>new DE(n),"PRIVATE")),Hu(new Za("heartbeat",n=>new gS(n),"PRIVATE")),Dl(Fc,fp,s),Dl(Fc,fp,"esm2020"),Dl("fire-js","")}SS("");var bS="firebase",CS="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dl(bS,CS,"app");var gp={};const yp="@firebase/database",vp="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _g="";function TS(s){_g=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),$e(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:Xa(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return zn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const n=window[s];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new AS(n)}}catch{}return new NS},Ui=pg("localStorage"),xS=pg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=new og("@firebase/database"),RS=(function(){let s=1;return function(){return s++}})(),gg=function(s){const n=oE(s),l=new rE;l.update(n);const u=l.digest();return ff.encodeByteArray(u)},as=function(...s){let n="";for(let l=0;l<s.length;l++){const u=s[l];Array.isArray(u)||u&&typeof u=="object"&&typeof u.length=="number"?n+=as.apply(null,u):typeof u=="object"?n+=$e(u):n+=u,n+=" "}return n};let qa=null,Ep=!0;const DS=function(s,n){B(!0,"Can't turn on custom loggers persistently."),wl.logLevel=Me.VERBOSE,qa=wl.log.bind(wl)},pt=function(...s){if(Ep===!0&&(Ep=!1,qa===null&&xS.get("logging_enabled")===!0&&DS()),qa){const n=as.apply(null,s);qa(n)}},ss=function(s){return function(...n){pt(s,...n)}},Pc=function(...s){const n="FIREBASE INTERNAL ERROR: "+as(...s);wl.error(n)},Mn=function(...s){const n=`FIREBASE FATAL ERROR: ${as(...s)}`;throw wl.error(n),new Error(n)},Rt=function(...s){const n="FIREBASE WARNING: "+as(...s);wl.warn(n)},wS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},yg=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},MS=function(s){if(document.readyState==="complete")s();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},zl="[MIN_NAME]",Hi="[MAX_NAME]",Il=function(s,n){if(s===n)return 0;if(s===zl||n===Hi)return-1;if(n===zl||s===Hi)return 1;{const l=Sp(s),u=Sp(n);return l!==null?u!==null?l-u===0?s.length-n.length:l-u:-1:u!==null?1:s<n?-1:1}},OS=function(s,n){return s===n?0:s<n?-1:1},Ha=function(s,n){if(n&&s in n)return n[s];throw new Error("Missing required key ("+s+") in object: "+$e(n))},_f=function(s){if(typeof s!="object"||s===null)return $e(s);const n=[];for(const u in s)n.push(u);n.sort();let l="{";for(let u=0;u<n.length;u++)u!==0&&(l+=","),l+=$e(n[u]),l+=":",l+=_f(s[n[u]]);return l+="}",l},vg=function(s,n){const l=s.length;if(l<=n)return[s];const u=[];for(let o=0;o<l;o+=n)o+n>l?u.push(s.substring(o,l)):u.push(s.substring(o,o+n));return u};function Dt(s,n){for(const l in s)s.hasOwnProperty(l)&&n(l,s[l])}const Eg=function(s){B(!yg(s),"Invalid JSON number");const n=11,l=52,u=(1<<n-1)-1;let o,f,d,_,g;s===0?(f=0,d=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-u)?(_=Math.min(Math.floor(Math.log(s)/Math.LN2),u),f=_+u,d=Math.round(s*Math.pow(2,l-_)-Math.pow(2,l))):(f=0,d=Math.round(s/Math.pow(2,1-u-l))));const p=[];for(g=l;g;g-=1)p.push(d%2?1:0),d=Math.floor(d/2);for(g=n;g;g-=1)p.push(f%2?1:0),f=Math.floor(f/2);p.push(o?1:0),p.reverse();const T=p.join("");let v="";for(g=0;g<64;g+=8){let b=parseInt(T.substr(g,8),2).toString(16);b.length===1&&(b="0"+b),v=v+b}return v.toLowerCase()},zS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},US=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function LS(s,n){let l="Unknown Error";s==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?l="Client doesn't have permission to access the desired data.":s==="unavailable"&&(l="The service is unavailable");const u=new Error(s+" at "+n._path.toString()+": "+l);return u.code=s.toUpperCase(),u}const HS=new RegExp("^-?(0*)\\d{1,10}$"),BS=-2147483648,IS=2147483647,Sp=function(s){if(HS.test(s)){const n=Number(s);if(n>=BS&&n<=IS)return n}return null},jl=function(s){try{s()}catch(n){setTimeout(()=>{const l=n.stack||"";throw Rt("Exception was thrown by user callback.",l),n},Math.floor(0))}},jS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ga=function(s,n){const l=setTimeout(s,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(n,l){this.appCheckProvider=l,this.appName=n.name,uS(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=l==null?void 0:l.getImmediate({optional:!0}),this.appCheck||l==null||l.get().then(u=>this.appCheck=u)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((l,u)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,u):l(null)},0)})}addTokenChangeListener(n){var l;(l=this.appCheckProvider)==null||l.get().then(u=>u.addTokenListener(n))}notifyForInvalidToken(){Rt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(n,l,u){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=u,this.auth_=null,this.auth_=u.getImmediate({optional:!0}),this.auth_||u.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(pt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,u)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,u):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Rt(n)}}class Ou{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Ou.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf="5",Sg="v",bg="s",Cg="r",Tg="f",Ag=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ng="ls",xg="p",$c="ac",Rg="websocket",Dg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(n,l,u,o,f=!1,d="",_=!1,g=!1,p=null){this.secure=l,this.namespace=u,this.webSocketOnly=o,this.nodeAdmin=f,this.persistenceKey=d,this.includeNamespaceInQueryParams=_,this.isUsingEmulator=g,this.emulatorOptions=p,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ui.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Ui.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function GS(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Mg(s,n,l){B(typeof n=="string","typeof type must == string"),B(typeof l=="object","typeof params must == object");let u;if(n===Rg)u=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(n===Dg)u=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);GS(s)&&(l.ns=s.namespace);const o=[];return Dt(l,(f,d)=>{o.push(f+"="+d)}),u+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.counters_={}}incrementCounter(n,l=1){zn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return I1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic={},jc={};function gf(s){const n=s.toString();return Ic[n]||(Ic[n]=new YS),Ic[n]}function VS(s,n){const l=s.toString();return jc[l]||(jc[l]=n()),jc[l]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const u=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<u.length;++o)u[o]&&jl(()=>{this.onMessage_(u[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="start",XS="close",ZS="pLPCommand",KS="pRTLPCB",Og="id",zg="pw",Ug="ser",FS="cb",JS="seg",WS="ts",PS="d",$S="dframe",Lg=1870,Hg=30,eb=Lg-Hg,tb=25e3,nb=3e4;class Rl{constructor(n,l,u,o,f,d,_){this.connId=n,this.repoInfo=l,this.applicationId=u,this.appCheckToken=o,this.authToken=f,this.transportSessionId=d,this.lastSessionId=_,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ss(n),this.stats_=gf(l),this.urlFn=g=>(this.appCheckToken&&(g[$c]=this.appCheckToken),Mg(l,Dg,g))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new QS(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(nb)),MS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new yf((...f)=>{const[d,_,g,p,T]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===bp)this.id=_,this.password=g;else if(d===XS)_?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(_,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...f)=>{const[d,_]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(d,_)},()=>{this.onClosed_()},this.urlFn);const u={};u[bp]="t",u[Ug]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(u[FS]=this.scriptTagHolder.uniqueCallbackIdentifier),u[Sg]=pf,this.transportSessionId&&(u[bg]=this.transportSessionId),this.lastSessionId&&(u[Ng]=this.lastSessionId),this.applicationId&&(u[xg]=this.applicationId),this.appCheckToken&&(u[$c]=this.appCheckToken),typeof location<"u"&&location.hostname&&Ag.test(location.hostname)&&(u[Cg]=Tg);const o=this.urlFn(u);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Rl.forceAllow_=!0}static forceDisallow(){Rl.forceDisallow_=!0}static isAvailable(){return Rl.forceAllow_?!0:!Rl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!zS()&&!US()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=$e(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const u=ng(l),o=vg(u,eb);for(let f=0;f<o.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[f]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const u={};u[$S]="t",u[Og]=n,u[zg]=l,this.myDisconnFrame.src=this.urlFn(u),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=$e(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class yf{constructor(n,l,u,o){this.onDisconnect=u,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=RS(),window[ZS+this.uniqueCallbackIdentifier]=n,window[KS+this.uniqueCallbackIdentifier]=l,this.myIFrame=yf.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(_){pt("frame writing exception"),_.stack&&pt(_.stack),pt(_)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||pt("No IE domain setting required")}catch{const u=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+u+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[Og]=this.myID,n[zg]=this.myPW,n[Ug]=this.currentSerial;let l=this.urlFn(n),u="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Hg+u.length<=Lg;){const d=this.pendingSegs.shift();u=u+"&"+JS+o+"="+d.seg+"&"+WS+o+"="+d.ts+"&"+PS+o+"="+d.d,o++}return l=l+u,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,u){this.pendingSegs.push({seg:n,ts:l,d:u}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const u=()=>{this.outstandingRequests.delete(l),this.newRequest_()},o=setTimeout(u,Math.floor(tb)),f=()=>{clearTimeout(o),u()};this.addTag(n,f)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const u=this.myIFrame.doc.createElement("script");u.type="text/javascript",u.async=!0,u.src=n,u.onload=u.onreadystatechange=function(){const o=u.readyState;(!o||o==="loaded"||o==="complete")&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),l())},u.onerror=()=>{pt("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(u)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=16384,lb=45e3;let Bu=null;typeof MozWebSocket<"u"?Bu=MozWebSocket:typeof WebSocket<"u"&&(Bu=WebSocket);class $t{constructor(n,l,u,o,f,d,_){this.connId=n,this.applicationId=u,this.appCheckToken=o,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ss(this.connId),this.stats_=gf(l),this.connURL=$t.connectionURL_(l,d,_,o,u),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,u,o,f){const d={};return d[Sg]=pf,typeof location<"u"&&location.hostname&&Ag.test(location.hostname)&&(d[Cg]=Tg),l&&(d[bg]=l),u&&(d[Ng]=u),o&&(d[$c]=o),f&&(d[xg]=f),Mg(n,Rg,d)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ui.set("previous_websocket_failure",!0);try{let u;$1(),this.mySock=new Bu(this.connURL,[],u)}catch(u){this.log_("Error instantiating WebSocket.");const o=u.message||u.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=u=>{this.handleIncomingFrame(u)},this.mySock.onerror=u=>{this.log_("WebSocket error.  Closing connection.");const o=u.message||u.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){$t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,u=navigator.userAgent.match(l);u&&u.length>1&&parseFloat(u[1])<4.4&&(n=!0)}return!n&&Bu!==null&&!$t.forceDisallow_}static previouslyFailed(){return Ui.isInMemoryStorage||Ui.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ui.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const u=Xa(l);this.onMessage(u)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(B(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const u=this.extractFrameCount_(l);u!==null&&this.appendFrame_(u)}}send(n){this.resetKeepAlive();const l=$e(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const u=vg(l,ib);u.length>1&&this.sendString_(String(u.length));for(let o=0;o<u.length;o++)this.sendString_(u[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(lb))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}$t.responsesRequiredToBeHealthy=2;$t.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{static get ALL_TRANSPORTS(){return[Rl,$t]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const l=$t&&$t.isAvailable();let u=l&&!$t.previouslyFailed();if(n.webSocketOnly&&(l||Rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),u=!0),u)this.transports_=[$t];else{const o=this.transports_=[];for(const f of Ja.ALL_TRANSPORTS)f&&f.isAvailable()&&o.push(f);Ja.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ja.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=6e4,sb=5e3,ub=10*1024,rb=100*1024,kc="t",Cp="d",ob="s",Tp="r",cb="e",Ap="o",Np="a",xp="n",Rp="p",fb="h";class hb{constructor(n,l,u,o,f,d,_,g,p,T){this.id=n,this.repoInfo_=l,this.applicationId_=u,this.appCheckToken_=o,this.authToken_=f,this.onMessage_=d,this.onReady_=_,this.onDisconnect_=g,this.onKill_=p,this.lastSessionId=T,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ss("c:"+this.id+":"),this.transportManager_=new Ja(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),u=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,u)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Ga(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>rb?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ub?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(kc in n){const l=n[kc];l===Np?this.upgradeIfSecondaryHealthy_():l===Tp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===Ap&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=Ha("t",n),u=Ha("d",n);if(l==="c")this.onSecondaryControl_(u);else if(l==="d")this.pendingDataMessages.push(u);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Rp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Np,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:xp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=Ha("t",n),u=Ha("d",n);l==="c"?this.onControl_(u):l==="d"&&this.onDataMessage_(u)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=Ha(kc,n);if(Cp in n){const u=n[Cp];if(l===fb){const o={...u};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(l===xp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===ob?this.onConnectionShutdown_(u):l===Tp?this.onReset_(u):l===cb?Pc("Server Error: "+u):l===Ap?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pc("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,u=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),pf!==u&&Rt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),u=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,u),Ga(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ab))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ga(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(sb))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Rp,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ui.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{put(n,l,u,o){}merge(n,l,u,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,u){}onDisconnectMerge(n,l,u){}onDisconnectCancel(n,l){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(n){this.allowedEvents_=n,this.listeners_={},B(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const u=[...this.listeners_[n]];for(let o=0;o<u.length;o++)u[o].callback.apply(u[o].context,l)}}on(n,l,u){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:u});const o=this.getInitialEvent(n);o&&l.apply(u,o)}off(n,l,u){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let f=0;f<o.length;f++)if(o[f].callback===l&&(!u||u===o[f].context)){o.splice(f,1);return}}validateEventType_(n){B(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends Ig{static getInstance(){return new Iu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!sg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return B(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=32,wp=768;class we{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let u=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[u]=this.pieces_[o],u++);this.pieces_.length=u,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function ve(){return new we("")}function de(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function ci(s){return s.pieces_.length-s.pieceNum_}function Oe(s){let n=s.pieceNum_;return n<s.pieces_.length&&n++,new we(s.pieces_,n)}function jg(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function db(s){let n="";for(let l=s.pieceNum_;l<s.pieces_.length;l++)s.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(s.pieces_[l])));return n||"/"}function kg(s,n=0){return s.pieces_.slice(s.pieceNum_+n)}function qg(s){if(s.pieceNum_>=s.pieces_.length)return null;const n=[];for(let l=s.pieceNum_;l<s.pieces_.length-1;l++)n.push(s.pieces_[l]);return new we(n,0)}function et(s,n){const l=[];for(let u=s.pieceNum_;u<s.pieces_.length;u++)l.push(s.pieces_[u]);if(n instanceof we)for(let u=n.pieceNum_;u<n.pieces_.length;u++)l.push(n.pieces_[u]);else{const u=n.split("/");for(let o=0;o<u.length;o++)u[o].length>0&&l.push(u[o])}return new we(l,0)}function oe(s){return s.pieceNum_>=s.pieces_.length}function yt(s,n){const l=de(s),u=de(n);if(l===null)return n;if(l===u)return yt(Oe(s),Oe(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+s+")")}function Gg(s,n){if(ci(s)!==ci(n))return!1;for(let l=s.pieceNum_,u=n.pieceNum_;l<=s.pieces_.length;l++,u++)if(s.pieces_[l]!==n.pieces_[u])return!1;return!0}function en(s,n){let l=s.pieceNum_,u=n.pieceNum_;if(ci(s)>ci(n))return!1;for(;l<s.pieces_.length;){if(s.pieces_[l]!==n.pieces_[u])return!1;++l,++u}return!0}class mb{constructor(n,l){this.errorPrefix_=l,this.parts_=kg(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let u=0;u<this.parts_.length;u++)this.byteLength_+=Wu(this.parts_[u]);Yg(this)}}function _b(s,n){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(n),s.byteLength_+=Wu(n),Yg(s)}function pb(s){const n=s.parts_.pop();s.byteLength_-=Wu(n),s.parts_.length>0&&(s.byteLength_-=1)}function Yg(s){if(s.byteLength_>wp)throw new Error(s.errorPrefix_+"has a key path longer than "+wp+" bytes ("+s.byteLength_+").");if(s.parts_.length>Dp)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Dp+") or object contains a cycle "+zi(s))}function zi(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends Ig{static getInstance(){return new vf}constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const u=!document[n];u!==this.visible_&&(this.visible_=u,this.trigger("visible",u))},!1)}getInitialEvent(n){return B(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=1e3,gb=300*1e3,Mp=30*1e3,yb=1.3,vb=3e4,Eb="server_kill",Op=3;class Dn extends Bg{constructor(n,l,u,o,f,d,_,g){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=u,this.onConnectStatus_=o,this.onServerInfoUpdate_=f,this.authTokenProvider_=d,this.appCheckTokenProvider_=_,this.authOverride_=g,this.id=Dn.nextPersistentConnectionId_++,this.log_=ss("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ba,this.maxReconnectDelay_=gb,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Iu.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,u){const o=++this.requestNumber_,f={r:o,a:n,b:l};this.log_($e(f)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),u&&(this.requestCBHash_[o]=u)}get(n){this.initConnection_();const l=new Ju,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:d=>{const _=d.d;d.s==="ok"?l.resolve(_):l.reject(_)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),l.promise}listen(n,l,u,o){this.initConnection_();const f=n._queryIdentifier,d=n._path.toString();this.log_("Listen called for "+d+" "+f),this.listens.has(d)||this.listens.set(d,new Map),B(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(d).has(f),"listen() called twice for same path/queryId.");const _={onComplete:o,hashFn:l,query:n,tag:u};this.listens.get(d).set(f,_),this.connected_&&this.sendListen_(_)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,u=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(u)})}sendListen_(n){const l=n.query,u=l._path.toString(),o=l._queryIdentifier;this.log_("Listen on "+u+" for "+o);const f={p:u},d="q";n.tag&&(f.q=l._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(d,f,_=>{const g=_.d,p=_.s;Dn.warnOnListenWarnings_(g,l),(this.listens.get(u)&&this.listens.get(u).get(o))===n&&(this.log_("listen response",_),p!=="ok"&&this.removeListen_(u,o),n.onComplete&&n.onComplete(p,g))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&zn(n,"w")){const u=Ol(n,"w");if(Array.isArray(u)&&~u.indexOf("no_index")){const o='".indexOn": "'+l._queryParams.getIndex().toString()+'"',f=l._path.toString();Rt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||sE(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Mp)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=aE(n)?"auth":"gauth",u={cred:n};this.authOverride_===null?u.noauth=!0:typeof this.authOverride_=="object"&&(u.authvar=this.authOverride_),this.sendRequest(l,u,o=>{const f=o.s,d=o.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,u=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,u)})}unlisten(n,l){const u=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+u+" "+o),B(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(u,o)&&this.connected_&&this.sendUnlisten_(u,o,n._queryObject,l)}sendUnlisten_(n,l,u,o){this.log_("Unlisten on "+n+" for "+l);const f={p:n},d="n";o&&(f.q=u,f.t=o),this.sendRequest(d,f)}onDisconnectPut(n,l,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,u):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:u})}onDisconnectMerge(n,l,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,u):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:u})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,u,o){const f={p:l,d:u};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(n,l,u,o){this.putInternal("p",n,l,u,o)}merge(n,l,u,o){this.putInternal("m",n,l,u,o)}putInternal(n,l,u,o,f){this.initConnection_();const d={p:l,d:u};f!==void 0&&(d.h=f),this.outstandingPuts_.push({action:n,request:d,onComplete:o}),this.outstandingPutCount_++;const _=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(_):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,u=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,u,f=>{this.log_(l+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(f.s,f.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,u=>{if(u.s!=="ok"){const f=u.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+$e(n));const l=n.r,u=this.requestCBHash_[l];u&&(delete this.requestCBHash_[l],u(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):Pc("Unrecognized action received from server: "+$e(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ba,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ba,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>vb&&(this.reconnectDelay_=Ba),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*yb)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),u=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Dn.nextConnectionId_++,f=this.lastSessionId;let d=!1,_=null;const g=function(){_?_.close():(d=!0,u())},p=function(v){B(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(v)};this.realtime_={close:g,sendRequest:p};const T=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,b]=await Promise.all([this.authTokenProvider_.getToken(T),this.appCheckTokenProvider_.getToken(T)]);d?pt("getToken() completed but was canceled"):(pt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=b&&b.token,_=new hb(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,u,L=>{Rt(L+" ("+this.repoInfo_.toString()+")"),this.interrupt(Eb)},f))}catch(v){this.log_("Failed to get token: "+v),d||(this.repoInfo_.nodeAdmin&&Rt(v),g())}}}interrupt(n){pt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){pt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],sp(this.interruptReasons_)&&(this.reconnectDelay_=Ba,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let u;l?u=l.map(f=>_f(f)).join("$"):u="default";const o=this.removeListen_(n,u);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,l){const u=new we(n).toString();let o;if(this.listens.has(u)){const f=this.listens.get(u);o=f.get(l),f.delete(l),f.size===0&&this.listens.delete(u)}else o=void 0;return o}onAuthRevoked_(n,l){pt("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Op&&(this.reconnectDelay_=Mp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){pt("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Op&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+_g.replace(/\./g,"-")]=1,sg()?n["framework.cordova"]=1:P1()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Iu.getInstance().currentlyOnline();return sp(this.interruptReasons_)&&n}}Dn.nextPersistentConnectionId_=0;Dn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new ae(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const u=new ae(zl,n),o=new ae(zl,l);return this.compare(u,o)!==0}minPost(){return ae.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wu;class Vg extends Pu{static get __EMPTY_NODE(){return wu}static set __EMPTY_NODE(n){wu=n}compare(n,l){return Il(n.name,l.name)}isDefinedOn(n){throw Hl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return ae.MIN}maxPost(){return new ae(Hi,wu)}makePost(n,l){return B(typeof n=="string","KeyIndex indexValue must always be a string."),new ae(n,wu)}toString(){return".key"}}const Ml=new Vg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(n,l,u,o,f=null){this.isReverse_=o,this.resultGenerator_=f,this.nodeStack_=[];let d=1;for(;!n.isEmpty();)if(n=n,d=l?u(n.key,l):1,o&&(d*=-1),d<0)this.isReverse_?n=n.left:n=n.right;else if(d===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class ut{constructor(n,l,u,o,f){this.key=n,this.value=l,this.color=u??ut.RED,this.left=o??xt.EMPTY_NODE,this.right=f??xt.EMPTY_NODE}copy(n,l,u,o,f){return new ut(n??this.key,l??this.value,u??this.color,o??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,u){let o=this;const f=u(n,o.key);return f<0?o=o.copy(null,null,null,o.left.insert(n,l,u),null):f===0?o=o.copy(null,l,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,l,u)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return xt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let u,o;if(u=this,l(n,u.key)<0)!u.left.isEmpty()&&!u.left.isRed_()&&!u.left.left.isRed_()&&(u=u.moveRedLeft_()),u=u.copy(null,null,null,u.left.remove(n,l),null);else{if(u.left.isRed_()&&(u=u.rotateRight_()),!u.right.isEmpty()&&!u.right.isRed_()&&!u.right.left.isRed_()&&(u=u.moveRedRight_()),l(n,u.key)===0){if(u.right.isEmpty())return xt.EMPTY_NODE;o=u.right.min_(),u=u.copy(o.key,o.value,null,null,u.right.removeMin_())}u=u.copy(null,null,null,null,u.right.remove(n,l))}return u.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}ut.RED=!0;ut.BLACK=!1;class Sb{copy(n,l,u,o,f){return this}insert(n,l,u){return new ut(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xt{constructor(n,l=xt.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new xt(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,ut.BLACK,null,null))}remove(n){return new xt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,ut.BLACK,null,null))}get(n){let l,u=this.root_;for(;!u.isEmpty();){if(l=this.comparator_(n,u.key),l===0)return u.value;l<0?u=u.left:l>0&&(u=u.right)}return null}getPredecessorKey(n){let l,u=this.root_,o=null;for(;!u.isEmpty();)if(l=this.comparator_(n,u.key),l===0){if(u.left.isEmpty())return o?o.key:null;for(u=u.left;!u.right.isEmpty();)u=u.right;return u.key}else l<0?u=u.left:l>0&&(o=u,u=u.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Mu(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new Mu(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new Mu(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new Mu(this.root_,null,this.comparator_,!0,n)}}xt.EMPTY_NODE=new Sb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(s,n){return Il(s.name,n.name)}function Ef(s,n){return Il(s,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef;function Cb(s){ef=s}const Qg=function(s){return typeof s=="number"?"number:"+Eg(s):"string:"+s},Xg=function(s){if(s.isLeafNode()){const n=s.val();B(typeof n=="string"||typeof n=="number"||typeof n=="object"&&zn(n,".sv"),"Priority must be a string or number.")}else B(s===ef||s.isEmpty(),"priority of unexpected type.");B(s===ef||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zp;class st{static set __childrenNodeConstructor(n){zp=n}static get __childrenNodeConstructor(){return zp}constructor(n,l=st.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Xg(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new st(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return oe(n)?this:de(n)===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:st.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const u=de(n);return u===null?l:l.isEmpty()&&u!==".priority"?this:(B(u!==".priority"||ci(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(u,st.__childrenNodeConstructor.EMPTY_NODE.updateChild(Oe(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Qg(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=Eg(this.value_):n+=this.value_,this.lazyHash_=gg(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===st.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof st.__childrenNodeConstructor?-1:(B(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,u=typeof this.value_,o=st.VALUE_TYPE_ORDER.indexOf(l),f=st.VALUE_TYPE_ORDER.indexOf(u);return B(o>=0,"Unknown leaf type: "+l),B(f>=0,"Unknown leaf type: "+u),o===f?u==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}st.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zg,Kg;function Tb(s){Zg=s}function Ab(s){Kg=s}class Nb extends Pu{compare(n,l){const u=n.node.getPriority(),o=l.node.getPriority(),f=u.compareTo(o);return f===0?Il(n.name,l.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return ae.MIN}maxPost(){return new ae(Hi,new st("[PRIORITY-POST]",Kg))}makePost(n,l){const u=Zg(n);return new ae(l,new st("[PRIORITY-POST]",u))}toString(){return".priority"}}const qe=new Nb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=Math.log(2);class Rb{constructor(n){const l=f=>parseInt(Math.log(f)/xb,10),u=f=>parseInt(Array(f+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const o=u(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const ju=function(s,n,l,u){s.sort(n);const o=function(g,p){const T=p-g;let v,b;if(T===0)return null;if(T===1)return v=s[g],b=l?l(v):v,new ut(b,v.node,ut.BLACK,null,null);{const L=parseInt(T/2,10)+g,I=o(g,L),Q=o(L+1,p);return v=s[L],b=l?l(v):v,new ut(b,v.node,ut.BLACK,I,Q)}},f=function(g){let p=null,T=null,v=s.length;const b=function(I,Q){const te=v-I,Ae=v;v-=I;const Be=o(te+1,Ae),ie=s[te],se=l?l(ie):ie;L(new ut(se,ie.node,Q,null,Be))},L=function(I){p?(p.left=I,p=I):(T=I,p=I)};for(let I=0;I<g.count;++I){const Q=g.nextBitIsOne(),te=Math.pow(2,g.count-(I+1));Q?b(te,ut.BLACK):(b(te,ut.BLACK),b(te,ut.RED))}return T},d=new Rb(s.length),_=f(d);return new xt(u||n,_)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc;const xl={};class Rn{static get Default(){return B(xl&&qe,"ChildrenNode.ts has not been loaded"),qc=qc||new Rn({".priority":xl},{".priority":qe}),qc}constructor(n,l){this.indexes_=n,this.indexSet_=l}get(n){const l=Ol(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof xt?l:null}hasIndex(n){return zn(this.indexSet_,n.toString())}addIndex(n,l){B(n!==Ml,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const u=[];let o=!1;const f=l.getIterator(ae.Wrap);let d=f.getNext();for(;d;)o=o||n.isDefinedOn(d.node),u.push(d),d=f.getNext();let _;o?_=ju(u,n.getCompare()):_=xl;const g=n.toString(),p={...this.indexSet_};p[g]=n;const T={...this.indexes_};return T[g]=_,new Rn(T,p)}addToIndexes(n,l){const u=Uu(this.indexes_,(o,f)=>{const d=Ol(this.indexSet_,f);if(B(d,"Missing index implementation for "+f),o===xl)if(d.isDefinedOn(n.node)){const _=[],g=l.getIterator(ae.Wrap);let p=g.getNext();for(;p;)p.name!==n.name&&_.push(p),p=g.getNext();return _.push(n),ju(_,d.getCompare())}else return xl;else{const _=l.get(n.name);let g=o;return _&&(g=g.remove(new ae(n.name,_))),g.insert(n,n.node)}});return new Rn(u,this.indexSet_)}removeFromIndexes(n,l){const u=Uu(this.indexes_,o=>{if(o===xl)return o;{const f=l.get(n.name);return f?o.remove(new ae(n.name,f)):o}});return new Rn(u,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ia;class Z{static get EMPTY_NODE(){return Ia||(Ia=new Z(new xt(Ef),null,Rn.Default))}constructor(n,l,u){this.children_=n,this.priorityNode_=l,this.indexMap_=u,this.lazyHash_=null,this.priorityNode_&&Xg(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ia}updatePriority(n){return this.children_.isEmpty()?this:new Z(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?Ia:l}}getChild(n){const l=de(n);return l===null?this:this.getImmediateChild(l).getChild(Oe(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(B(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const u=new ae(n,l);let o,f;l.isEmpty()?(o=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(u,this.children_)):(o=this.children_.insert(n,l),f=this.indexMap_.addToIndexes(u,this.children_));const d=o.isEmpty()?Ia:this.priorityNode_;return new Z(o,d,f)}}updateChild(n,l){const u=de(n);if(u===null)return l;{B(de(n)!==".priority"||ci(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(u).updateChild(Oe(n),l);return this.updateImmediateChild(u,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let u=0,o=0,f=!0;if(this.forEachChild(qe,(d,_)=>{l[d]=_.val(n),u++,f&&Z.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):f=!1}),!n&&f&&o<2*u){const d=[];for(const _ in l)d[_]=l[_];return d}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Qg(this.getPriority().val())+":"),this.forEachChild(qe,(l,u)=>{const o=u.hash();o!==""&&(n+=":"+l+":"+o)}),this.lazyHash_=n===""?"":gg(n)}return this.lazyHash_}getPredecessorChildName(n,l,u){const o=this.resolveIndex_(u);if(o){const f=o.getPredecessorKey(new ae(n,l));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const u=l.minKey();return u&&u.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new ae(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const u=l.maxKey();return u&&u.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new ae(l,this.children_.get(l)):null}forEachChild(n,l){const u=this.resolveIndex_(n);return u?u.inorderTraversal(o=>l(o.name,o.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const u=this.resolveIndex_(l);if(u)return u.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,ae.Wrap);let f=o.peek();for(;f!=null&&l.compare(f,n)<0;)o.getNext(),f=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const u=this.resolveIndex_(l);if(u)return u.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,ae.Wrap);let f=o.peek();for(;f!=null&&l.compare(f,n)>0;)o.getNext(),f=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===us?-1:0}withIndex(n){if(n===Ml||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new Z(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===Ml||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const u=this.getIterator(qe),o=l.getIterator(qe);let f=u.getNext(),d=o.getNext();for(;f&&d;){if(f.name!==d.name||!f.node.equals(d.node))return!1;f=u.getNext(),d=o.getNext()}return f===null&&d===null}else return!1;else return!1}}resolveIndex_(n){return n===Ml?null:this.indexMap_.get(n.toString())}}Z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Db extends Z{constructor(){super(new xt(Ef),Z.EMPTY_NODE,Rn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return Z.EMPTY_NODE}isEmpty(){return!1}}const us=new Db;Object.defineProperties(ae,{MIN:{value:new ae(zl,Z.EMPTY_NODE)},MAX:{value:new ae(Hi,us)}});Vg.__EMPTY_NODE=Z.EMPTY_NODE;st.__childrenNodeConstructor=Z;Cb(us);Ab(us);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=!0;function rt(s,n=null){if(s===null)return Z.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(n=s[".priority"]),B(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const l=s;return new st(l,rt(n))}if(!(s instanceof Array)&&wb){const l=[];let u=!1;if(Dt(s,(d,_)=>{if(d.substring(0,1)!=="."){const g=rt(_);g.isEmpty()||(u=u||!g.getPriority().isEmpty(),l.push(new ae(d,g)))}}),l.length===0)return Z.EMPTY_NODE;const f=ju(l,bb,d=>d.name,Ef);if(u){const d=ju(l,qe.getCompare());return new Z(f,rt(n),new Rn({".priority":d},{".priority":qe}))}else return new Z(f,rt(n),Rn.Default)}else{let l=Z.EMPTY_NODE;return Dt(s,(u,o)=>{if(zn(s,u)&&u.substring(0,1)!=="."){const f=rt(o);(f.isLeafNode()||!f.isEmpty())&&(l=l.updateImmediateChild(u,f))}}),l.updatePriority(rt(n))}}Tb(rt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb extends Pu{constructor(n){super(),this.indexPath_=n,B(!oe(n)&&de(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const u=this.extractChild(n.node),o=this.extractChild(l.node),f=u.compareTo(o);return f===0?Il(n.name,l.name):f}makePost(n,l){const u=rt(n),o=Z.EMPTY_NODE.updateChild(this.indexPath_,u);return new ae(l,o)}maxPost(){const n=Z.EMPTY_NODE.updateChild(this.indexPath_,us);return new ae(Hi,n)}toString(){return kg(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob extends Pu{compare(n,l){const u=n.node.compareTo(l.node);return u===0?Il(n.name,l.name):u}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return ae.MIN}maxPost(){return ae.MAX}makePost(n,l){const u=rt(n);return new ae(l,u)}toString(){return".value"}}const zb=new Ob;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(s){return{type:"value",snapshotNode:s}}function Ul(s,n){return{type:"child_added",snapshotNode:n,childName:s}}function Wa(s,n){return{type:"child_removed",snapshotNode:n,childName:s}}function Pa(s,n,l){return{type:"child_changed",snapshotNode:n,childName:s,oldSnap:l}}function Ub(s,n){return{type:"child_moved",snapshotNode:n,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(n){this.index_=n}updateChild(n,l,u,o,f,d){B(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const _=n.getImmediateChild(l);return _.getChild(o).equals(u.getChild(o))&&_.isEmpty()===u.isEmpty()||(d!=null&&(u.isEmpty()?n.hasChild(l)?d.trackChildChange(Wa(l,_)):B(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):_.isEmpty()?d.trackChildChange(Ul(l,u)):d.trackChildChange(Pa(l,u,_))),n.isLeafNode()&&u.isEmpty())?n:n.updateImmediateChild(l,u).withIndex(this.index_)}updateFullNode(n,l,u){return u!=null&&(n.isLeafNode()||n.forEachChild(qe,(o,f)=>{l.hasChild(o)||u.trackChildChange(Wa(o,f))}),l.isLeafNode()||l.forEachChild(qe,(o,f)=>{if(n.hasChild(o)){const d=n.getImmediateChild(o);d.equals(f)||u.trackChildChange(Pa(o,f,d))}else u.trackChildChange(Ul(o,f))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?Z.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(n){this.indexedFilter_=new Sf(n.getIndex()),this.index_=n.getIndex(),this.startPost_=$a.getStartPost_(n),this.endPost_=$a.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,u=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&u}updateChild(n,l,u,o,f,d){return this.matches(new ae(l,u))||(u=Z.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,u,o,f,d)}updateFullNode(n,l,u){l.isLeafNode()&&(l=Z.EMPTY_NODE);let o=l.withIndex(this.index_);o=o.updatePriority(Z.EMPTY_NODE);const f=this;return l.forEachChild(qe,(d,_)=>{f.matches(new ae(d,_))||(o=o.updateImmediateChild(d,Z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,u)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const u=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?u<=0:u<0},this.withinEndPost=l=>{const u=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?u<=0:u<0},this.rangedFilter_=new $a(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,u,o,f,d){return this.rangedFilter_.matches(new ae(l,u))||(u=Z.EMPTY_NODE),n.getImmediateChild(l).equals(u)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,u,o,f,d):this.fullLimitUpdateChild_(n,l,u,f,d)}updateFullNode(n,l,u){let o;if(l.isLeafNode()||l.isEmpty())o=Z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){o=Z.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;f.hasNext()&&d<this.limit_;){const _=f.getNext();if(this.withinDirectionalStart(_))if(this.withinDirectionalEnd(_))o=o.updateImmediateChild(_.name,_.node),d++;else break;else continue}}else{o=l.withIndex(this.index_),o=o.updatePriority(Z.EMPTY_NODE);let f;this.reverse_?f=o.getReverseIterator(this.index_):f=o.getIterator(this.index_);let d=0;for(;f.hasNext();){const _=f.getNext();d<this.limit_&&this.withinDirectionalStart(_)&&this.withinDirectionalEnd(_)?d++:o=o.updateImmediateChild(_.name,Z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,u)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,u,o,f){let d;if(this.reverse_){const v=this.index_.getCompare();d=(b,L)=>v(L,b)}else d=this.index_.getCompare();const _=n;B(_.numChildren()===this.limit_,"");const g=new ae(l,u),p=this.reverse_?_.getFirstChild(this.index_):_.getLastChild(this.index_),T=this.rangedFilter_.matches(g);if(_.hasChild(l)){const v=_.getImmediateChild(l);let b=o.getChildAfterChild(this.index_,p,this.reverse_);for(;b!=null&&(b.name===l||_.hasChild(b.name));)b=o.getChildAfterChild(this.index_,b,this.reverse_);const L=b==null?1:d(b,g);if(T&&!u.isEmpty()&&L>=0)return f!=null&&f.trackChildChange(Pa(l,u,v)),_.updateImmediateChild(l,u);{f!=null&&f.trackChildChange(Wa(l,v));const Q=_.updateImmediateChild(l,Z.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(f!=null&&f.trackChildChange(Ul(b.name,b.node)),Q.updateImmediateChild(b.name,b.node)):Q}}else return u.isEmpty()?n:T&&d(p,g)>=0?(f!=null&&(f.trackChildChange(Wa(p.name,p.node)),f.trackChildChange(Ul(l,u))),_.updateImmediateChild(l,u).updateImmediateChild(p.name,Z.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zl}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qe}copy(){const n=new bf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function Hb(s){return s.loadsAllData()?new Sf(s.getIndex()):s.hasLimit()?new Lb(s):new $a(s)}function Up(s){const n={};if(s.isDefault())return n;let l;if(s.index_===qe?l="$priority":s.index_===zb?l="$value":s.index_===Ml?l="$key":(B(s.index_ instanceof Mb,"Unrecognized index type!"),l=s.index_.toString()),n.orderBy=$e(l),s.startSet_){const u=s.startAfterSet_?"startAfter":"startAt";n[u]=$e(s.indexStartValue_),s.startNameSet_&&(n[u]+=","+$e(s.indexStartName_))}if(s.endSet_){const u=s.endBeforeSet_?"endBefore":"endAt";n[u]=$e(s.indexEndValue_),s.endNameSet_&&(n[u]+=","+$e(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?n.limitToFirst=s.limit_:n.limitToLast=s.limit_),n}function Lp(s){const n={};if(s.startSet_&&(n.sp=s.indexStartValue_,s.startNameSet_&&(n.sn=s.indexStartName_),n.sin=!s.startAfterSet_),s.endSet_&&(n.ep=s.indexEndValue_,s.endNameSet_&&(n.en=s.indexEndName_),n.ein=!s.endBeforeSet_),s.limitSet_){n.l=s.limit_;let l=s.viewFrom_;l===""&&(s.isViewFromLeft()?l="l":l="r"),n.vf=l}return s.index_!==qe&&(n.i=s.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends Bg{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(B(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,l,u,o){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=o,this.log_=ss("p:rest:"),this.listens_={}}listen(n,l,u,o){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const d=ku.getListenId_(n,u),_={};this.listens_[d]=_;const g=Up(n._queryParams);this.restRequest_(f+".json",g,(p,T)=>{let v=T;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(f,v,!1,u),Ol(this.listens_,d)===_){let b;p?p===401?b="permission_denied":b="rest_error:"+p:b="ok",o(b,null)}})}unlisten(n,l){const u=ku.getListenId_(n,l);delete this.listens_[u]}get(n){const l=Up(n._queryParams),u=n._path.toString(),o=new Ju;return this.restRequest_(u+".json",l,(f,d)=>{let _=d;f===404&&(_=null,f=null),f===null?(this.onDataUpdate_(u,_,!1,null),o.resolve(_)):o.reject(new Error(_))}),o.promise}refreshAuthToken(n){}restRequest_(n,l={},u){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,f])=>{o&&o.accessToken&&(l.auth=o.accessToken),f&&f.token&&(l.ac=f.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+uE(l);this.log_("Sending REST request for "+d);const _=new XMLHttpRequest;_.onreadystatechange=()=>{if(u&&_.readyState===4){this.log_("REST Response for "+d+" received. status:",_.status,"response:",_.responseText);let g=null;if(_.status>=200&&_.status<300){try{g=Xa(_.responseText)}catch{Rt("Failed to parse JSON response for "+d+": "+_.responseText)}u(null,g)}else _.status!==401&&_.status!==404&&Rt("Got unsuccessful REST response for "+d+" Status: "+_.status),u(_.status);u=null}},_.open("GET",d,!0),_.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.rootNode_=Z.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(){return{value:null,children:new Map}}function Jg(s,n,l){if(oe(n))s.value=l,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(n,l);else{const u=de(n);s.children.has(u)||s.children.set(u,qu());const o=s.children.get(u);n=Oe(n),Jg(o,n,l)}}function tf(s,n,l){s.value!==null?l(n,s.value):Ib(s,(u,o)=>{const f=new we(n.toString()+"/"+u);tf(o,f,l)})}function Ib(s,n){s.children.forEach((l,u)=>{n(u,l)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l={...n};return this.last_&&Dt(this.last_,(u,o)=>{l[u]=l[u]-o}),this.last_=n,l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=10*1e3,kb=30*1e3,qb=300*1e3;class Gb{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new jb(n);const u=Hp+(kb-Hp)*Math.random();Ga(this.reportStats_.bind(this),Math.floor(u))}reportStats_(){const n=this.statsListener_.get(),l={};let u=!1;Dt(n,(o,f)=>{f>0&&zn(this.statsToReport_,o)&&(l[o]=f,u=!0)}),u&&this.server_.reportStats(l),Ga(this.reportStats_.bind(this),Math.floor(Math.random()*2*qb))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(tn||(tn={}));function Wg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Cf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Tf(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(n,l,u){this.path=n,this.affectedTree=l,this.revert=u,this.type=tn.ACK_USER_WRITE,this.source=Wg()}operationForChild(n){if(oe(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new we(n));return new Gu(ve(),l,this.revert)}}else return B(de(this.path)===n,"operationForChild called for unrelated child."),new Gu(Oe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(n,l){this.source=n,this.path=l,this.type=tn.LISTEN_COMPLETE}operationForChild(n){return oe(this.path)?new es(this.source,ve()):new es(this.source,Oe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(n,l,u){this.source=n,this.path=l,this.snap=u,this.type=tn.OVERWRITE}operationForChild(n){return oe(this.path)?new Bi(this.source,ve(),this.snap.getImmediateChild(n)):new Bi(this.source,Oe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(n,l,u){this.source=n,this.path=l,this.children=u,this.type=tn.MERGE}operationForChild(n){if(oe(this.path)){const l=this.children.subtree(new we(n));return l.isEmpty()?null:l.value?new Bi(this.source,ve(),l.value):new ts(this.source,ve(),l)}else return B(de(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new ts(this.source,Oe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(n,l,u){this.node_=n,this.fullyInitialized_=l,this.filtered_=u}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(oe(n))return this.isFullyInitialized()&&!this.filtered_;const l=de(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function Vb(s,n,l,u){const o=[],f=[];return n.forEach(d=>{d.type==="child_changed"&&s.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&f.push(Ub(d.childName,d.snapshotNode))}),ja(s,o,"child_removed",n,u,l),ja(s,o,"child_added",n,u,l),ja(s,o,"child_moved",f,u,l),ja(s,o,"child_changed",n,u,l),ja(s,o,"value",n,u,l),o}function ja(s,n,l,u,o,f){const d=u.filter(_=>_.type===l);d.sort((_,g)=>Xb(s,_,g)),d.forEach(_=>{const g=Qb(s,_,f);o.forEach(p=>{p.respondsTo(_.type)&&n.push(p.createEvent(g,s.query_))})})}function Qb(s,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,s.index_)),n}function Xb(s,n,l){if(n.childName==null||l.childName==null)throw Hl("Should only compare child_ events.");const u=new ae(n.childName,n.snapshotNode),o=new ae(l.childName,l.snapshotNode);return s.index_.compare(u,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(s,n){return{eventCache:s,serverCache:n}}function Ya(s,n,l,u){return $u(new fi(n,l,u),s.serverCache)}function Pg(s,n,l,u){return $u(s.eventCache,new fi(n,l,u))}function Yu(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Ii(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc;const Zb=()=>(Gc||(Gc=new xt(OS)),Gc);class Le{static fromObject(n){let l=new Le(null);return Dt(n,(u,o)=>{l=l.set(new we(u),o)}),l}constructor(n,l=Zb()){this.value=n,this.children=l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:ve(),value:this.value};if(oe(n))return null;{const u=de(n),o=this.children.get(u);if(o!==null){const f=o.findRootMostMatchingPathAndValue(Oe(n),l);return f!=null?{path:et(new we(u),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(oe(n))return this;{const l=de(n),u=this.children.get(l);return u!==null?u.subtree(Oe(n)):new Le(null)}}set(n,l){if(oe(n))return new Le(l,this.children);{const u=de(n),f=(this.children.get(u)||new Le(null)).set(Oe(n),l),d=this.children.insert(u,f);return new Le(this.value,d)}}remove(n){if(oe(n))return this.children.isEmpty()?new Le(null):new Le(null,this.children);{const l=de(n),u=this.children.get(l);if(u){const o=u.remove(Oe(n));let f;return o.isEmpty()?f=this.children.remove(l):f=this.children.insert(l,o),this.value===null&&f.isEmpty()?new Le(null):new Le(this.value,f)}else return this}}get(n){if(oe(n))return this.value;{const l=de(n),u=this.children.get(l);return u?u.get(Oe(n)):null}}setTree(n,l){if(oe(n))return l;{const u=de(n),f=(this.children.get(u)||new Le(null)).setTree(Oe(n),l);let d;return f.isEmpty()?d=this.children.remove(u):d=this.children.insert(u,f),new Le(this.value,d)}}fold(n){return this.fold_(ve(),n)}fold_(n,l){const u={};return this.children.inorderTraversal((o,f)=>{u[o]=f.fold_(et(n,o),l)}),l(n,this.value,u)}findOnPath(n,l){return this.findOnPath_(n,ve(),l)}findOnPath_(n,l,u){const o=this.value?u(l,this.value):!1;if(o)return o;if(oe(n))return null;{const f=de(n),d=this.children.get(f);return d?d.findOnPath_(Oe(n),et(l,f),u):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,ve(),l)}foreachOnPath_(n,l,u){if(oe(n))return this;{this.value&&u(l,this.value);const o=de(n),f=this.children.get(o);return f?f.foreachOnPath_(Oe(n),et(l,o),u):new Le(null)}}foreach(n){this.foreach_(ve(),n)}foreach_(n,l){this.children.inorderTraversal((u,o)=>{o.foreach_(et(n,u),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,u)=>{u.value&&n(l,u.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(n){this.writeTree_=n}static empty(){return new nn(new Le(null))}}function Va(s,n,l){if(oe(n))return new nn(new Le(l));{const u=s.writeTree_.findRootMostValueAndPath(n);if(u!=null){const o=u.path;let f=u.value;const d=yt(o,n);return f=f.updateChild(d,l),new nn(s.writeTree_.set(o,f))}else{const o=new Le(l),f=s.writeTree_.setTree(n,o);return new nn(f)}}}function Bp(s,n,l){let u=s;return Dt(l,(o,f)=>{u=Va(u,et(n,o),f)}),u}function Ip(s,n){if(oe(n))return nn.empty();{const l=s.writeTree_.setTree(n,new Le(null));return new nn(l)}}function nf(s,n){return ji(s,n)!=null}function ji(s,n){const l=s.writeTree_.findRootMostValueAndPath(n);return l!=null?s.writeTree_.get(l.path).getChild(yt(l.path,n)):null}function jp(s){const n=[],l=s.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(qe,(u,o)=>{n.push(new ae(u,o))}):s.writeTree_.children.inorderTraversal((u,o)=>{o.value!=null&&n.push(new ae(u,o.value))}),n}function ri(s,n){if(oe(n))return s;{const l=ji(s,n);return l!=null?new nn(new Le(l)):new nn(s.writeTree_.subtree(n))}}function lf(s){return s.writeTree_.isEmpty()}function Ll(s,n){return $g(ve(),s.writeTree_,n)}function $g(s,n,l){if(n.value!=null)return l.updateChild(s,n.value);{let u=null;return n.children.inorderTraversal((o,f)=>{o===".priority"?(B(f.value!==null,"Priority writes must always be leaf nodes"),u=f.value):l=$g(et(s,o),f,l)}),!l.getChild(s).isEmpty()&&u!==null&&(l=l.updateChild(et(s,".priority"),u)),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(s,n){return iy(n,s)}function Kb(s,n,l,u,o){B(u>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:n,snap:l,writeId:u,visible:o}),o&&(s.visibleWrites=Va(s.visibleWrites,n,l)),s.lastWriteId=u}function Fb(s,n){for(let l=0;l<s.allWrites.length;l++){const u=s.allWrites[l];if(u.writeId===n)return u}return null}function Jb(s,n){const l=s.allWrites.findIndex(_=>_.writeId===n);B(l>=0,"removeWrite called with nonexistent writeId.");const u=s.allWrites[l];s.allWrites.splice(l,1);let o=u.visible,f=!1,d=s.allWrites.length-1;for(;o&&d>=0;){const _=s.allWrites[d];_.visible&&(d>=l&&Wb(_,u.path)?o=!1:en(u.path,_.path)&&(f=!0)),d--}if(o){if(f)return Pb(s),!0;if(u.snap)s.visibleWrites=Ip(s.visibleWrites,u.path);else{const _=u.children;Dt(_,g=>{s.visibleWrites=Ip(s.visibleWrites,et(u.path,g))})}return!0}else return!1}function Wb(s,n){if(s.snap)return en(s.path,n);for(const l in s.children)if(s.children.hasOwnProperty(l)&&en(et(s.path,l),n))return!0;return!1}function Pb(s){s.visibleWrites=ey(s.allWrites,$b,ve()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function $b(s){return s.visible}function ey(s,n,l){let u=nn.empty();for(let o=0;o<s.length;++o){const f=s[o];if(n(f)){const d=f.path;let _;if(f.snap)en(l,d)?(_=yt(l,d),u=Va(u,_,f.snap)):en(d,l)&&(_=yt(d,l),u=Va(u,ve(),f.snap.getChild(_)));else if(f.children){if(en(l,d))_=yt(l,d),u=Bp(u,_,f.children);else if(en(d,l))if(_=yt(d,l),oe(_))u=Bp(u,ve(),f.children);else{const g=Ol(f.children,de(_));if(g){const p=g.getChild(Oe(_));u=Va(u,ve(),p)}}}else throw Hl("WriteRecord should have .snap or .children")}}return u}function ty(s,n,l,u,o){if(!u&&!o){const f=ji(s.visibleWrites,n);if(f!=null)return f;{const d=ri(s.visibleWrites,n);if(lf(d))return l;if(l==null&&!nf(d,ve()))return null;{const _=l||Z.EMPTY_NODE;return Ll(d,_)}}}else{const f=ri(s.visibleWrites,n);if(!o&&lf(f))return l;if(!o&&l==null&&!nf(f,ve()))return null;{const d=function(p){return(p.visible||o)&&(!u||!~u.indexOf(p.writeId))&&(en(p.path,n)||en(n,p.path))},_=ey(s.allWrites,d,n),g=l||Z.EMPTY_NODE;return Ll(_,g)}}}function eC(s,n,l){let u=Z.EMPTY_NODE;const o=ji(s.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(qe,(f,d)=>{u=u.updateImmediateChild(f,d)}),u;if(l){const f=ri(s.visibleWrites,n);return l.forEachChild(qe,(d,_)=>{const g=Ll(ri(f,new we(d)),_);u=u.updateImmediateChild(d,g)}),jp(f).forEach(d=>{u=u.updateImmediateChild(d.name,d.node)}),u}else{const f=ri(s.visibleWrites,n);return jp(f).forEach(d=>{u=u.updateImmediateChild(d.name,d.node)}),u}}function tC(s,n,l,u,o){B(u||o,"Either existingEventSnap or existingServerSnap must exist");const f=et(n,l);if(nf(s.visibleWrites,f))return null;{const d=ri(s.visibleWrites,f);return lf(d)?o.getChild(l):Ll(d,o.getChild(l))}}function nC(s,n,l,u){const o=et(n,l),f=ji(s.visibleWrites,o);if(f!=null)return f;if(u.isCompleteForChild(l)){const d=ri(s.visibleWrites,o);return Ll(d,u.getNode().getImmediateChild(l))}else return null}function iC(s,n){return ji(s.visibleWrites,n)}function lC(s,n,l,u,o,f,d){let _;const g=ri(s.visibleWrites,n),p=ji(g,ve());if(p!=null)_=p;else if(l!=null)_=Ll(g,l);else return[];if(_=_.withIndex(d),!_.isEmpty()&&!_.isLeafNode()){const T=[],v=d.getCompare(),b=f?_.getReverseIteratorFrom(u,d):_.getIteratorFrom(u,d);let L=b.getNext();for(;L&&T.length<o;)v(L,u)!==0&&T.push(L),L=b.getNext();return T}else return[]}function aC(){return{visibleWrites:nn.empty(),allWrites:[],lastWriteId:-1}}function Vu(s,n,l,u){return ty(s.writeTree,s.treePath,n,l,u)}function Af(s,n){return eC(s.writeTree,s.treePath,n)}function kp(s,n,l,u){return tC(s.writeTree,s.treePath,n,l,u)}function Qu(s,n){return iC(s.writeTree,et(s.treePath,n))}function sC(s,n,l,u,o,f){return lC(s.writeTree,s.treePath,n,l,u,o,f)}function Nf(s,n,l){return nC(s.writeTree,s.treePath,n,l)}function ny(s,n){return iy(et(s.treePath,n),s.writeTree)}function iy(s,n){return{treePath:s,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,u=n.childName;B(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),B(u!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(u);if(o){const f=o.type;if(l==="child_added"&&f==="child_removed")this.changeMap.set(u,Pa(u,n.snapshotNode,o.snapshotNode));else if(l==="child_removed"&&f==="child_added")this.changeMap.delete(u);else if(l==="child_removed"&&f==="child_changed")this.changeMap.set(u,Wa(u,o.oldSnap));else if(l==="child_changed"&&f==="child_added")this.changeMap.set(u,Ul(u,n.snapshotNode));else if(l==="child_changed"&&f==="child_changed")this.changeMap.set(u,Pa(u,n.snapshotNode,o.oldSnap));else throw Hl("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(u,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{getCompleteChild(n){return null}getChildAfterChild(n,l,u){return null}}const ly=new rC;class xf{constructor(n,l,u=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=u}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const u=this.optCompleteServerCache_!=null?new fi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Nf(this.writes_,n,u)}}getChildAfterChild(n,l,u){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ii(this.viewCache_),f=sC(this.writes_,o,l,1,u,n);return f.length===0?null:f[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(s){return{filter:s}}function cC(s,n){B(n.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),B(n.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function fC(s,n,l,u,o){const f=new uC;let d,_;if(l.type===tn.OVERWRITE){const p=l;p.source.fromUser?d=af(s,n,p.path,p.snap,u,o,f):(B(p.source.fromServer,"Unknown source."),_=p.source.tagged||n.serverCache.isFiltered()&&!oe(p.path),d=Xu(s,n,p.path,p.snap,u,o,_,f))}else if(l.type===tn.MERGE){const p=l;p.source.fromUser?d=dC(s,n,p.path,p.children,u,o,f):(B(p.source.fromServer,"Unknown source."),_=p.source.tagged||n.serverCache.isFiltered(),d=sf(s,n,p.path,p.children,u,o,_,f))}else if(l.type===tn.ACK_USER_WRITE){const p=l;p.revert?d=pC(s,n,p.path,u,o,f):d=mC(s,n,p.path,p.affectedTree,u,o,f)}else if(l.type===tn.LISTEN_COMPLETE)d=_C(s,n,l.path,u,f);else throw Hl("Unknown operation type: "+l.type);const g=f.getChanges();return hC(n,d,g),{viewCache:d,changes:g}}function hC(s,n,l){const u=n.eventCache;if(u.isFullyInitialized()){const o=u.getNode().isLeafNode()||u.getNode().isEmpty(),f=Yu(s);(l.length>0||!s.eventCache.isFullyInitialized()||o&&!u.getNode().equals(f)||!u.getNode().getPriority().equals(f.getPriority()))&&l.push(Fg(Yu(n)))}}function ay(s,n,l,u,o,f){const d=n.eventCache;if(Qu(u,l)!=null)return n;{let _,g;if(oe(l))if(B(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const p=Ii(n),T=p instanceof Z?p:Z.EMPTY_NODE,v=Af(u,T);_=s.filter.updateFullNode(n.eventCache.getNode(),v,f)}else{const p=Vu(u,Ii(n));_=s.filter.updateFullNode(n.eventCache.getNode(),p,f)}else{const p=de(l);if(p===".priority"){B(ci(l)===1,"Can't have a priority with additional path components");const T=d.getNode();g=n.serverCache.getNode();const v=kp(u,l,T,g);v!=null?_=s.filter.updatePriority(T,v):_=d.getNode()}else{const T=Oe(l);let v;if(d.isCompleteForChild(p)){g=n.serverCache.getNode();const b=kp(u,l,d.getNode(),g);b!=null?v=d.getNode().getImmediateChild(p).updateChild(T,b):v=d.getNode().getImmediateChild(p)}else v=Nf(u,p,n.serverCache);v!=null?_=s.filter.updateChild(d.getNode(),p,v,T,o,f):_=d.getNode()}}return Ya(n,_,d.isFullyInitialized()||oe(l),s.filter.filtersNodes())}}function Xu(s,n,l,u,o,f,d,_){const g=n.serverCache;let p;const T=d?s.filter:s.filter.getIndexedFilter();if(oe(l))p=T.updateFullNode(g.getNode(),u,null);else if(T.filtersNodes()&&!g.isFiltered()){const L=g.getNode().updateChild(l,u);p=T.updateFullNode(g.getNode(),L,null)}else{const L=de(l);if(!g.isCompleteForPath(l)&&ci(l)>1)return n;const I=Oe(l),te=g.getNode().getImmediateChild(L).updateChild(I,u);L===".priority"?p=T.updatePriority(g.getNode(),te):p=T.updateChild(g.getNode(),L,te,I,ly,null)}const v=Pg(n,p,g.isFullyInitialized()||oe(l),T.filtersNodes()),b=new xf(o,v,f);return ay(s,v,l,o,b,_)}function af(s,n,l,u,o,f,d){const _=n.eventCache;let g,p;const T=new xf(o,n,f);if(oe(l))p=s.filter.updateFullNode(n.eventCache.getNode(),u,d),g=Ya(n,p,!0,s.filter.filtersNodes());else{const v=de(l);if(v===".priority")p=s.filter.updatePriority(n.eventCache.getNode(),u),g=Ya(n,p,_.isFullyInitialized(),_.isFiltered());else{const b=Oe(l),L=_.getNode().getImmediateChild(v);let I;if(oe(b))I=u;else{const Q=T.getCompleteChild(v);Q!=null?jg(b)===".priority"&&Q.getChild(qg(b)).isEmpty()?I=Q:I=Q.updateChild(b,u):I=Z.EMPTY_NODE}if(L.equals(I))g=n;else{const Q=s.filter.updateChild(_.getNode(),v,I,b,T,d);g=Ya(n,Q,_.isFullyInitialized(),s.filter.filtersNodes())}}}return g}function qp(s,n){return s.eventCache.isCompleteForChild(n)}function dC(s,n,l,u,o,f,d){let _=n;return u.foreach((g,p)=>{const T=et(l,g);qp(n,de(T))&&(_=af(s,_,T,p,o,f,d))}),u.foreach((g,p)=>{const T=et(l,g);qp(n,de(T))||(_=af(s,_,T,p,o,f,d))}),_}function Gp(s,n,l){return l.foreach((u,o)=>{n=n.updateChild(u,o)}),n}function sf(s,n,l,u,o,f,d,_){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let g=n,p;oe(l)?p=u:p=new Le(null).setTree(l,u);const T=n.serverCache.getNode();return p.children.inorderTraversal((v,b)=>{if(T.hasChild(v)){const L=n.serverCache.getNode().getImmediateChild(v),I=Gp(s,L,b);g=Xu(s,g,new we(v),I,o,f,d,_)}}),p.children.inorderTraversal((v,b)=>{const L=!n.serverCache.isCompleteForChild(v)&&b.value===null;if(!T.hasChild(v)&&!L){const I=n.serverCache.getNode().getImmediateChild(v),Q=Gp(s,I,b);g=Xu(s,g,new we(v),Q,o,f,d,_)}}),g}function mC(s,n,l,u,o,f,d){if(Qu(o,l)!=null)return n;const _=n.serverCache.isFiltered(),g=n.serverCache;if(u.value!=null){if(oe(l)&&g.isFullyInitialized()||g.isCompleteForPath(l))return Xu(s,n,l,g.getNode().getChild(l),o,f,_,d);if(oe(l)){let p=new Le(null);return g.getNode().forEachChild(Ml,(T,v)=>{p=p.set(new we(T),v)}),sf(s,n,l,p,o,f,_,d)}else return n}else{let p=new Le(null);return u.foreach((T,v)=>{const b=et(l,T);g.isCompleteForPath(b)&&(p=p.set(T,g.getNode().getChild(b)))}),sf(s,n,l,p,o,f,_,d)}}function _C(s,n,l,u,o){const f=n.serverCache,d=Pg(n,f.getNode(),f.isFullyInitialized()||oe(l),f.isFiltered());return ay(s,d,l,u,ly,o)}function pC(s,n,l,u,o,f){let d;if(Qu(u,l)!=null)return n;{const _=new xf(u,n,o),g=n.eventCache.getNode();let p;if(oe(l)||de(l)===".priority"){let T;if(n.serverCache.isFullyInitialized())T=Vu(u,Ii(n));else{const v=n.serverCache.getNode();B(v instanceof Z,"serverChildren would be complete if leaf node"),T=Af(u,v)}T=T,p=s.filter.updateFullNode(g,T,f)}else{const T=de(l);let v=Nf(u,T,n.serverCache);v==null&&n.serverCache.isCompleteForChild(T)&&(v=g.getImmediateChild(T)),v!=null?p=s.filter.updateChild(g,T,v,Oe(l),_,f):n.eventCache.getNode().hasChild(T)?p=s.filter.updateChild(g,T,Z.EMPTY_NODE,Oe(l),_,f):p=g,p.isEmpty()&&n.serverCache.isFullyInitialized()&&(d=Vu(u,Ii(n)),d.isLeafNode()&&(p=s.filter.updateFullNode(p,d,f)))}return d=n.serverCache.isFullyInitialized()||Qu(u,ve())!=null,Ya(n,p,d,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const u=this.query_._queryParams,o=new Sf(u.getIndex()),f=Hb(u);this.processor_=oC(f);const d=l.serverCache,_=l.eventCache,g=o.updateFullNode(Z.EMPTY_NODE,d.getNode(),null),p=f.updateFullNode(Z.EMPTY_NODE,_.getNode(),null),T=new fi(g,d.isFullyInitialized(),o.filtersNodes()),v=new fi(p,_.isFullyInitialized(),f.filtersNodes());this.viewCache_=$u(v,T),this.eventGenerator_=new Yb(this.query_)}get query(){return this.query_}}function yC(s){return s.viewCache_.serverCache.getNode()}function vC(s){return Yu(s.viewCache_)}function EC(s,n){const l=Ii(s.viewCache_);return l&&(s.query._queryParams.loadsAllData()||!oe(n)&&!l.getImmediateChild(de(n)).isEmpty())?l.getChild(n):null}function Yp(s){return s.eventRegistrations_.length===0}function SC(s,n){s.eventRegistrations_.push(n)}function Vp(s,n,l){const u=[];if(l){B(n==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(f=>{const d=f.createCancelEvent(l,o);d&&u.push(d)})}if(n){let o=[];for(let f=0;f<s.eventRegistrations_.length;++f){const d=s.eventRegistrations_[f];if(!d.matches(n))o.push(d);else if(n.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(f+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return u}function Qp(s,n,l,u){n.type===tn.MERGE&&n.source.queryId!==null&&(B(Ii(s.viewCache_),"We should always have a full cache before handling merges"),B(Yu(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,f=fC(s.processor_,o,n,l,u);return cC(s.processor_,f.viewCache),B(f.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=f.viewCache,sy(s,f.changes,f.viewCache.eventCache.getNode(),null)}function bC(s,n){const l=s.viewCache_.eventCache,u=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(qe,(f,d)=>{u.push(Ul(f,d))}),l.isFullyInitialized()&&u.push(Fg(l.getNode())),sy(s,u,l.getNode(),n)}function sy(s,n,l,u){const o=u?[u]:s.eventRegistrations_;return Vb(s.eventGenerator_,n,l,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu;class uy{constructor(){this.views=new Map}}function CC(s){B(!Zu,"__referenceConstructor has already been defined"),Zu=s}function TC(){return B(Zu,"Reference.ts has not been loaded"),Zu}function AC(s){return s.views.size===0}function Rf(s,n,l,u){const o=n.source.queryId;if(o!==null){const f=s.views.get(o);return B(f!=null,"SyncTree gave us an op for an invalid query."),Qp(f,n,l,u)}else{let f=[];for(const d of s.views.values())f=f.concat(Qp(d,n,l,u));return f}}function ry(s,n,l,u,o){const f=n._queryIdentifier,d=s.views.get(f);if(!d){let _=Vu(l,o?u:null),g=!1;_?g=!0:u instanceof Z?(_=Af(l,u),g=!1):(_=Z.EMPTY_NODE,g=!1);const p=$u(new fi(_,g,!1),new fi(u,o,!1));return new gC(n,p)}return d}function NC(s,n,l,u,o,f){const d=ry(s,n,u,o,f);return s.views.has(n._queryIdentifier)||s.views.set(n._queryIdentifier,d),SC(d,l),bC(d,l)}function xC(s,n,l,u){const o=n._queryIdentifier,f=[];let d=[];const _=hi(s);if(o==="default")for(const[g,p]of s.views.entries())d=d.concat(Vp(p,l,u)),Yp(p)&&(s.views.delete(g),p.query._queryParams.loadsAllData()||f.push(p.query));else{const g=s.views.get(o);g&&(d=d.concat(Vp(g,l,u)),Yp(g)&&(s.views.delete(o),g.query._queryParams.loadsAllData()||f.push(g.query)))}return _&&!hi(s)&&f.push(new(TC())(n._repo,n._path)),{removed:f,events:d}}function oy(s){const n=[];for(const l of s.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function oi(s,n){let l=null;for(const u of s.views.values())l=l||EC(u,n);return l}function cy(s,n){if(n._queryParams.loadsAllData())return tr(s);{const u=n._queryIdentifier;return s.views.get(u)}}function fy(s,n){return cy(s,n)!=null}function hi(s){return tr(s)!=null}function tr(s){for(const n of s.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku;function RC(s){B(!Ku,"__referenceConstructor has already been defined"),Ku=s}function DC(){return B(Ku,"Reference.ts has not been loaded"),Ku}let wC=1;class Xp{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Le(null),this.pendingWriteTree_=aC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hy(s,n,l,u,o){return Kb(s.pendingWriteTree_,n,l,u,o),o?os(s,new Bi(Wg(),n,l)):[]}function Li(s,n,l=!1){const u=Fb(s.pendingWriteTree_,n);if(Jb(s.pendingWriteTree_,n)){let f=new Le(null);return u.snap!=null?f=f.set(ve(),!0):Dt(u.children,d=>{f=f.set(new we(d),!0)}),os(s,new Gu(u.path,f,l))}else return[]}function rs(s,n,l){return os(s,new Bi(Cf(),n,l))}function MC(s,n,l){const u=Le.fromObject(l);return os(s,new ts(Cf(),n,u))}function OC(s,n){return os(s,new es(Cf(),n))}function zC(s,n,l){const u=wf(s,l);if(u){const o=Mf(u),f=o.path,d=o.queryId,_=yt(f,n),g=new es(Tf(d),_);return Of(s,f,g)}else return[]}function dy(s,n,l,u,o=!1){const f=n._path,d=s.syncPointTree_.get(f);let _=[];if(d&&(n._queryIdentifier==="default"||fy(d,n))){const g=xC(d,n,l,u);AC(d)&&(s.syncPointTree_=s.syncPointTree_.remove(f));const p=g.removed;if(_=g.events,!o){const T=p.findIndex(b=>b._queryParams.loadsAllData())!==-1,v=s.syncPointTree_.findOnPath(f,(b,L)=>hi(L));if(T&&!v){const b=s.syncPointTree_.subtree(f);if(!b.isEmpty()){const L=BC(b);for(let I=0;I<L.length;++I){const Q=L[I],te=Q.query,Ae=gy(s,Q);s.listenProvider_.startListening(Qa(te),ns(s,te),Ae.hashFn,Ae.onComplete)}}}!v&&p.length>0&&!u&&(T?s.listenProvider_.stopListening(Qa(n),null):p.forEach(b=>{const L=s.queryToTagMap.get(nr(b));s.listenProvider_.stopListening(Qa(b),L)}))}IC(s,p)}return _}function my(s,n,l,u){const o=wf(s,u);if(o!=null){const f=Mf(o),d=f.path,_=f.queryId,g=yt(d,n),p=new Bi(Tf(_),g,l);return Of(s,d,p)}else return[]}function UC(s,n,l,u){const o=wf(s,u);if(o){const f=Mf(o),d=f.path,_=f.queryId,g=yt(d,n),p=Le.fromObject(l),T=new ts(Tf(_),g,p);return Of(s,d,T)}else return[]}function LC(s,n,l,u=!1){const o=n._path;let f=null,d=!1;s.syncPointTree_.foreachOnPath(o,(b,L)=>{const I=yt(b,o);f=f||oi(L,I),d=d||hi(L)});let _=s.syncPointTree_.get(o);_?(d=d||hi(_),f=f||oi(_,ve())):(_=new uy,s.syncPointTree_=s.syncPointTree_.set(o,_));let g;f!=null?g=!0:(g=!1,f=Z.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((L,I)=>{const Q=oi(I,ve());Q&&(f=f.updateImmediateChild(L,Q))}));const p=fy(_,n);if(!p&&!n._queryParams.loadsAllData()){const b=nr(n);B(!s.queryToTagMap.has(b),"View does not exist, but we have a tag");const L=jC();s.queryToTagMap.set(b,L),s.tagToQueryMap.set(L,b)}const T=er(s.pendingWriteTree_,o);let v=NC(_,n,l,T,f,g);if(!p&&!d&&!u){const b=cy(_,n);v=v.concat(kC(s,n,b))}return v}function Df(s,n,l){const o=s.pendingWriteTree_,f=s.syncPointTree_.findOnPath(n,(d,_)=>{const g=yt(d,n),p=oi(_,g);if(p)return p});return ty(o,n,f,l,!0)}function HC(s,n){const l=n._path;let u=null;s.syncPointTree_.foreachOnPath(l,(p,T)=>{const v=yt(p,l);u=u||oi(T,v)});let o=s.syncPointTree_.get(l);o?u=u||oi(o,ve()):(o=new uy,s.syncPointTree_=s.syncPointTree_.set(l,o));const f=u!=null,d=f?new fi(u,!0,!1):null,_=er(s.pendingWriteTree_,n._path),g=ry(o,n,_,f?d.getNode():Z.EMPTY_NODE,f);return vC(g)}function os(s,n){return _y(n,s.syncPointTree_,null,er(s.pendingWriteTree_,ve()))}function _y(s,n,l,u){if(oe(s.path))return py(s,n,l,u);{const o=n.get(ve());l==null&&o!=null&&(l=oi(o,ve()));let f=[];const d=de(s.path),_=s.operationForChild(d),g=n.children.get(d);if(g&&_){const p=l?l.getImmediateChild(d):null,T=ny(u,d);f=f.concat(_y(_,g,p,T))}return o&&(f=f.concat(Rf(o,s,u,l))),f}}function py(s,n,l,u){const o=n.get(ve());l==null&&o!=null&&(l=oi(o,ve()));let f=[];return n.children.inorderTraversal((d,_)=>{const g=l?l.getImmediateChild(d):null,p=ny(u,d),T=s.operationForChild(d);T&&(f=f.concat(py(T,_,g,p)))}),o&&(f=f.concat(Rf(o,s,u,l))),f}function gy(s,n){const l=n.query,u=ns(s,l);return{hashFn:()=>(yC(n)||Z.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return u?zC(s,l._path,u):OC(s,l._path);{const f=LS(o,l);return dy(s,l,null,f)}}}}function ns(s,n){const l=nr(n);return s.queryToTagMap.get(l)}function nr(s){return s._path.toString()+"$"+s._queryIdentifier}function wf(s,n){return s.tagToQueryMap.get(n)}function Mf(s){const n=s.indexOf("$");return B(n!==-1&&n<s.length-1,"Bad queryKey."),{queryId:s.substr(n+1),path:new we(s.substr(0,n))}}function Of(s,n,l){const u=s.syncPointTree_.get(n);B(u,"Missing sync point for query tag that we're tracking");const o=er(s.pendingWriteTree_,n);return Rf(u,l,o,null)}function BC(s){return s.fold((n,l,u)=>{if(l&&hi(l))return[tr(l)];{let o=[];return l&&(o=oy(l)),Dt(u,(f,d)=>{o=o.concat(d)}),o}})}function Qa(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(DC())(s._repo,s._path):s}function IC(s,n){for(let l=0;l<n.length;++l){const u=n[l];if(!u._queryParams.loadsAllData()){const o=nr(u),f=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(f)}}}function jC(){return wC++}function kC(s,n,l){const u=n._path,o=ns(s,n),f=gy(s,l),d=s.listenProvider_.startListening(Qa(n),o,f.hashFn,f.onComplete),_=s.syncPointTree_.subtree(u);if(o)B(!hi(_.value),"If we're adding a query, it shouldn't be shadowed");else{const g=_.fold((p,T,v)=>{if(!oe(p)&&T&&hi(T))return[tr(T).query];{let b=[];return T&&(b=b.concat(oy(T).map(L=>L.query))),Dt(v,(L,I)=>{b=b.concat(I)}),b}});for(let p=0;p<g.length;++p){const T=g[p];s.listenProvider_.stopListening(Qa(T),ns(s,T))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new zf(l)}node(){return this.node_}}class Uf{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=et(this.path_,n);return new Uf(this.syncTree_,l)}node(){return Df(this.syncTree_,this.path_)}}const qC=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Zp=function(s,n,l){if(!s||typeof s!="object")return s;if(B(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return GC(s[".sv"],n,l);if(typeof s[".sv"]=="object")return YC(s[".sv"],n);B(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},GC=function(s,n,l){switch(s){case"timestamp":return l.timestamp;default:B(!1,"Unexpected server value: "+s)}},YC=function(s,n,l){s.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const u=s.increment;typeof u!="number"&&B(!1,"Unexpected increment value: "+u);const o=n.node();if(B(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return u;const d=o.getValue();return typeof d!="number"?u:d+u},VC=function(s,n,l,u){return Lf(n,new Uf(l,s),u)},yy=function(s,n,l){return Lf(s,new zf(n),l)};function Lf(s,n,l){const u=s.getPriority().val(),o=Zp(u,n.getImmediateChild(".priority"),l);let f;if(s.isLeafNode()){const d=s,_=Zp(d.getValue(),n,l);return _!==d.getValue()||o!==d.getPriority().val()?new st(_,rt(o)):s}else{const d=s;return f=d,o!==d.getPriority().val()&&(f=f.updatePriority(new st(o))),d.forEachChild(qe,(_,g)=>{const p=Lf(g,n.getImmediateChild(_),l);p!==g&&(f=f.updateImmediateChild(_,p))}),f}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(n="",l=null,u={children:{},childCount:0}){this.name=n,this.parent=l,this.node=u}}function Bf(s,n){let l=n instanceof we?n:new we(n),u=s,o=de(l);for(;o!==null;){const f=Ol(u.node.children,o)||{children:{},childCount:0};u=new Hf(o,u,f),l=Oe(l),o=de(l)}return u}function kl(s){return s.node.value}function vy(s,n){s.node.value=n,uf(s)}function Ey(s){return s.node.childCount>0}function QC(s){return kl(s)===void 0&&!Ey(s)}function ir(s,n){Dt(s.node.children,(l,u)=>{n(new Hf(l,s,u))})}function Sy(s,n,l,u){l&&n(s),ir(s,o=>{Sy(o,n,!0)})}function XC(s,n,l){let u=s.parent;for(;u!==null;){if(n(u))return!0;u=u.parent}return!1}function cs(s){return new we(s.parent===null?s.name:cs(s.parent)+"/"+s.name)}function uf(s){s.parent!==null&&ZC(s.parent,s.name,s)}function ZC(s,n,l){const u=QC(l),o=zn(s.node.children,n);u&&o?(delete s.node.children[n],s.node.childCount--,uf(s)):!u&&!o&&(s.node.children[n]=l.node,s.node.childCount++,uf(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=/[\[\].#$\/\u0000-\u001F\u007F]/,FC=/[\[\].#$\u0000-\u001F\u007F]/,Yc=10*1024*1024,by=function(s){return typeof s=="string"&&s.length!==0&&!KC.test(s)},Cy=function(s){return typeof s=="string"&&s.length!==0&&!FC.test(s)},JC=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Cy(s)},WC=function(s,n,l,u){If(df(s,"value"),n,l)},If=function(s,n,l){const u=l instanceof we?new mb(l,s):l;if(n===void 0)throw new Error(s+"contains undefined "+zi(u));if(typeof n=="function")throw new Error(s+"contains a function "+zi(u)+" with contents = "+n.toString());if(yg(n))throw new Error(s+"contains "+n.toString()+" "+zi(u));if(typeof n=="string"&&n.length>Yc/3&&Wu(n)>Yc)throw new Error(s+"contains a string greater than "+Yc+" utf8 bytes "+zi(u)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,f=!1;if(Dt(n,(d,_)=>{if(d===".value")o=!0;else if(d!==".priority"&&d!==".sv"&&(f=!0,!by(d)))throw new Error(s+" contains an invalid key ("+d+") "+zi(u)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);_b(u,d),If(s,_,u),pb(u)}),o&&f)throw new Error(s+' contains ".value" child '+zi(u)+" in addition to actual children.")}},Ty=function(s,n,l,u){if(!Cy(l))throw new Error(df(s,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},PC=function(s,n,l,u){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Ty(s,n,l)},$C=function(s,n){if(de(n)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},eT=function(s,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!by(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!JC(l))throw new Error(df(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ay(s,n){let l=null;for(let u=0;u<n.length;u++){const o=n[u],f=o.getPath();l!==null&&!Gg(f,l.path)&&(s.eventLists_.push(l),l=null),l===null&&(l={events:[],path:f}),l.events.push(o)}l&&s.eventLists_.push(l)}function rn(s,n,l){Ay(s,l),nT(s,u=>en(u,n)||en(n,u))}function nT(s,n){s.recursionDepth_++;let l=!0;for(let u=0;u<s.eventLists_.length;u++){const o=s.eventLists_[u];if(o){const f=o.path;n(f)?(iT(s.eventLists_[u]),s.eventLists_[u]=null):l=!1}}l&&(s.eventLists_=[]),s.recursionDepth_--}function iT(s){for(let n=0;n<s.events.length;n++){const l=s.events[n];if(l!==null){s.events[n]=null;const u=l.getEventRunner();qa&&pt("event: "+l.toString()),jl(u)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="repo_interrupt",aT=25;class sT{constructor(n,l,u,o){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=u,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new tT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qu(),this.transactionQueueTree_=new Hf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function uT(s,n,l){if(s.stats_=gf(s.repoInfo_),s.forceRestClient_||jS())s.server_=new ku(s.repoInfo_,(u,o,f,d)=>{Kp(s,u,o,f,d)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Fp(s,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$e(l)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}s.persistentConnection_=new Dn(s.repoInfo_,n,(u,o,f,d)=>{Kp(s,u,o,f,d)},u=>{Fp(s,u)},u=>{oT(s,u)},s.authTokenProvider_,s.appCheckProvider_,l),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(u=>{s.server_.refreshAuthToken(u)}),s.appCheckProvider_.addTokenChangeListener(u=>{s.server_.refreshAppCheckToken(u.token)}),s.statsReporter_=VS(s.repoInfo_,()=>new Gb(s.stats_,s.server_)),s.infoData_=new Bb,s.infoSyncTree_=new Xp({startListening:(u,o,f,d)=>{let _=[];const g=s.infoData_.getNode(u._path);return g.isEmpty()||(_=rs(s.infoSyncTree_,u._path,g),setTimeout(()=>{d("ok")},0)),_},stopListening:()=>{}}),kf(s,"connected",!1),s.serverSyncTree_=new Xp({startListening:(u,o,f,d)=>(s.server_.listen(u,f,o,(_,g)=>{const p=d(_,g);rn(s.eventQueue_,u._path,p)}),[]),stopListening:(u,o)=>{s.server_.unlisten(u,o)}})}function rT(s){const l=s.infoData_.getNode(new we(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function jf(s){return qC({timestamp:rT(s)})}function Kp(s,n,l,u,o){s.dataUpdateCount++;const f=new we(n);l=s.interceptServerDataCallback_?s.interceptServerDataCallback_(n,l):l;let d=[];if(o)if(u){const g=Uu(l,p=>rt(p));d=UC(s.serverSyncTree_,f,g,o)}else{const g=rt(l);d=my(s.serverSyncTree_,f,g,o)}else if(u){const g=Uu(l,p=>rt(p));d=MC(s.serverSyncTree_,f,g)}else{const g=rt(l);d=rs(s.serverSyncTree_,f,g)}let _=f;d.length>0&&(_=ar(s,f)),rn(s.eventQueue_,_,d)}function Fp(s,n){kf(s,"connected",n),n===!1&&hT(s)}function oT(s,n){Dt(n,(l,u)=>{kf(s,l,u)})}function kf(s,n,l){const u=new we("/.info/"+n),o=rt(l);s.infoData_.updateSnapshot(u,o);const f=rs(s.infoSyncTree_,u,o);rn(s.eventQueue_,u,f)}function Ny(s){return s.nextWriteId_++}function cT(s,n,l){const u=HC(s.serverSyncTree_,n);return u!=null?Promise.resolve(u):s.server_.get(n).then(o=>{const f=rt(o).withIndex(n._queryParams.getIndex());LC(s.serverSyncTree_,n,l,!0);let d;if(n._queryParams.loadsAllData())d=rs(s.serverSyncTree_,n._path,f);else{const _=ns(s.serverSyncTree_,n);d=my(s.serverSyncTree_,n._path,f,_)}return rn(s.eventQueue_,n._path,d),dy(s.serverSyncTree_,n,l,null,!0),f},o=>(lr(s,"get for query "+$e(n)+" failed: "+o),Promise.reject(new Error(o))))}function fT(s,n,l,u,o){lr(s,"set",{path:n.toString(),value:l,priority:u});const f=jf(s),d=rt(l,u),_=Df(s.serverSyncTree_,n),g=yy(d,_,f),p=Ny(s),T=hy(s.serverSyncTree_,n,g,p,!0);Ay(s.eventQueue_,T),s.server_.put(n.toString(),d.val(!0),(b,L)=>{const I=b==="ok";I||Rt("set at "+n+" failed: "+b);const Q=Li(s.serverSyncTree_,p,!I);rn(s.eventQueue_,n,Q),mT(s,o,b,L)});const v=My(s,n);ar(s,v),rn(s.eventQueue_,v,[])}function hT(s){lr(s,"onDisconnectEvents");const n=jf(s),l=qu();tf(s.onDisconnect_,ve(),(o,f)=>{const d=VC(o,f,s.serverSyncTree_,n);Jg(l,o,d)});let u=[];tf(l,ve(),(o,f)=>{u=u.concat(rs(s.serverSyncTree_,o,f));const d=My(s,o);ar(s,d)}),s.onDisconnect_=qu(),rn(s.eventQueue_,ve(),u)}function dT(s){s.persistentConnection_&&s.persistentConnection_.interrupt(lT)}function lr(s,...n){let l="";s.persistentConnection_&&(l=s.persistentConnection_.id+":"),pt(l,...n)}function mT(s,n,l,u){n&&jl(()=>{if(l==="ok")n(null);else{const o=(l||"error").toUpperCase();let f=o;u&&(f+=": "+u);const d=new Error(f);d.code=o,n(d)}})}function xy(s,n,l){return Df(s.serverSyncTree_,n,l)||Z.EMPTY_NODE}function qf(s,n=s.transactionQueueTree_){if(n||sr(s,n),kl(n)){const l=Dy(s,n);B(l.length>0,"Sending zero length transaction queue"),l.every(o=>o.status===0)&&_T(s,cs(n),l)}else Ey(n)&&ir(n,l=>{qf(s,l)})}function _T(s,n,l){const u=l.map(p=>p.currentWriteId),o=xy(s,n,u);let f=o;const d=o.hash();for(let p=0;p<l.length;p++){const T=l[p];B(T.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),T.status=1,T.retryCount++;const v=yt(n,T.path);f=f.updateChild(v,T.currentOutputSnapshotRaw)}const _=f.val(!0),g=n;s.server_.put(g.toString(),_,p=>{lr(s,"transaction put response",{path:g.toString(),status:p});let T=[];if(p==="ok"){const v=[];for(let b=0;b<l.length;b++)l[b].status=2,T=T.concat(Li(s.serverSyncTree_,l[b].currentWriteId)),l[b].onComplete&&v.push(()=>l[b].onComplete(null,!0,l[b].currentOutputSnapshotResolved)),l[b].unwatcher();sr(s,Bf(s.transactionQueueTree_,n)),qf(s,s.transactionQueueTree_),rn(s.eventQueue_,n,T);for(let b=0;b<v.length;b++)jl(v[b])}else{if(p==="datastale")for(let v=0;v<l.length;v++)l[v].status===3?l[v].status=4:l[v].status=0;else{Rt("transaction at "+g.toString()+" failed: "+p);for(let v=0;v<l.length;v++)l[v].status=4,l[v].abortReason=p}ar(s,n)}},d)}function ar(s,n){const l=Ry(s,n),u=cs(l),o=Dy(s,l);return pT(s,o,u),u}function pT(s,n,l){if(n.length===0)return;const u=[];let o=[];const d=n.filter(_=>_.status===0).map(_=>_.currentWriteId);for(let _=0;_<n.length;_++){const g=n[_],p=yt(l,g.path);let T=!1,v;if(B(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)T=!0,v=g.abortReason,o=o.concat(Li(s.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=aT)T=!0,v="maxretry",o=o.concat(Li(s.serverSyncTree_,g.currentWriteId,!0));else{const b=xy(s,g.path,d);g.currentInputSnapshot=b;const L=n[_].update(b.val());if(L!==void 0){If("transaction failed: Data returned ",L,g.path);let I=rt(L);typeof L=="object"&&L!=null&&zn(L,".priority")||(I=I.updatePriority(b.getPriority()));const te=g.currentWriteId,Ae=jf(s),Be=yy(I,b,Ae);g.currentOutputSnapshotRaw=I,g.currentOutputSnapshotResolved=Be,g.currentWriteId=Ny(s),d.splice(d.indexOf(te),1),o=o.concat(hy(s.serverSyncTree_,g.path,Be,g.currentWriteId,g.applyLocally)),o=o.concat(Li(s.serverSyncTree_,te,!0))}else T=!0,v="nodata",o=o.concat(Li(s.serverSyncTree_,g.currentWriteId,!0))}rn(s.eventQueue_,l,o),o=[],T&&(n[_].status=2,(function(b){setTimeout(b,Math.floor(0))})(n[_].unwatcher),n[_].onComplete&&(v==="nodata"?u.push(()=>n[_].onComplete(null,!1,n[_].currentInputSnapshot)):u.push(()=>n[_].onComplete(new Error(v),!1,null))))}sr(s,s.transactionQueueTree_);for(let _=0;_<u.length;_++)jl(u[_]);qf(s,s.transactionQueueTree_)}function Ry(s,n){let l,u=s.transactionQueueTree_;for(l=de(n);l!==null&&kl(u)===void 0;)u=Bf(u,l),n=Oe(n),l=de(n);return u}function Dy(s,n){const l=[];return wy(s,n,l),l.sort((u,o)=>u.order-o.order),l}function wy(s,n,l){const u=kl(n);if(u)for(let o=0;o<u.length;o++)l.push(u[o]);ir(n,o=>{wy(s,o,l)})}function sr(s,n){const l=kl(n);if(l){let u=0;for(let o=0;o<l.length;o++)l[o].status!==2&&(l[u]=l[o],u++);l.length=u,vy(n,l.length>0?l:void 0)}ir(n,u=>{sr(s,u)})}function My(s,n){const l=cs(Ry(s,n)),u=Bf(s.transactionQueueTree_,n);return XC(u,o=>{Vc(s,o)}),Vc(s,u),Sy(u,o=>{Vc(s,o)}),l}function Vc(s,n){const l=kl(n);if(l){const u=[];let o=[],f=-1;for(let d=0;d<l.length;d++)l[d].status===3||(l[d].status===1?(B(f===d-1,"All SENT items should be at beginning of queue."),f=d,l[d].status=3,l[d].abortReason="set"):(B(l[d].status===0,"Unexpected transaction status in abort"),l[d].unwatcher(),o=o.concat(Li(s.serverSyncTree_,l[d].currentWriteId,!0)),l[d].onComplete&&u.push(l[d].onComplete.bind(null,new Error("set"),!1,null))));f===-1?vy(n,void 0):l.length=f+1,rn(s.eventQueue_,cs(n),o);for(let d=0;d<u.length;d++)jl(u[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(s){let n="";const l=s.split("/");for(let u=0;u<l.length;u++)if(l[u].length>0){let o=l[u];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}function yT(s){const n={};s.charAt(0)==="?"&&(s=s.substring(1));for(const l of s.split("&")){if(l.length===0)continue;const u=l.split("=");u.length===2?n[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):Rt(`Invalid query segment '${l}' in query '${s}'`)}return n}const Jp=function(s,n){const l=vT(s),u=l.namespace;l.domain==="firebase.com"&&Mn(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!u||u==="undefined")&&l.domain!=="localhost"&&Mn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||wS();const o=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new wg(l.host,l.secure,u,o,n,"",u!==l.subdomain),path:new we(l.pathString)}},vT=function(s){let n="",l="",u="",o="",f="",d=!0,_="https",g=443;if(typeof s=="string"){let p=s.indexOf("//");p>=0&&(_=s.substring(0,p-1),s=s.substring(p+2));let T=s.indexOf("/");T===-1&&(T=s.length);let v=s.indexOf("?");v===-1&&(v=s.length),n=s.substring(0,Math.min(T,v)),T<v&&(o=gT(s.substring(T,v)));const b=yT(s.substring(Math.min(s.length,v)));p=n.indexOf(":"),p>=0?(d=_==="https"||_==="wss",g=parseInt(n.substring(p+1),10)):p=n.length;const L=n.slice(0,p);if(L.toLowerCase()==="localhost")l="localhost";else if(L.split(".").length<=2)l=L;else{const I=n.indexOf(".");u=n.substring(0,I).toLowerCase(),l=n.substring(I+1),f=u}"ns"in b&&(f=b.ns)}return{host:n,port:g,domain:l,subdomain:u,secure:d,scheme:_,pathString:o,namespace:f}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(n,l,u,o){this.eventType=n,this.eventRegistration=l,this.snapshot=u,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+$e(this.snapshot.exportVal())}}class ST{constructor(n,l,u){this.eventRegistration=n,this.error=l,this.path=u}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(n,l,u,o){this._repo=n,this._path=l,this._queryParams=u,this._orderByCalled=o}get key(){return oe(this._path)?null:jg(this._path)}get ref(){return new Un(this._repo,this._path)}get _queryIdentifier(){const n=Lp(this._queryParams),l=_f(n);return l==="{}"?"default":l}get _queryObject(){return Lp(this._queryParams)}isEqual(n){if(n=Bl(n),!(n instanceof Gf))return!1;const l=this._repo===n._repo,u=Gg(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return l&&u&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+db(this._path)}}class Un extends Gf{constructor(n,l){super(n,l,new bf,!1)}get parent(){const n=qg(this._path);return n===null?null:new Un(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class is{constructor(n,l,u){this._node=n,this.ref=l,this._index=u}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new we(n),u=rf(this.ref,n);return new is(this._node.getChild(l),u,qe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(u,o)=>n(new is(o,rf(this.ref,u),qe)))}hasChild(n){const l=new we(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ur(s,n){return s=Bl(s),s._checkNotDeleted("ref"),n!==void 0?rf(s._root,n):s._root}function rf(s,n){return s=Bl(s),de(s._path)===null?PC("child","path",n):Ty("child","path",n),new Un(s._repo,et(s._path,n))}function Oy(s,n){s=Bl(s),$C("set",s._path),WC("set",n,s._path);const l=new Ju;return fT(s._repo,s._path,n,null,l.wrapCallback(()=>{})),l.promise}function rr(s){s=Bl(s);const n=new bT(()=>{}),l=new Yf(n);return cT(s._repo,s,l).then(u=>new is(u,new Un(s._repo,s._path),s._queryParams.getIndex()))}class Yf{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,l){const u=l._queryParams.getIndex();return new ET("value",this,new is(n.snapshotNode,new Un(l._repo,l._path),u))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new ST(this,n,l):null}matches(n){return n instanceof Yf?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}CC(Un);RC(Un);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="FIREBASE_DATABASE_EMULATOR_HOST",of={};let TT=!1;function AT(s,n,l,u){const o=n.lastIndexOf(":"),f=n.substring(0,o),d=hf(f);s.repoInfo_=new wg(n,d,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,l),u&&(s.authTokenProvider_=u)}function NT(s,n,l,u,o){let f=u||s.options.databaseURL;f===void 0&&(s.options.projectId||Mn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pt("Using default host for project ",s.options.projectId),f=`${s.options.projectId}-default-rtdb.firebaseio.com`);let d=Jp(f,o),_=d.repoInfo,g;typeof process<"u"&&gp&&(g=gp[CT]),g?(f=`http://${g}?ns=${_.namespace}`,d=Jp(f,o),_=d.repoInfo):d.repoInfo.secure;const p=new qS(s.name,s.options,n);eT("Invalid Firebase Database URL",d),oe(d.path)||Mn("Database URL must point to the root of a Firebase Database (not including a child path).");const T=RT(_,s,p,new kS(s,l));return new DT(T,s)}function xT(s,n){const l=of[n];(!l||l[s.key]!==s)&&Mn(`Database ${n}(${s.repoInfo_}) has already been deleted.`),dT(s),delete l[s.key]}function RT(s,n,l,u){let o=of[n.name];o||(o={},of[n.name]=o);let f=o[s.toURLString()];return f&&Mn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new sT(s,TT,l,u),o[s.toURLString()]=f,f}class DT{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(uT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Un(this._repo,ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(xT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Mn("Cannot call "+n+" on a deleted database.")}}function wT(s=fS(),n){const l=sS(s,"database").getImmediate({identifier:n});if(!l._instanceStarted){const u=Q1("database");u&&MT(l,...u)}return l}function MT(s,n,l,u={}){s=Bl(s),s._checkNotDeleted("useEmulator");const o=`${n}:${l}`,f=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&Lu(u,f.repoInfo_.emulatorOptions))return;Mn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(f.repoInfo_.nodeAdmin)u.mockUserToken&&Mn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Ou(Ou.OWNER);else if(u.mockUserToken){const _=typeof u.mockUserToken=="string"?u.mockUserToken:Z1(u.mockUserToken,s.app.options.projectId);d=new Ou(_)}hf(n)&&(X1(n),J1("Database",!0)),AT(f,o,u,d)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(s){TS(cS),Hu(new Za("database",(n,{instanceIdentifier:l})=>{const u=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return NT(u,o,f,l)},"PUBLIC").setMultipleInstances(!0)),Dl(yp,vp,s),Dl(yp,vp,"esm2020")}Dn.prototype.simpleListen=function(s,n){this.sendRequest("q",{p:s},n)};Dn.prototype.echo=function(s,n){this.sendRequest("echo",{d:s},n)};OT();const zT={apiKey:"AIzaSyBPRHYwXxfzl2hN3jIzRnvM1VqFX0TdEkw",authDomain:"playloop-studios.firebaseapp.com",databaseURL:"https://playloop-studios-default-rtdb.firebaseio.com",projectId:"playloop-studios",storageBucket:"playloop-studios.firebasestorage.app",messagingSenderId:"106333169704",appId:"1:106333169704:web:6d996e5017e1555e216d1d"};let Qc,On;try{dp().length?Qc=dp()[0]:Qc=hg(zT),On=wT(Qc)}catch(s){console.error("Firebase Initialization Error. Counters will not work.",s)}const UT=async()=>{if(!On)throw new Error("Database not initialized");const s=ur(On,"snake_visitorCount"),n=await rr(s),l=n.exists()?n.val():0;await Oy(s,l+1)},LT=async()=>{if(!On)throw new Error("Database not initialized");const s=ur(On,"snake_visitorCount"),n=await rr(s);return n.exists()?n.val():0},HT=async()=>{if(!On)throw new Error("Database not initialized");const s=ur(On,"snake_gamesPlayed"),n=await rr(s),l=n.exists()?n.val():0;await Oy(s,l+1)},Wp=async()=>{if(!On)throw new Error("Database not initialized");const s=ur(On,"snake_gamesPlayed"),n=await rr(s);return n.exists()?n.val():0},BT=()=>{const[s,n]=ye.useState(at.MENU),[l,u]=ye.useState(0),[o,f]=ye.useState(0),[d,_]=ye.useState(!0),[g,p]=ye.useState("MEDIUM"),[T,v]=ye.useState(null),[b,L]=ye.useState(null);ye.useEffect(()=>{const se=localStorage.getItem("snake_highscore");se&&f(parseInt(se,10))},[]),ye.useEffect(()=>{(async()=>{try{await UT();const mt=await LT();v(mt);const tt=await Wp();L(tt)}catch(mt){console.error("Failed to load counters:",mt)}})()},[]);const I=se=>{n(at.GAME_OVER),se>o&&(f(se),localStorage.setItem("snake_highscore",se.toString()))},Q=()=>{_(!d),d||xn("click")},te=async()=>{d&&xn("click"),u(0),n(at.PLAYING);try{await HT();const se=await Wp();L(se)}catch(se){console.error("Failed to increment games played:",se)}},Ae=()=>{s===at.PLAYING&&(d&&xn("click"),n(at.PAUSED))},Be=()=>{d&&xn("click"),n(at.PLAYING)},ie=()=>{d&&xn("click"),n(at.MENU)};return U.jsxs("div",{className:"min-h-screen w-full bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-[#1C295A] to-[#0E1B3E] text-white flex flex-col p-4",children:[T!==null&&U.jsxs("div",{className:"absolute top-4 left-2 sm:left-4 bg-white/5 backdrop-blur-sm border border-white/10 px-3 sm:px-4 py-1.5 rounded-full text-xs text-gray-300 z-50",children:[" ",T.toLocaleString()," visitors"]}),b!==null&&U.jsxs("div",{className:"absolute top-4 right-2 sm:right-4 bg-white/5 backdrop-blur-sm border border-white/10 px-3 sm:px-4 py-1.5 rounded-full text-xs text-gray-300 z-50",children:[" ",b.toLocaleString()," games played"]}),U.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[U.jsxs("div",{className:"w-full max-w-[600px] flex justify-between items-center mb-6 z-10",children:[U.jsxs("div",{className:"flex flex-col",children:[U.jsx("h1",{className:"text-2xl font-bold tracking-tight text-[#2ECC71]",children:"SNAKE"}),U.jsx("span",{className:"text-xs text-blue-200 opacity-60",children:"by PlayLoop"})]}),U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsxs("div",{className:"flex flex-col items-end",children:[U.jsx("span",{className:"text-sm text-blue-200",children:"SCORE"}),U.jsx("span",{className:"text-2xl font-mono font-bold",children:l})]}),U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("button",{onClick:Q,className:"p-2 rounded-full bg-white/5 hover:bg-white/10 transition-colors","aria-label":"Toggle Sound",children:d?U.jsx(w1,{size:20}):U.jsx(O1,{size:20})}),s===at.PLAYING&&U.jsx("button",{onClick:Ae,className:"p-2 rounded-full bg-white/5 hover:bg-white/10 transition-colors md:hidden","aria-label":"Pause",children:U.jsx(N1,{size:20})})]})]})]}),U.jsxs("div",{className:"relative w-full max-w-[600px] flex justify-center",children:[U.jsx(v1,{status:s,isSoundEnabled:d,difficulty:g,onScoreUpdate:u,onGameOver:I}),s===at.MENU&&U.jsxs("div",{className:"absolute inset-0 bg-[#0E1B3E]/90 backdrop-blur-sm rounded-xl flex flex-col items-center justify-center p-8 text-center z-20 animate-fade-in",children:[U.jsxs("div",{className:"mb-8",children:[U.jsx("h1",{className:"text-5xl font-extrabold text-[#2ECC71] mb-2 drop-shadow-[0_0_15px_rgba(46,204,113,0.5)]",children:"SNAKE"}),U.jsx("p",{className:"text-blue-200/60 tracking-widest text-sm uppercase",children:"The Classic Reimagined"})]}),U.jsxs("div",{className:"flex items-center gap-2 mb-8 bg-white/5 px-4 py-2 rounded-full",children:[U.jsx(R1,{size:16,className:"text-[#F59E0B]"}),U.jsxs("span",{className:"text-sm font-medium",children:["High Score: ",o]})]}),U.jsxs("div",{className:"mb-8 w-full max-w-[300px]",children:[U.jsx("label",{className:"block text-sm text-blue-200/80 mb-3 text-center",children:"Difficulty:"}),U.jsx("div",{className:"flex gap-2 justify-center",children:["EASY","MEDIUM","HARD"].map(se=>U.jsx("button",{onClick:()=>{p(se),d&&xn("click")},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${g===se?"bg-[#2ECC71] text-[#0E1B3E] shadow-lg":"bg-white/5 text-blue-200/60 hover:bg-white/10"}`,children:se},se))})]}),U.jsx(Nl,{onClick:te,className:"animate-pulse shadow-lg hover:animate-none min-w-[200px]",children:"Start Game"}),U.jsxs("div",{className:"mt-8 text-xs text-white/30",children:[U.jsx("p",{className:"hidden md:block",children:"Use Arrow Keys to Move"}),U.jsx("p",{className:"md:hidden",children:"Swipe to Move"})]})]}),s===at.PAUSED&&U.jsxs("div",{className:"absolute inset-0 bg-[#0E1B3E]/80 backdrop-blur-sm rounded-xl flex flex-col items-center justify-center p-8 z-20",children:[U.jsx("h2",{className:"text-3xl font-bold mb-8 tracking-widest",children:"PAUSED"}),U.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-[200px]",children:[U.jsx(Nl,{onClick:Be,children:"Resume"}),U.jsx(Nl,{variant:"secondary",onClick:te,children:"Restart"}),U.jsx(Nl,{variant:"secondary",onClick:ie,className:"border-none text-sm opacity-60 hover:opacity-100",children:"Main Menu"})]})]}),s===at.GAME_OVER&&U.jsxs("div",{className:"absolute inset-0 bg-[#0E1B3E]/95 backdrop-blur-md rounded-xl flex flex-col items-center justify-center p-8 text-center z-20 animate-fade-in-up",children:[U.jsx("h2",{className:"text-4xl font-bold mb-2 text-white",children:"Game Over!"}),l>=o&&l>0&&U.jsx("div",{className:"mb-6 px-4 py-1 bg-[#F59E0B]/20 rounded-full border border-[#F59E0B]/50 text-[#F59E0B] text-sm font-bold animate-bounce",children:"New High Score!"}),U.jsxs("div",{className:"flex flex-col gap-1 mb-10",children:[U.jsx("span",{className:"text-blue-200 text-sm",children:"FINAL SCORE"}),U.jsx("span",{className:"text-6xl font-bold text-[#2ECC71] font-mono",children:l})]}),U.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-[200px]",children:[U.jsx(Nl,{onClick:te,children:"Play Again"}),U.jsx(Nl,{variant:"secondary",onClick:ie,children:"Main Menu"})]})]})]}),U.jsxs("div",{className:"mt-8 hidden md:flex items-center gap-8 text-white/20 text-sm font-medium select-none",children:[U.jsxs("div",{className:"flex flex-col items-center gap-1",children:[U.jsx("div",{className:"w-8 h-8 rounded border border-current flex items-center justify-center",children:""}),U.jsxs("div",{className:"flex gap-1",children:[U.jsx("div",{className:"w-8 h-8 rounded border border-current flex items-center justify-center",children:""}),U.jsx("div",{className:"w-8 h-8 rounded border border-current flex items-center justify-center",children:""}),U.jsx("div",{className:"w-8 h-8 rounded border border-current flex items-center justify-center",children:""})]}),U.jsx("span",{className:"mt-1",children:"Move"})]}),U.jsx("div",{className:"h-12 w-px bg-white/10"}),U.jsxs("div",{className:"flex flex-col items-center gap-2",children:[U.jsx("div",{className:"px-3 py-1 border border-current rounded text-xs",children:"SPACE"}),U.jsx("span",{children:"Pause"})]})]})]}),U.jsx("div",{className:"mt-auto py-6 text-center w-full",children:U.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-400",children:[U.jsx("span",{children:"Built by ProductAlchemist"}),U.jsx("a",{href:"https://github.com/ProductAlchemist",target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 hover:text-[#2ECC71] transition-all",children:U.jsx(z1,{className:"inline-block"})}),U.jsx("span",{className:"text-gray-600",children:"|"}),U.jsx("a",{href:"https://www.linkedin.com/in/kshitijkulkarni-productmanager/",target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 hover:text-[#2ECC71] transition-all",children:U.jsx(U1,{className:"inline-block"})})]})})]})},zy=document.getElementById("root");if(!zy)throw new Error("Could not find root element");const IT=m1.createRoot(zy);IT.render(U.jsx(s1.StrictMode,{children:U.jsx(BT,{})}));
