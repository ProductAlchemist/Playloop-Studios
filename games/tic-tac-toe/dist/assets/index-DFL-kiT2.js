(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function l(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(u){if(u.ep)return;u.ep=!0;const f=l(u);fetch(u.href,f)}})();function Tp(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Qc={exports:{}},Wa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function y1(){if(p_)return Wa;p_=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var m in u)m!=="key"&&(f[m]=u[m])}else f=u;return u=f.ref,{$$typeof:a,type:r,key:h,ref:u!==void 0?u:null,props:f}}return Wa.Fragment=n,Wa.jsx=l,Wa.jsxs=l,Wa}var y_;function v1(){return y_||(y_=1,Qc.exports=y1()),Qc.exports}var T=v1(),Xc={exports:{}},W={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function b1(){if(v_)return W;v_=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function j(E){return E===null||typeof E!="object"?null:(E=b&&E[b]||E["@@iterator"],typeof E=="function"?E:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,ne={};function Se(E,z,B){this.props=E,this.context=z,this.refs=ne,this.updater=B||k}Se.prototype.isReactComponent={},Se.prototype.setState=function(E,z){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,z,"setState")},Se.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function Be(){}Be.prototype=Se.prototype;function pe(E,z,B){this.props=E,this.context=z,this.refs=ne,this.updater=B||k}var ye=pe.prototype=new Be;ye.constructor=pe,Q(ye,Se.prototype),ye.isPureReactComponent=!0;var bt=Array.isArray;function je(){}var ee={H:null,A:null,T:null,S:null},et=Object.prototype.hasOwnProperty;function kt(E,z,B){var q=B.ref;return{$$typeof:a,type:E,key:z,ref:q!==void 0?q:null,props:B}}function en(E,z){return kt(E.type,z,E.props)}function gt(E){return typeof E=="object"&&E!==null&&E.$$typeof===a}function rt(E){var z={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(B){return z[B]})}var Dt=/\/+/g;function Ot(E,z){return typeof E=="object"&&E!==null&&E.key!=null?rt(""+E.key):z.toString(36)}function _t(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(je,je):(E.status="pending",E.then(function(z){E.status==="pending"&&(E.status="fulfilled",E.value=z)},function(z){E.status==="pending"&&(E.status="rejected",E.reason=z)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function R(E,z,B,q,F){var ie=typeof E;(ie==="undefined"||ie==="boolean")&&(E=null);var J=!1;if(E===null)J=!0;else switch(ie){case"bigint":case"string":case"number":J=!0;break;case"object":switch(E.$$typeof){case a:case n:J=!0;break;case C:return J=E._init,R(J(E._payload),z,B,q,F)}}if(J)return F=F(E),J=q===""?"."+Ot(E,0):q,bt(F)?(B="",J!=null&&(B=J.replace(Dt,"$&/")+"/"),R(F,z,B,"",function(kn){return kn})):F!=null&&(gt(F)&&(F=en(F,B+(F.key==null||E&&E.key===F.key?"":(""+F.key).replace(Dt,"$&/")+"/")+J)),z.push(F)),1;J=0;var Qe=q===""?".":q+":";if(bt(E))for(var ze=0;ze<E.length;ze++)q=E[ze],ie=Qe+Ot(q,ze),J+=R(q,z,B,ie,F);else if(ze=j(E),typeof ze=="function")for(E=ze.call(E),ze=0;!(q=E.next()).done;)q=q.value,ie=Qe+Ot(q,ze++),J+=R(q,z,B,ie,F);else if(ie==="object"){if(typeof E.then=="function")return R(_t(E),z,B,q,F);throw z=String(E),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return J}function H(E,z,B){if(E==null)return E;var q=[],F=0;return R(E,q,"","",function(ie){return z.call(B,ie,F++)}),q}function X(E){if(E._status===-1){var z=E._result;z=z(),z.then(function(B){(E._status===0||E._status===-1)&&(E._status=1,E._result=B)},function(B){(E._status===0||E._status===-1)&&(E._status=2,E._result=B)}),E._status===-1&&(E._status=0,E._result=z)}if(E._status===1)return E._result.default;throw E._result}var ve=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},Ee={map:H,forEach:function(E,z,B){H(E,function(){z.apply(this,arguments)},B)},count:function(E){var z=0;return H(E,function(){z++}),z},toArray:function(E){return H(E,function(z){return z})||[]},only:function(E){if(!gt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return W.Activity=v,W.Children=Ee,W.Component=Se,W.Fragment=l,W.Profiler=u,W.PureComponent=pe,W.StrictMode=r,W.Suspense=p,W.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,W.__COMPILER_RUNTIME={__proto__:null,c:function(E){return ee.H.useMemoCache(E)}},W.cache=function(E){return function(){return E.apply(null,arguments)}},W.cacheSignal=function(){return null},W.cloneElement=function(E,z,B){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var q=Q({},E.props),F=E.key;if(z!=null)for(ie in z.key!==void 0&&(F=""+z.key),z)!et.call(z,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&z.ref===void 0||(q[ie]=z[ie]);var ie=arguments.length-2;if(ie===1)q.children=B;else if(1<ie){for(var J=Array(ie),Qe=0;Qe<ie;Qe++)J[Qe]=arguments[Qe+2];q.children=J}return kt(E.type,F,q)},W.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:f,_context:E},E},W.createElement=function(E,z,B){var q,F={},ie=null;if(z!=null)for(q in z.key!==void 0&&(ie=""+z.key),z)et.call(z,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(F[q]=z[q]);var J=arguments.length-2;if(J===1)F.children=B;else if(1<J){for(var Qe=Array(J),ze=0;ze<J;ze++)Qe[ze]=arguments[ze+2];F.children=Qe}if(E&&E.defaultProps)for(q in J=E.defaultProps,J)F[q]===void 0&&(F[q]=J[q]);return kt(E,ie,F)},W.createRef=function(){return{current:null}},W.forwardRef=function(E){return{$$typeof:m,render:E}},W.isValidElement=gt,W.lazy=function(E){return{$$typeof:C,_payload:{_status:-1,_result:E},_init:X}},W.memo=function(E,z){return{$$typeof:_,type:E,compare:z===void 0?null:z}},W.startTransition=function(E){var z=ee.T,B={};ee.T=B;try{var q=E(),F=ee.S;F!==null&&F(B,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(je,ve)}catch(ie){ve(ie)}finally{z!==null&&B.types!==null&&(z.types=B.types),ee.T=z}},W.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},W.use=function(E){return ee.H.use(E)},W.useActionState=function(E,z,B){return ee.H.useActionState(E,z,B)},W.useCallback=function(E,z){return ee.H.useCallback(E,z)},W.useContext=function(E){return ee.H.useContext(E)},W.useDebugValue=function(){},W.useDeferredValue=function(E,z){return ee.H.useDeferredValue(E,z)},W.useEffect=function(E,z){return ee.H.useEffect(E,z)},W.useEffectEvent=function(E){return ee.H.useEffectEvent(E)},W.useId=function(){return ee.H.useId()},W.useImperativeHandle=function(E,z,B){return ee.H.useImperativeHandle(E,z,B)},W.useInsertionEffect=function(E,z){return ee.H.useInsertionEffect(E,z)},W.useLayoutEffect=function(E,z){return ee.H.useLayoutEffect(E,z)},W.useMemo=function(E,z){return ee.H.useMemo(E,z)},W.useOptimistic=function(E,z){return ee.H.useOptimistic(E,z)},W.useReducer=function(E,z,B){return ee.H.useReducer(E,z,B)},W.useRef=function(E){return ee.H.useRef(E)},W.useState=function(E){return ee.H.useState(E)},W.useSyncExternalStore=function(E,z,B){return ee.H.useSyncExternalStore(E,z,B)},W.useTransition=function(){return ee.H.useTransition()},W.version="19.2.0",W}var b_;function jf(){return b_||(b_=1,Xc.exports=b1()),Xc.exports}var de=jf();const S1=Tp(de);var Kc={exports:{}},Pa={},Zc={exports:{}},Fc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function E1(){return S_||(S_=1,(function(a){function n(R,H){var X=R.length;R.push(H);e:for(;0<X;){var ve=X-1>>>1,Ee=R[ve];if(0<u(Ee,H))R[ve]=H,R[X]=Ee,X=ve;else break e}}function l(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var H=R[0],X=R.pop();if(X!==H){R[0]=X;e:for(var ve=0,Ee=R.length,E=Ee>>>1;ve<E;){var z=2*(ve+1)-1,B=R[z],q=z+1,F=R[q];if(0>u(B,X))q<Ee&&0>u(F,B)?(R[ve]=F,R[q]=X,ve=q):(R[ve]=B,R[z]=X,ve=z);else if(q<Ee&&0>u(F,X))R[ve]=F,R[q]=X,ve=q;else break e}}return H}function u(R,H){var X=R.sortIndex-H.sortIndex;return X!==0?X:R.id-H.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();a.unstable_now=function(){return h.now()-m}}var p=[],_=[],C=1,v=null,b=3,j=!1,k=!1,Q=!1,ne=!1,Se=typeof setTimeout=="function"?setTimeout:null,Be=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;function ye(R){for(var H=l(_);H!==null;){if(H.callback===null)r(_);else if(H.startTime<=R)r(_),H.sortIndex=H.expirationTime,n(p,H);else break;H=l(_)}}function bt(R){if(Q=!1,ye(R),!k)if(l(p)!==null)k=!0,je||(je=!0,rt());else{var H=l(_);H!==null&&_t(bt,H.startTime-R)}}var je=!1,ee=-1,et=5,kt=-1;function en(){return ne?!0:!(a.unstable_now()-kt<et)}function gt(){if(ne=!1,je){var R=a.unstable_now();kt=R;var H=!0;try{e:{k=!1,Q&&(Q=!1,Be(ee),ee=-1),j=!0;var X=b;try{t:{for(ye(R),v=l(p);v!==null&&!(v.expirationTime>R&&en());){var ve=v.callback;if(typeof ve=="function"){v.callback=null,b=v.priorityLevel;var Ee=ve(v.expirationTime<=R);if(R=a.unstable_now(),typeof Ee=="function"){v.callback=Ee,ye(R),H=!0;break t}v===l(p)&&r(p),ye(R)}else r(p);v=l(p)}if(v!==null)H=!0;else{var E=l(_);E!==null&&_t(bt,E.startTime-R),H=!1}}break e}finally{v=null,b=X,j=!1}H=void 0}}finally{H?rt():je=!1}}}var rt;if(typeof pe=="function")rt=function(){pe(gt)};else if(typeof MessageChannel<"u"){var Dt=new MessageChannel,Ot=Dt.port2;Dt.port1.onmessage=gt,rt=function(){Ot.postMessage(null)}}else rt=function(){Se(gt,0)};function _t(R,H){ee=Se(function(){R(a.unstable_now())},H)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(R){R.callback=null},a.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):et=0<R?Math.floor(1e3/R):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_next=function(R){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var X=b;b=H;try{return R()}finally{b=X}},a.unstable_requestPaint=function(){ne=!0},a.unstable_runWithPriority=function(R,H){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var X=b;b=R;try{return H()}finally{b=X}},a.unstable_scheduleCallback=function(R,H,X){var ve=a.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ve+X:ve):X=ve,R){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=X+Ee,R={id:C++,callback:H,priorityLevel:R,startTime:X,expirationTime:Ee,sortIndex:-1},X>ve?(R.sortIndex=X,n(_,R),l(p)===null&&R===l(_)&&(Q?(Be(ee),ee=-1):Q=!0,_t(bt,X-ve))):(R.sortIndex=Ee,n(p,R),k||j||(k=!0,je||(je=!0,rt()))),R},a.unstable_shouldYield=en,a.unstable_wrapCallback=function(R){var H=b;return function(){var X=b;b=H;try{return R.apply(this,arguments)}finally{b=X}}}})(Fc)),Fc}var E_;function C1(){return E_||(E_=1,Zc.exports=E1()),Zc.exports}var Jc={exports:{}},mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function T1(){if(C_)return mt;C_=1;var a=jf();function n(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)_+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(p,_,C){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:v==null?null:""+v,children:p,containerInfo:_,implementation:C}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mt.createPortal=function(p,_){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(n(299));return f(p,_,null,C)},mt.flushSync=function(p){var _=h.T,C=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=_,r.p=C,r.d.f()}},mt.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(p,_))},mt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},mt.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var C=_.as,v=m(C,_.crossOrigin),b=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;C==="style"?r.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:j}):C==="script"&&r.d.X(p,{crossOrigin:v,integrity:b,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},mt.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var C=m(_.as,_.crossOrigin);r.d.M(p,{crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(p)},mt.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var C=_.as,v=m(C,_.crossOrigin);r.d.L(p,C,{crossOrigin:v,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},mt.preloadModule=function(p,_){if(typeof p=="string")if(_){var C=m(_.as,_.crossOrigin);r.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(p)},mt.requestFormReset=function(p){r.d.r(p)},mt.unstable_batchedUpdates=function(p,_){return p(_)},mt.useFormState=function(p,_,C){return h.H.useFormState(p,_,C)},mt.useFormStatus=function(){return h.H.useHostTransitionStatus()},mt.version="19.2.0",mt}var T_;function N1(){if(T_)return Jc.exports;T_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Jc.exports=T1(),Jc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function x1(){if(N_)return Pa;N_=1;var a=C1(),n=jf(),l=N1();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(f(e)!==e)throw Error(r(188))}function _(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,s=t;;){var o=i.return;if(o===null)break;var c=o.alternate;if(c===null){if(s=o.return,s!==null){i=s;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===i)return p(o),e;if(c===s)return p(o),t;c=c.sibling}throw Error(r(188))}if(i.return!==s.return)i=o,s=c;else{for(var d=!1,g=o.child;g;){if(g===i){d=!0,i=o,s=c;break}if(g===s){d=!0,s=o,i=c;break}g=g.sibling}if(!d){for(g=c.child;g;){if(g===i){d=!0,i=c,s=o;break}if(g===s){d=!0,s=c,i=o;break}g=g.sibling}if(!d)throw Error(r(189))}}if(i.alternate!==s)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function C(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=C(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),Se=Symbol.for("react.profiler"),Be=Symbol.for("react.consumer"),pe=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),bt=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),kt=Symbol.for("react.activity"),en=Symbol.for("react.memo_cache_sentinel"),gt=Symbol.iterator;function rt(e){return e===null||typeof e!="object"?null:(e=gt&&e[gt]||e["@@iterator"],typeof e=="function"?e:null)}var Dt=Symbol.for("react.client.reference");function Ot(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Dt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case Se:return"Profiler";case ne:return"StrictMode";case bt:return"Suspense";case je:return"SuspenseList";case kt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case pe:return e.displayName||"Context";case Be:return(e._context.displayName||"Context")+".Consumer";case ye:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return t=e.displayName||null,t!==null?t:Ot(e.type)||"Memo";case et:t=e._payload,e=e._init;try{return Ot(e(t))}catch{}}return null}var _t=Array.isArray,R=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ve=[],Ee=-1;function E(e){return{current:e}}function z(e){0>Ee||(e.current=ve[Ee],ve[Ee]=null,Ee--)}function B(e,t){Ee++,ve[Ee]=e.current,e.current=t}var q=E(null),F=E(null),ie=E(null),J=E(null);function Qe(e,t){switch(B(ie,t),B(F,e),B(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?kg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=kg(t),e=Gg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(q),B(q,e)}function ze(){z(q),z(F),z(ie)}function kn(e){e.memoizedState!==null&&B(J,e);var t=q.current,i=Gg(t,e.type);t!==i&&(B(F,e),B(q,i))}function Ji(e){F.current===e&&(z(q),z(F)),J.current===e&&(z(J),Ka._currentValue=X)}var na,Rs;function on(e){if(na===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);na=t&&t[1]||"",Rs=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+e+Rs}var gn=!1;function Wi(e,t){if(!e||gn)return"";gn=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(D){var w=D}Reflect.construct(e,[],L)}else{try{L.call()}catch(D){w=D}e.call(L.prototype)}}else{try{throw Error()}catch(D){w=D}(L=e())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(D){if(D&&w&&typeof D.stack=="string")return[D.stack,w.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=s.DetermineComponentFrameRoot(),d=c[0],g=c[1];if(d&&g){var y=d.split(`
`),A=g.split(`
`);for(o=s=0;s<y.length&&!y[s].includes("DetermineComponentFrameRoot");)s++;for(;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;if(s===y.length||o===A.length)for(s=y.length-1,o=A.length-1;1<=s&&0<=o&&y[s]!==A[o];)o--;for(;1<=s&&0<=o;s--,o--)if(y[s]!==A[o]){if(s!==1||o!==1)do if(s--,o--,0>o||y[s]!==A[o]){var O=`
`+y[s].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=s&&0<=o);break}}}finally{gn=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?on(i):""}function Ro(e,t){switch(e.tag){case 26:case 27:case 5:return on(e.type);case 16:return on("Lazy");case 13:return e.child!==t&&t!==null?on("Suspense Fallback"):on("Suspense");case 19:return on("SuspenseList");case 0:case 15:return Wi(e.type,!1);case 11:return Wi(e.type.render,!1);case 1:return Wi(e.type,!0);case 31:return on("Activity");default:return""}}function Ms(e){try{var t="",i=null;do t+=Ro(e,i),i=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var ia=Object.prototype.hasOwnProperty,Pi=a.unstable_scheduleCallback,la=a.unstable_cancelCallback,U=a.unstable_shouldYield,ue=a.unstable_requestPaint,te=a.unstable_now,_n=a.unstable_getCurrentPriorityLevel,dt=a.unstable_ImmediatePriority,$i=a.unstable_UserBlockingPriority,el=a.unstable_NormalPriority,Mo=a.unstable_LowPriority,bh=a.unstable_IdlePriority,ev=a.log,tv=a.unstable_setDisableYieldValue,aa=null,Rt=null;function Gn(e){if(typeof ev=="function"&&tv(e),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(aa,e)}catch{}}var Mt=Math.clz32?Math.clz32:lv,nv=Math.log,iv=Math.LN2;function lv(e){return e>>>=0,e===0?32:31-(nv(e)/iv|0)|0}var zs=256,Ls=262144,Us=4194304;function Ei(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function js(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var o=0,c=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var g=s&134217727;return g!==0?(s=g&~c,s!==0?o=Ei(s):(d&=g,d!==0?o=Ei(d):i||(i=g&~e,i!==0&&(o=Ei(i))))):(g=s&~c,g!==0?o=Ei(g):d!==0?o=Ei(d):i||(i=s&~e,i!==0&&(o=Ei(i)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,i=t&-t,c>=i||c===32&&(i&4194048)!==0)?t:o}function sa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function av(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sh(){var e=Us;return Us<<=1,(Us&62914560)===0&&(Us=4194304),e}function zo(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function ra(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function sv(e,t,i,s,o,c){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var g=e.entanglements,y=e.expirationTimes,A=e.hiddenUpdates;for(i=d&~i;0<i;){var O=31-Mt(i),L=1<<O;g[O]=0,y[O]=-1;var w=A[O];if(w!==null)for(A[O]=null,O=0;O<w.length;O++){var D=w[O];D!==null&&(D.lane&=-536870913)}i&=~L}s!==0&&Eh(e,s,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(d&~t))}function Eh(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Mt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function Ch(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-Mt(i),o=1<<s;o&t|e[s]&t&&(e[s]|=t),i&=~o}}function Th(e,t){var i=t&-t;return i=(i&42)!==0?1:Lo(i),(i&(e.suspendedLanes|t))!==0?0:i}function Lo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Uo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Nh(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:c_(e.type))}function xh(e,t){var i=H.p;try{return H.p=e,t()}finally{H.p=i}}var qn=Math.random().toString(36).slice(2),ot="__reactFiber$"+qn,St="__reactProps$"+qn,tl="__reactContainer$"+qn,jo="__reactEvents$"+qn,rv="__reactListeners$"+qn,ov="__reactHandles$"+qn,Ah="__reactResources$"+qn,oa="__reactMarker$"+qn;function Io(e){delete e[ot],delete e[St],delete e[jo],delete e[rv],delete e[ov]}function nl(e){var t=e[ot];if(t)return t;for(var i=e.parentNode;i;){if(t=i[tl]||i[ot]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Zg(e);e!==null;){if(i=e[ot])return i;e=Zg(e)}return t}e=i,i=e.parentNode}return null}function il(e){if(e=e[ot]||e[tl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ua(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function ll(e){var t=e[Ah];return t||(t=e[Ah]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tt(e){e[oa]=!0}var wh=new Set,Dh={};function Ci(e,t){al(e,t),al(e+"Capture",t)}function al(e,t){for(Dh[e]=t,e=0;e<t.length;e++)wh.add(t[e])}var uv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oh={},Rh={};function cv(e){return ia.call(Rh,e)?!0:ia.call(Oh,e)?!1:uv.test(e)?Rh[e]=!0:(Oh[e]=!0,!1)}function Is(e,t,i){if(cv(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Bs(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function pn(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fv(e,t,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,c=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){i=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bo(e){if(!e._valueTracker){var t=Mh(e)?"checked":"value";e._valueTracker=fv(e,t,""+e[t])}}function zh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=Mh(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function Hs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hv=/[\n"\\]/g;function qt(e){return e.replace(hv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ho(e,t,i,s,o,c,d,g){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gt(t)):e.value!==""+Gt(t)&&(e.value=""+Gt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?ko(e,d,Gt(t)):i!=null?ko(e,d,Gt(i)):s!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+Gt(g):e.removeAttribute("name")}function Lh(e,t,i,s,o,c,d,g){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Bo(e);return}i=i!=null?""+Gt(i):"",t=t!=null?""+Gt(t):i,g||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=g?e.checked:!!s,e.defaultChecked=!!s,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),Bo(e)}function ko(e,t,i){t==="number"&&Hs(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function sl(e,t,i,s){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&s&&(e[i].defaultSelected=!0)}else{for(i=""+Gt(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Uh(e,t,i){if(t!=null&&(t=""+Gt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Gt(i):""}function jh(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(r(92));if(_t(s)){if(1<s.length)throw Error(r(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=Gt(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),Bo(e)}function rl(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var dv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ih(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||dv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Bh(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&i[o]!==s&&Ih(e,o,s)}else for(var c in t)t.hasOwnProperty(c)&&Ih(e,c,t[c])}function Go(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ks(e){return gv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function yn(){}var qo=null;function Yo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ol=null,ul=null;function Hh(e){var t=il(e);if(t&&(e=t.stateNode)){var i=e[St]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ho(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+qt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var o=s[St]||null;if(!o)throw Error(r(90));Ho(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&zh(s)}break e;case"textarea":Uh(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&sl(e,!!i.multiple,t,!1)}}}var Vo=!1;function kh(e,t,i){if(Vo)return e(t,i);Vo=!0;try{var s=e(t);return s}finally{if(Vo=!1,(ol!==null||ul!==null)&&(Ar(),ol&&(t=ol,e=ul,ul=ol=null,Hh(t),e)))for(t=0;t<e.length;t++)Hh(e[t])}}function ca(e,t){var i=e.stateNode;if(i===null)return null;var s=i[St]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qo=!1;if(vn)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){Qo=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{Qo=!1}var Yn=null,Xo=null,Gs=null;function Gh(){if(Gs)return Gs;var e,t=Xo,i=t.length,s,o="value"in Yn?Yn.value:Yn.textContent,c=o.length;for(e=0;e<i&&t[e]===o[e];e++);var d=i-e;for(s=1;s<=d&&t[i-s]===o[c-s];s++);return Gs=o.slice(e,1<s?1-s:void 0)}function qs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ys(){return!0}function qh(){return!1}function Et(e){function t(i,s,o,c,d){this._reactName=i,this._targetInst=o,this.type=s,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(i=e[g],this[g]=i?i(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ys:qh,this.isPropagationStopped=qh,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),t}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vs=Et(Ti),ha=v({},Ti,{view:0,detail:0}),_v=Et(ha),Ko,Zo,da,Qs=v({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==da&&(da&&e.type==="mousemove"?(Ko=e.screenX-da.screenX,Zo=e.screenY-da.screenY):Zo=Ko=0,da=e),Ko)},movementY:function(e){return"movementY"in e?e.movementY:Zo}}),Yh=Et(Qs),pv=v({},Qs,{dataTransfer:0}),yv=Et(pv),vv=v({},ha,{relatedTarget:0}),Fo=Et(vv),bv=v({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),Sv=Et(bv),Ev=v({},Ti,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cv=Et(Ev),Tv=v({},Ti,{data:0}),Vh=Et(Tv),Nv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Av={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Av[e])?!!t[e]:!1}function Jo(){return wv}var Dv=v({},ha,{key:function(e){if(e.key){var t=Nv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jo,charCode:function(e){return e.type==="keypress"?qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ov=Et(Dv),Rv=v({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qh=Et(Rv),Mv=v({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jo}),zv=Et(Mv),Lv=v({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uv=Et(Lv),jv=v({},Qs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Iv=Et(jv),Bv=v({},Ti,{newState:0,oldState:0}),Hv=Et(Bv),kv=[9,13,27,32],Wo=vn&&"CompositionEvent"in window,ma=null;vn&&"documentMode"in document&&(ma=document.documentMode);var Gv=vn&&"TextEvent"in window&&!ma,Xh=vn&&(!Wo||ma&&8<ma&&11>=ma),Kh=" ",Zh=!1;function Fh(e,t){switch(e){case"keyup":return kv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cl=!1;function qv(e,t){switch(e){case"compositionend":return Jh(t);case"keypress":return t.which!==32?null:(Zh=!0,Kh);case"textInput":return e=t.data,e===Kh&&Zh?null:e;default:return null}}function Yv(e,t){if(cl)return e==="compositionend"||!Wo&&Fh(e,t)?(e=Gh(),Gs=Xo=Yn=null,cl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xh&&t.locale!=="ko"?null:t.data;default:return null}}var Vv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vv[e.type]:t==="textarea"}function Ph(e,t,i,s){ol?ul?ul.push(s):ul=[s]:ol=s,t=Lr(t,"onChange"),0<t.length&&(i=new Vs("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var ga=null,_a=null;function Qv(e){Lg(e,0)}function Xs(e){var t=ua(e);if(zh(t))return e}function $h(e,t){if(e==="change")return t}var ed=!1;if(vn){var Po;if(vn){var $o="oninput"in document;if(!$o){var td=document.createElement("div");td.setAttribute("oninput","return;"),$o=typeof td.oninput=="function"}Po=$o}else Po=!1;ed=Po&&(!document.documentMode||9<document.documentMode)}function nd(){ga&&(ga.detachEvent("onpropertychange",id),_a=ga=null)}function id(e){if(e.propertyName==="value"&&Xs(_a)){var t=[];Ph(t,_a,e,Yo(e)),kh(Qv,t)}}function Xv(e,t,i){e==="focusin"?(nd(),ga=t,_a=i,ga.attachEvent("onpropertychange",id)):e==="focusout"&&nd()}function Kv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xs(_a)}function Zv(e,t){if(e==="click")return Xs(t)}function Fv(e,t){if(e==="input"||e==="change")return Xs(t)}function Jv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:Jv;function pa(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var o=i[s];if(!ia.call(t,o)||!zt(e[o],t[o]))return!1}return!0}function ld(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ad(e,t){var i=ld(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ld(i)}}function sd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Hs(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Hs(e.document)}return t}function eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Wv=vn&&"documentMode"in document&&11>=document.documentMode,fl=null,tu=null,ya=null,nu=!1;function od(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;nu||fl==null||fl!==Hs(s)||(s=fl,"selectionStart"in s&&eu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ya&&pa(ya,s)||(ya=s,s=Lr(tu,"onSelect"),0<s.length&&(t=new Vs("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=fl)))}function Ni(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var hl={animationend:Ni("Animation","AnimationEnd"),animationiteration:Ni("Animation","AnimationIteration"),animationstart:Ni("Animation","AnimationStart"),transitionrun:Ni("Transition","TransitionRun"),transitionstart:Ni("Transition","TransitionStart"),transitioncancel:Ni("Transition","TransitionCancel"),transitionend:Ni("Transition","TransitionEnd")},iu={},ud={};vn&&(ud=document.createElement("div").style,"AnimationEvent"in window||(delete hl.animationend.animation,delete hl.animationiteration.animation,delete hl.animationstart.animation),"TransitionEvent"in window||delete hl.transitionend.transition);function xi(e){if(iu[e])return iu[e];if(!hl[e])return e;var t=hl[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in ud)return iu[e]=t[i];return e}var cd=xi("animationend"),fd=xi("animationiteration"),hd=xi("animationstart"),Pv=xi("transitionrun"),$v=xi("transitionstart"),e0=xi("transitioncancel"),dd=xi("transitionend"),md=new Map,lu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lu.push("scrollEnd");function tn(e,t){md.set(e,t),Ci(t,[e])}var Ks=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yt=[],dl=0,au=0;function Zs(){for(var e=dl,t=au=dl=0;t<e;){var i=Yt[t];Yt[t++]=null;var s=Yt[t];Yt[t++]=null;var o=Yt[t];Yt[t++]=null;var c=Yt[t];if(Yt[t++]=null,s!==null&&o!==null){var d=s.pending;d===null?o.next=o:(o.next=d.next,d.next=o),s.pending=o}c!==0&&gd(i,o,c)}}function Fs(e,t,i,s){Yt[dl++]=e,Yt[dl++]=t,Yt[dl++]=i,Yt[dl++]=s,au|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function su(e,t,i,s){return Fs(e,t,i,s),Js(e)}function Ai(e,t){return Fs(e,null,null,t),Js(e)}function gd(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var o=!1,c=e.return;c!==null;)c.childLanes|=i,s=c.alternate,s!==null&&(s.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-Mt(i),e=c.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=i|536870912),c):null}function Js(e){if(50<ka)throw ka=0,gc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ml={};function t0(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,i,s){return new t0(e,t,i,s)}function ru(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bn(e,t){var i=e.alternate;return i===null?(i=Lt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function _d(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ws(e,t,i,s,o,c){var d=0;if(s=e,typeof e=="function")ru(e)&&(d=1);else if(typeof e=="string")d=s1(e,i,q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case kt:return e=Lt(31,i,t,o),e.elementType=kt,e.lanes=c,e;case Q:return wi(i.children,o,c,t);case ne:d=8,o|=24;break;case Se:return e=Lt(12,i,t,o|2),e.elementType=Se,e.lanes=c,e;case bt:return e=Lt(13,i,t,o),e.elementType=bt,e.lanes=c,e;case je:return e=Lt(19,i,t,o),e.elementType=je,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pe:d=10;break e;case Be:d=9;break e;case ye:d=11;break e;case ee:d=14;break e;case et:d=16,s=null;break e}d=29,i=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=Lt(d,i,t,o),t.elementType=e,t.type=s,t.lanes=c,t}function wi(e,t,i,s){return e=Lt(7,e,s,t),e.lanes=i,e}function ou(e,t,i){return e=Lt(6,e,null,t),e.lanes=i,e}function pd(e){var t=Lt(18,null,null,0);return t.stateNode=e,t}function uu(e,t,i){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var yd=new WeakMap;function Vt(e,t){if(typeof e=="object"&&e!==null){var i=yd.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Ms(t)},yd.set(e,t),t)}return{value:e,source:t,stack:Ms(t)}}var gl=[],_l=0,Ps=null,va=0,Qt=[],Xt=0,Vn=null,un=1,cn="";function Sn(e,t){gl[_l++]=va,gl[_l++]=Ps,Ps=e,va=t}function vd(e,t,i){Qt[Xt++]=un,Qt[Xt++]=cn,Qt[Xt++]=Vn,Vn=e;var s=un;e=cn;var o=32-Mt(s)-1;s&=~(1<<o),i+=1;var c=32-Mt(t)+o;if(30<c){var d=o-o%5;c=(s&(1<<d)-1).toString(32),s>>=d,o-=d,un=1<<32-Mt(t)+o|i<<o|s,cn=c+e}else un=1<<c|i<<o|s,cn=e}function cu(e){e.return!==null&&(Sn(e,1),vd(e,1,0))}function fu(e){for(;e===Ps;)Ps=gl[--_l],gl[_l]=null,va=gl[--_l],gl[_l]=null;for(;e===Vn;)Vn=Qt[--Xt],Qt[Xt]=null,cn=Qt[--Xt],Qt[Xt]=null,un=Qt[--Xt],Qt[Xt]=null}function bd(e,t){Qt[Xt++]=un,Qt[Xt++]=cn,Qt[Xt++]=Vn,un=t.id,cn=t.overflow,Vn=e}var ut=null,Le=null,he=!1,Qn=null,Kt=!1,hu=Error(r(519));function Xn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ba(Vt(t,e)),hu}function Sd(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[ot]=e,t[St]=s,i){case"dialog":oe("cancel",t),oe("close",t);break;case"iframe":case"object":case"embed":oe("load",t);break;case"video":case"audio":for(i=0;i<qa.length;i++)oe(qa[i],t);break;case"source":oe("error",t);break;case"img":case"image":case"link":oe("error",t),oe("load",t);break;case"details":oe("toggle",t);break;case"input":oe("invalid",t),Lh(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":oe("invalid",t);break;case"textarea":oe("invalid",t),jh(t,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||Bg(t.textContent,i)?(s.popover!=null&&(oe("beforetoggle",t),oe("toggle",t)),s.onScroll!=null&&oe("scroll",t),s.onScrollEnd!=null&&oe("scrollend",t),s.onClick!=null&&(t.onclick=yn),t=!0):t=!1,t||Xn(e,!0)}function Ed(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 31:case 13:Kt=!1;return;case 27:case 3:Kt=!0;return;default:ut=ut.return}}function pl(e){if(e!==ut)return!1;if(!he)return Ed(e),he=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Oc(e.type,e.memoizedProps)),i=!i),i&&Le&&Xn(e),Ed(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Le=Kg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Le=Kg(e)}else t===27?(t=Le,si(e.type)?(e=Uc,Uc=null,Le=e):Le=t):Le=ut?Ft(e.stateNode.nextSibling):null;return!0}function Di(){Le=ut=null,he=!1}function du(){var e=Qn;return e!==null&&(xt===null?xt=e:xt.push.apply(xt,e),Qn=null),e}function ba(e){Qn===null?Qn=[e]:Qn.push(e)}var mu=E(null),Oi=null,En=null;function Kn(e,t,i){B(mu,t._currentValue),t._currentValue=i}function Cn(e){e._currentValue=mu.current,z(mu)}function gu(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function _u(e,t,i,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var d=o.child;c=c.firstContext;e:for(;c!==null;){var g=c;c=o;for(var y=0;y<t.length;y++)if(g.context===t[y]){c.lanes|=i,g=c.alternate,g!==null&&(g.lanes|=i),gu(c.return,i,e),s||(d=null);break e}c=g.next}}else if(o.tag===18){if(d=o.return,d===null)throw Error(r(341));d.lanes|=i,c=d.alternate,c!==null&&(c.lanes|=i),gu(d,i,e),d=null}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===e){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}}function yl(e,t,i,s){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var d=o.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var g=o.type;zt(o.pendingProps.value,d.value)||(e!==null?e.push(g):e=[g])}}else if(o===J.current){if(d=o.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ka):e=[Ka])}o=o.return}e!==null&&_u(t,e,i,s),t.flags|=262144}function $s(e){for(e=e.firstContext;e!==null;){if(!zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ri(e){Oi=e,En=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return Cd(Oi,e)}function er(e,t){return Oi===null&&Ri(e),Cd(e,t)}function Cd(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},En===null){if(e===null)throw Error(r(308));En=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else En=En.next=t;return i}var n0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},i0=a.unstable_scheduleCallback,l0=a.unstable_NormalPriority,Ze={$$typeof:pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pu(){return{controller:new n0,data:new Map,refCount:0}}function Sa(e){e.refCount--,e.refCount===0&&i0(l0,function(){e.controller.abort()})}var Ea=null,yu=0,vl=0,bl=null;function a0(e,t){if(Ea===null){var i=Ea=[];yu=0,vl=Sc(),bl={status:"pending",value:void 0,then:function(s){i.push(s)}}}return yu++,t.then(Td,Td),t}function Td(){if(--yu===0&&Ea!==null){bl!==null&&(bl.status="fulfilled");var e=Ea;Ea=null,vl=0,bl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function s0(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),s}var Nd=R.S;R.S=function(e,t){og=te(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&a0(e,t),Nd!==null&&Nd(e,t)};var Mi=E(null);function vu(){var e=Mi.current;return e!==null?e:De.pooledCache}function tr(e,t){t===null?B(Mi,Mi.current):B(Mi,t.pool)}function xd(){var e=vu();return e===null?null:{parent:Ze._currentValue,pool:e}}var Sl=Error(r(460)),bu=Error(r(474)),nr=Error(r(542)),ir={then:function(){}};function Ad(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wd(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(yn,yn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Od(e),e;default:if(typeof t.status=="string")t.then(yn,yn);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Od(e),e}throw Li=t,Sl}}function zi(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Li=i,Sl):i}}var Li=null;function Dd(){if(Li===null)throw Error(r(459));var e=Li;return Li=null,e}function Od(e){if(e===Sl||e===nr)throw Error(r(483))}var El=null,Ca=0;function lr(e){var t=Ca;return Ca+=1,El===null&&(El=[]),wd(El,e,t)}function Ta(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ar(e,t){throw t.$$typeof===b?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Rd(e){function t(N,S){if(e){var x=N.deletions;x===null?(N.deletions=[S],N.flags|=16):x.push(S)}}function i(N,S){if(!e)return null;for(;S!==null;)t(N,S),S=S.sibling;return null}function s(N){for(var S=new Map;N!==null;)N.key!==null?S.set(N.key,N):S.set(N.index,N),N=N.sibling;return S}function o(N,S){return N=bn(N,S),N.index=0,N.sibling=null,N}function c(N,S,x){return N.index=x,e?(x=N.alternate,x!==null?(x=x.index,x<S?(N.flags|=67108866,S):x):(N.flags|=67108866,S)):(N.flags|=1048576,S)}function d(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function g(N,S,x,M){return S===null||S.tag!==6?(S=ou(x,N.mode,M),S.return=N,S):(S=o(S,x),S.return=N,S)}function y(N,S,x,M){var V=x.type;return V===Q?O(N,S,x.props.children,M,x.key):S!==null&&(S.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===et&&zi(V)===S.type)?(S=o(S,x.props),Ta(S,x),S.return=N,S):(S=Ws(x.type,x.key,x.props,null,N.mode,M),Ta(S,x),S.return=N,S)}function A(N,S,x,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==x.containerInfo||S.stateNode.implementation!==x.implementation?(S=uu(x,N.mode,M),S.return=N,S):(S=o(S,x.children||[]),S.return=N,S)}function O(N,S,x,M,V){return S===null||S.tag!==7?(S=wi(x,N.mode,M,V),S.return=N,S):(S=o(S,x),S.return=N,S)}function L(N,S,x){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=ou(""+S,N.mode,x),S.return=N,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case j:return x=Ws(S.type,S.key,S.props,null,N.mode,x),Ta(x,S),x.return=N,x;case k:return S=uu(S,N.mode,x),S.return=N,S;case et:return S=zi(S),L(N,S,x)}if(_t(S)||rt(S))return S=wi(S,N.mode,x,null),S.return=N,S;if(typeof S.then=="function")return L(N,lr(S),x);if(S.$$typeof===pe)return L(N,er(N,S),x);ar(N,S)}return null}function w(N,S,x,M){var V=S!==null?S.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return V!==null?null:g(N,S,""+x,M);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case j:return x.key===V?y(N,S,x,M):null;case k:return x.key===V?A(N,S,x,M):null;case et:return x=zi(x),w(N,S,x,M)}if(_t(x)||rt(x))return V!==null?null:O(N,S,x,M,null);if(typeof x.then=="function")return w(N,S,lr(x),M);if(x.$$typeof===pe)return w(N,S,er(N,x),M);ar(N,x)}return null}function D(N,S,x,M,V){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return N=N.get(x)||null,g(S,N,""+M,V);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case j:return N=N.get(M.key===null?x:M.key)||null,y(S,N,M,V);case k:return N=N.get(M.key===null?x:M.key)||null,A(S,N,M,V);case et:return M=zi(M),D(N,S,x,M,V)}if(_t(M)||rt(M))return N=N.get(x)||null,O(S,N,M,V,null);if(typeof M.then=="function")return D(N,S,x,lr(M),V);if(M.$$typeof===pe)return D(N,S,x,er(S,M),V);ar(S,M)}return null}function G(N,S,x,M){for(var V=null,me=null,Y=S,$=S=0,fe=null;Y!==null&&$<x.length;$++){Y.index>$?(fe=Y,Y=null):fe=Y.sibling;var ge=w(N,Y,x[$],M);if(ge===null){Y===null&&(Y=fe);break}e&&Y&&ge.alternate===null&&t(N,Y),S=c(ge,S,$),me===null?V=ge:me.sibling=ge,me=ge,Y=fe}if($===x.length)return i(N,Y),he&&Sn(N,$),V;if(Y===null){for(;$<x.length;$++)Y=L(N,x[$],M),Y!==null&&(S=c(Y,S,$),me===null?V=Y:me.sibling=Y,me=Y);return he&&Sn(N,$),V}for(Y=s(Y);$<x.length;$++)fe=D(Y,N,$,x[$],M),fe!==null&&(e&&fe.alternate!==null&&Y.delete(fe.key===null?$:fe.key),S=c(fe,S,$),me===null?V=fe:me.sibling=fe,me=fe);return e&&Y.forEach(function(fi){return t(N,fi)}),he&&Sn(N,$),V}function K(N,S,x,M){if(x==null)throw Error(r(151));for(var V=null,me=null,Y=S,$=S=0,fe=null,ge=x.next();Y!==null&&!ge.done;$++,ge=x.next()){Y.index>$?(fe=Y,Y=null):fe=Y.sibling;var fi=w(N,Y,ge.value,M);if(fi===null){Y===null&&(Y=fe);break}e&&Y&&fi.alternate===null&&t(N,Y),S=c(fi,S,$),me===null?V=fi:me.sibling=fi,me=fi,Y=fe}if(ge.done)return i(N,Y),he&&Sn(N,$),V;if(Y===null){for(;!ge.done;$++,ge=x.next())ge=L(N,ge.value,M),ge!==null&&(S=c(ge,S,$),me===null?V=ge:me.sibling=ge,me=ge);return he&&Sn(N,$),V}for(Y=s(Y);!ge.done;$++,ge=x.next())ge=D(Y,N,$,ge.value,M),ge!==null&&(e&&ge.alternate!==null&&Y.delete(ge.key===null?$:ge.key),S=c(ge,S,$),me===null?V=ge:me.sibling=ge,me=ge);return e&&Y.forEach(function(p1){return t(N,p1)}),he&&Sn(N,$),V}function we(N,S,x,M){if(typeof x=="object"&&x!==null&&x.type===Q&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case j:e:{for(var V=x.key;S!==null;){if(S.key===V){if(V=x.type,V===Q){if(S.tag===7){i(N,S.sibling),M=o(S,x.props.children),M.return=N,N=M;break e}}else if(S.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===et&&zi(V)===S.type){i(N,S.sibling),M=o(S,x.props),Ta(M,x),M.return=N,N=M;break e}i(N,S);break}else t(N,S);S=S.sibling}x.type===Q?(M=wi(x.props.children,N.mode,M,x.key),M.return=N,N=M):(M=Ws(x.type,x.key,x.props,null,N.mode,M),Ta(M,x),M.return=N,N=M)}return d(N);case k:e:{for(V=x.key;S!==null;){if(S.key===V)if(S.tag===4&&S.stateNode.containerInfo===x.containerInfo&&S.stateNode.implementation===x.implementation){i(N,S.sibling),M=o(S,x.children||[]),M.return=N,N=M;break e}else{i(N,S);break}else t(N,S);S=S.sibling}M=uu(x,N.mode,M),M.return=N,N=M}return d(N);case et:return x=zi(x),we(N,S,x,M)}if(_t(x))return G(N,S,x,M);if(rt(x)){if(V=rt(x),typeof V!="function")throw Error(r(150));return x=V.call(x),K(N,S,x,M)}if(typeof x.then=="function")return we(N,S,lr(x),M);if(x.$$typeof===pe)return we(N,S,er(N,x),M);ar(N,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,S!==null&&S.tag===6?(i(N,S.sibling),M=o(S,x),M.return=N,N=M):(i(N,S),M=ou(x,N.mode,M),M.return=N,N=M),d(N)):i(N,S)}return function(N,S,x,M){try{Ca=0;var V=we(N,S,x,M);return El=null,V}catch(Y){if(Y===Sl||Y===nr)throw Y;var me=Lt(29,Y,null,N.mode);return me.lanes=M,me.return=N,me}finally{}}}var Ui=Rd(!0),Md=Rd(!1),Zn=!1;function Su(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Jn(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(be&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=Js(e),gd(e,null,i),t}return Fs(e,s,t,i),Js(e)}function Na(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Ch(e,i)}}function Cu(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var o=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?o=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?o=c=t:c=c.next=t}else o=c=t;i={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Tu=!1;function xa(){if(Tu){var e=bl;if(e!==null)throw e}}function Aa(e,t,i,s){Tu=!1;var o=e.updateQueue;Zn=!1;var c=o.firstBaseUpdate,d=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var y=g,A=y.next;y.next=null,d===null?c=A:d.next=A,d=y;var O=e.alternate;O!==null&&(O=O.updateQueue,g=O.lastBaseUpdate,g!==d&&(g===null?O.firstBaseUpdate=A:g.next=A,O.lastBaseUpdate=y))}if(c!==null){var L=o.baseState;d=0,O=A=y=null,g=c;do{var w=g.lane&-536870913,D=w!==g.lane;if(D?(ce&w)===w:(s&w)===w){w!==0&&w===vl&&(Tu=!0),O!==null&&(O=O.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var G=e,K=g;w=t;var we=i;switch(K.tag){case 1:if(G=K.payload,typeof G=="function"){L=G.call(we,L,w);break e}L=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=K.payload,w=typeof G=="function"?G.call(we,L,w):G,w==null)break e;L=v({},L,w);break e;case 2:Zn=!0}}w=g.callback,w!==null&&(e.flags|=64,D&&(e.flags|=8192),D=o.callbacks,D===null?o.callbacks=[w]:D.push(w))}else D={lane:w,tag:g.tag,payload:g.payload,callback:g.callback,next:null},O===null?(A=O=D,y=L):O=O.next=D,d|=w;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;D=g,g=D.next,D.next=null,o.lastBaseUpdate=D,o.shared.pending=null}}while(!0);O===null&&(y=L),o.baseState=y,o.firstBaseUpdate=A,o.lastBaseUpdate=O,c===null&&(o.shared.lanes=0),ti|=d,e.lanes=d,e.memoizedState=L}}function zd(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Ld(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)zd(i[e],t)}var Cl=E(null),sr=E(0);function Ud(e,t){e=Mn,B(sr,e),B(Cl,t),Mn=e|t.baseLanes}function Nu(){B(sr,Mn),B(Cl,Cl.current)}function xu(){Mn=sr.current,z(Cl),z(sr)}var Ut=E(null),Zt=null;function Wn(e){var t=e.alternate;B(Xe,Xe.current&1),B(Ut,e),Zt===null&&(t===null||Cl.current!==null||t.memoizedState!==null)&&(Zt=e)}function Au(e){B(Xe,Xe.current),B(Ut,e),Zt===null&&(Zt=e)}function jd(e){e.tag===22?(B(Xe,Xe.current),B(Ut,e),Zt===null&&(Zt=e)):Pn()}function Pn(){B(Xe,Xe.current),B(Ut,Ut.current)}function jt(e){z(Ut),Zt===e&&(Zt=null),z(Xe)}var Xe=E(0);function rr(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||zc(i)||Lc(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tn=0,P=null,xe=null,Fe=null,or=!1,Tl=!1,ji=!1,ur=0,wa=0,Nl=null,r0=0;function Ge(){throw Error(r(321))}function wu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!zt(e[i],t[i]))return!1;return!0}function Du(e,t,i,s,o,c){return Tn=c,P=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?vm:Vu,ji=!1,c=i(s,o),ji=!1,Tl&&(c=Bd(t,i,s,o)),Id(e),c}function Id(e){R.H=Ra;var t=xe!==null&&xe.next!==null;if(Tn=0,Fe=xe=P=null,or=!1,wa=0,Nl=null,t)throw Error(r(300));e===null||Je||(e=e.dependencies,e!==null&&$s(e)&&(Je=!0))}function Bd(e,t,i,s){P=e;var o=0;do{if(Tl&&(Nl=null),wa=0,Tl=!1,25<=o)throw Error(r(301));if(o+=1,Fe=xe=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}R.H=bm,c=t(i,s)}while(Tl);return c}function o0(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?Da(t):t,e=e.useState()[0],(xe!==null?xe.memoizedState:null)!==e&&(P.flags|=1024),t}function Ou(){var e=ur!==0;return ur=0,e}function Ru(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Mu(e){if(or){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}or=!1}Tn=0,Fe=xe=P=null,Tl=!1,wa=ur=0,Nl=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?P.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Ke(){if(xe===null){var e=P.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var t=Fe===null?P.memoizedState:Fe.next;if(t!==null)Fe=t,xe=e;else{if(e===null)throw P.alternate===null?Error(r(467)):Error(r(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},Fe===null?P.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function cr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Da(e){var t=wa;return wa+=1,Nl===null&&(Nl=[]),e=wd(Nl,e,t),t=P,(Fe===null?t.memoizedState:Fe.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?vm:Vu),e}function fr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Da(e);if(e.$$typeof===pe)return ct(e)}throw Error(r(438,String(e)))}function zu(e){var t=null,i=P.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=P.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=cr(),P.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=en;return t.index++,i}function Nn(e,t){return typeof t=="function"?t(e):t}function hr(e){var t=Ke();return Lu(t,xe,e)}function Lu(e,t,i){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=i;var o=e.baseQueue,c=s.pending;if(c!==null){if(o!==null){var d=o.next;o.next=c.next,c.next=d}t.baseQueue=o=c,s.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var g=d=null,y=null,A=t,O=!1;do{var L=A.lane&-536870913;if(L!==A.lane?(ce&L)===L:(Tn&L)===L){var w=A.revertLane;if(w===0)y!==null&&(y=y.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),L===vl&&(O=!0);else if((Tn&w)===w){A=A.next,w===vl&&(O=!0);continue}else L={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},y===null?(g=y=L,d=c):y=y.next=L,P.lanes|=w,ti|=w;L=A.action,ji&&i(c,L),c=A.hasEagerState?A.eagerState:i(c,L)}else w={lane:L,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},y===null?(g=y=w,d=c):y=y.next=w,P.lanes|=L,ti|=L;A=A.next}while(A!==null&&A!==t);if(y===null?d=c:y.next=g,!zt(c,e.memoizedState)&&(Je=!0,O&&(i=bl,i!==null)))throw i;e.memoizedState=c,e.baseState=d,e.baseQueue=y,s.lastRenderedState=c}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Uu(e){var t=Ke(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var s=i.dispatch,o=i.pending,c=t.memoizedState;if(o!==null){i.pending=null;var d=o=o.next;do c=e(c,d.action),d=d.next;while(d!==o);zt(c,t.memoizedState)||(Je=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,s]}function Hd(e,t,i){var s=P,o=Ke(),c=he;if(c){if(i===void 0)throw Error(r(407));i=i()}else i=t();var d=!zt((xe||o).memoizedState,i);if(d&&(o.memoizedState=i,Je=!0),o=o.queue,Bu(qd.bind(null,s,o,e),[e]),o.getSnapshot!==t||d||Fe!==null&&Fe.memoizedState.tag&1){if(s.flags|=2048,xl(9,{destroy:void 0},Gd.bind(null,s,o,i,t),null),De===null)throw Error(r(349));c||(Tn&127)!==0||kd(s,t,i)}return i}function kd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=P.updateQueue,t===null?(t=cr(),P.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Gd(e,t,i,s){t.value=i,t.getSnapshot=s,Yd(t)&&Vd(e)}function qd(e,t,i){return i(function(){Yd(t)&&Vd(e)})}function Yd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!zt(e,i)}catch{return!0}}function Vd(e){var t=Ai(e,2);t!==null&&At(t,e,2)}function ju(e){var t=pt();if(typeof e=="function"){var i=e;if(e=i(),ji){Gn(!0);try{i()}finally{Gn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:e},t}function Qd(e,t,i,s){return e.baseState=i,Lu(e,xe,typeof s=="function"?s:Nn)}function u0(e,t,i,s,o){if(gr(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};R.T!==null?i(!0):c.isTransition=!1,s(c),i=t.pending,i===null?(c.next=t.pending=c,Xd(t,c)):(c.next=i.next,t.pending=i.next=c)}}function Xd(e,t){var i=t.action,s=t.payload,o=e.state;if(t.isTransition){var c=R.T,d={};R.T=d;try{var g=i(o,s),y=R.S;y!==null&&y(d,g),Kd(e,t,g)}catch(A){Iu(e,t,A)}finally{c!==null&&d.types!==null&&(c.types=d.types),R.T=c}}else try{c=i(o,s),Kd(e,t,c)}catch(A){Iu(e,t,A)}}function Kd(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){Zd(e,t,s)},function(s){return Iu(e,t,s)}):Zd(e,t,i)}function Zd(e,t,i){t.status="fulfilled",t.value=i,Fd(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Xd(e,i)))}function Iu(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,Fd(t),t=t.next;while(t!==s)}e.action=null}function Fd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Jd(e,t){return t}function Wd(e,t){if(he){var i=De.formState;if(i!==null){e:{var s=P;if(he){if(Le){t:{for(var o=Le,c=Kt;o.nodeType!==8;){if(!c){o=null;break t}if(o=Ft(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){Le=Ft(o.nextSibling),s=o.data==="F!";break e}}Xn(s)}s=!1}s&&(t=i[0])}}return i=pt(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jd,lastRenderedState:t},i.queue=s,i=_m.bind(null,P,s),s.dispatch=i,s=ju(!1),c=Yu.bind(null,P,!1,s.queue),s=pt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,i=u0.bind(null,P,o,c,i),o.dispatch=i,s.memoizedState=e,[t,i,!1]}function Pd(e){var t=Ke();return $d(t,xe,e)}function $d(e,t,i){if(t=Lu(e,t,Jd)[0],e=hr(Nn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Da(t)}catch(d){throw d===Sl?nr:d}else s=t;t=Ke();var o=t.queue,c=o.dispatch;return i!==t.memoizedState&&(P.flags|=2048,xl(9,{destroy:void 0},c0.bind(null,o,i),null)),[s,c,e]}function c0(e,t){e.action=t}function em(e){var t=Ke(),i=xe;if(i!==null)return $d(t,i,e);Ke(),t=t.memoizedState,i=Ke();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function xl(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=P.updateQueue,t===null&&(t=cr(),P.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function tm(){return Ke().memoizedState}function dr(e,t,i,s){var o=pt();P.flags|=e,o.memoizedState=xl(1|t,{destroy:void 0},i,s===void 0?null:s)}function mr(e,t,i,s){var o=Ke();s=s===void 0?null:s;var c=o.memoizedState.inst;xe!==null&&s!==null&&wu(s,xe.memoizedState.deps)?o.memoizedState=xl(t,c,i,s):(P.flags|=e,o.memoizedState=xl(1|t,c,i,s))}function nm(e,t){dr(8390656,8,e,t)}function Bu(e,t){mr(2048,8,e,t)}function f0(e){P.flags|=4;var t=P.updateQueue;if(t===null)t=cr(),P.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function im(e){var t=Ke().memoizedState;return f0({ref:t,nextImpl:e}),function(){if((be&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function lm(e,t){return mr(4,2,e,t)}function am(e,t){return mr(4,4,e,t)}function sm(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rm(e,t,i){i=i!=null?i.concat([e]):null,mr(4,4,sm.bind(null,t,e),i)}function Hu(){}function om(e,t){var i=Ke();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&wu(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function um(e,t){var i=Ke();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&wu(t,s[1]))return s[0];if(s=e(),ji){Gn(!0);try{e()}finally{Gn(!1)}}return i.memoizedState=[s,t],s}function ku(e,t,i){return i===void 0||(Tn&1073741824)!==0&&(ce&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=cg(),P.lanes|=e,ti|=e,i)}function cm(e,t,i,s){return zt(i,t)?i:Cl.current!==null?(e=ku(e,i,s),zt(e,t)||(Je=!0),e):(Tn&42)===0||(Tn&1073741824)!==0&&(ce&261930)===0?(Je=!0,e.memoizedState=i):(e=cg(),P.lanes|=e,ti|=e,t)}function fm(e,t,i,s,o){var c=H.p;H.p=c!==0&&8>c?c:8;var d=R.T,g={};R.T=g,Yu(e,!1,t,i);try{var y=o(),A=R.S;if(A!==null&&A(g,y),y!==null&&typeof y=="object"&&typeof y.then=="function"){var O=s0(y,s);Oa(e,t,O,Ht(e))}else Oa(e,t,s,Ht(e))}catch(L){Oa(e,t,{then:function(){},status:"rejected",reason:L},Ht())}finally{H.p=c,d!==null&&g.types!==null&&(d.types=g.types),R.T=d}}function h0(){}function Gu(e,t,i,s){if(e.tag!==5)throw Error(r(476));var o=hm(e).queue;fm(e,o,t,X,i===null?h0:function(){return dm(e),i(s)})}function hm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:X},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function dm(e){var t=hm(e);t.next===null&&(t=e.alternate.memoizedState),Oa(e,t.next.queue,{},Ht())}function qu(){return ct(Ka)}function mm(){return Ke().memoizedState}function gm(){return Ke().memoizedState}function d0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Ht();e=Fn(i);var s=Jn(t,e,i);s!==null&&(At(s,t,i),Na(s,t,i)),t={cache:pu()},e.payload=t;return}t=t.return}}function m0(e,t,i){var s=Ht();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},gr(e)?pm(t,i):(i=su(e,t,i,s),i!==null&&(At(i,e,s),ym(i,t,s)))}function _m(e,t,i){var s=Ht();Oa(e,t,i,s)}function Oa(e,t,i,s){var o={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(gr(e))pm(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,g=c(d,i);if(o.hasEagerState=!0,o.eagerState=g,zt(g,d))return Fs(e,t,o,0),De===null&&Zs(),!1}catch{}finally{}if(i=su(e,t,o,s),i!==null)return At(i,e,s),ym(i,t,s),!0}return!1}function Yu(e,t,i,s){if(s={lane:2,revertLane:Sc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},gr(e)){if(t)throw Error(r(479))}else t=su(e,i,s,2),t!==null&&At(t,e,2)}function gr(e){var t=e.alternate;return e===P||t!==null&&t===P}function pm(e,t){Tl=or=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function ym(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Ch(e,i)}}var Ra={readContext:ct,use:fr,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};Ra.useEffectEvent=Ge;var vm={readContext:ct,use:fr,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:nm,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,dr(4194308,4,sm.bind(null,t,e),i)},useLayoutEffect:function(e,t){return dr(4194308,4,e,t)},useInsertionEffect:function(e,t){dr(4,2,e,t)},useMemo:function(e,t){var i=pt();t=t===void 0?null:t;var s=e();if(ji){Gn(!0);try{e()}finally{Gn(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=pt();if(i!==void 0){var o=i(t);if(ji){Gn(!0);try{i(t)}finally{Gn(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=m0.bind(null,P,e),[s.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=ju(e);var t=e.queue,i=_m.bind(null,P,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Hu,useDeferredValue:function(e,t){var i=pt();return ku(i,e,t)},useTransition:function(){var e=ju(!1);return e=fm.bind(null,P,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=P,o=pt();if(he){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),De===null)throw Error(r(349));(ce&127)!==0||kd(s,t,i)}o.memoizedState=i;var c={value:i,getSnapshot:t};return o.queue=c,nm(qd.bind(null,s,c,e),[e]),s.flags|=2048,xl(9,{destroy:void 0},Gd.bind(null,s,c,i,t),null),i},useId:function(){var e=pt(),t=De.identifierPrefix;if(he){var i=cn,s=un;i=(s&~(1<<32-Mt(s)-1)).toString(32)+i,t="_"+t+"R_"+i,i=ur++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=r0++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:qu,useFormState:Wd,useActionState:Wd,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Yu.bind(null,P,!0,i),i.dispatch=t,[e,t]},useMemoCache:zu,useCacheRefresh:function(){return pt().memoizedState=d0.bind(null,P)},useEffectEvent:function(e){var t=pt(),i={impl:e};return t.memoizedState=i,function(){if((be&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},Vu={readContext:ct,use:fr,useCallback:om,useContext:ct,useEffect:Bu,useImperativeHandle:rm,useInsertionEffect:lm,useLayoutEffect:am,useMemo:um,useReducer:hr,useRef:tm,useState:function(){return hr(Nn)},useDebugValue:Hu,useDeferredValue:function(e,t){var i=Ke();return cm(i,xe.memoizedState,e,t)},useTransition:function(){var e=hr(Nn)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:Da(e),t]},useSyncExternalStore:Hd,useId:mm,useHostTransitionStatus:qu,useFormState:Pd,useActionState:Pd,useOptimistic:function(e,t){var i=Ke();return Qd(i,xe,e,t)},useMemoCache:zu,useCacheRefresh:gm};Vu.useEffectEvent=im;var bm={readContext:ct,use:fr,useCallback:om,useContext:ct,useEffect:Bu,useImperativeHandle:rm,useInsertionEffect:lm,useLayoutEffect:am,useMemo:um,useReducer:Uu,useRef:tm,useState:function(){return Uu(Nn)},useDebugValue:Hu,useDeferredValue:function(e,t){var i=Ke();return xe===null?ku(i,e,t):cm(i,xe.memoizedState,e,t)},useTransition:function(){var e=Uu(Nn)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:Da(e),t]},useSyncExternalStore:Hd,useId:mm,useHostTransitionStatus:qu,useFormState:em,useActionState:em,useOptimistic:function(e,t){var i=Ke();return xe!==null?Qd(i,xe,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:zu,useCacheRefresh:gm};bm.useEffectEvent=im;function Qu(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:v({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Xu={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=Ht(),o=Fn(s);o.payload=t,i!=null&&(o.callback=i),t=Jn(e,o,s),t!==null&&(At(t,e,s),Na(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=Ht(),o=Fn(s);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=Jn(e,o,s),t!==null&&(At(t,e,s),Na(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Ht(),s=Fn(i);s.tag=2,t!=null&&(s.callback=t),t=Jn(e,s,i),t!==null&&(At(t,e,i),Na(t,e,i))}};function Sm(e,t,i,s,o,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,d):t.prototype&&t.prototype.isPureReactComponent?!pa(i,s)||!pa(o,c):!0}function Em(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&Xu.enqueueReplaceState(t,t.state,null)}function Ii(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=v({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}function Cm(e){Ks(e)}function Tm(e){console.error(e)}function Nm(e){Ks(e)}function _r(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function xm(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Ku(e,t,i){return i=Fn(i),i.tag=3,i.payload={element:null},i.callback=function(){_r(e,t)},i}function Am(e){return e=Fn(e),e.tag=3,e}function wm(e,t,i,s){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var c=s.value;e.payload=function(){return o(c)},e.callback=function(){xm(t,i,s)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){xm(t,i,s),typeof o!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var g=s.stack;this.componentDidCatch(s.value,{componentStack:g!==null?g:""})})}function g0(e,t,i,s,o){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&yl(t,i,o,!0),i=Ut.current,i!==null){switch(i.tag){case 31:case 13:return Zt===null?wr():i.alternate===null&&qe===0&&(qe=3),i.flags&=-257,i.flags|=65536,i.lanes=o,s===ir?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),yc(e,s,o)),!1;case 22:return i.flags|=65536,s===ir?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),yc(e,s,o)),!1}throw Error(r(435,i.tag))}return yc(e,s,o),wr(),!1}if(he)return t=Ut.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==hu&&(e=Error(r(422),{cause:s}),ba(Vt(e,i)))):(s!==hu&&(t=Error(r(423),{cause:s}),ba(Vt(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Vt(s,i),o=Ku(e.stateNode,s,o),Cu(e,o),qe!==4&&(qe=2)),!1;var c=Error(r(520),{cause:s});if(c=Vt(c,i),Ha===null?Ha=[c]:Ha.push(c),qe!==4&&(qe=2),t===null)return!0;s=Vt(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=Ku(i.stateNode,s,e),Cu(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(ni===null||!ni.has(c))))return i.flags|=65536,o&=-o,i.lanes|=o,o=Am(o),wm(o,e,i,s),Cu(i,o),!1}i=i.return}while(i!==null);return!1}var Zu=Error(r(461)),Je=!1;function ft(e,t,i,s){t.child=e===null?Md(t,null,i,s):Ui(t,e.child,i,s)}function Dm(e,t,i,s,o){i=i.render;var c=t.ref;if("ref"in s){var d={};for(var g in s)g!=="ref"&&(d[g]=s[g])}else d=s;return Ri(t),s=Du(e,t,i,d,c,o),g=Ou(),e!==null&&!Je?(Ru(e,t,o),xn(e,t,o)):(he&&g&&cu(t),t.flags|=1,ft(e,t,s,o),t.child)}function Om(e,t,i,s,o){if(e===null){var c=i.type;return typeof c=="function"&&!ru(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,Rm(e,t,c,s,o)):(e=Ws(i.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!nc(e,o)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:pa,i(d,s)&&e.ref===t.ref)return xn(e,t,o)}return t.flags|=1,e=bn(c,s),e.ref=t.ref,e.return=t,t.child=e}function Rm(e,t,i,s,o){if(e!==null){var c=e.memoizedProps;if(pa(c,s)&&e.ref===t.ref)if(Je=!1,t.pendingProps=s=c,nc(e,o))(e.flags&131072)!==0&&(Je=!0);else return t.lanes=e.lanes,xn(e,t,o)}return Fu(e,t,i,s,o)}function Mm(e,t,i,s){var o=s.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|i:i,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~c}else s=0,t.child=null;return zm(e,t,c,i,s)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&tr(t,c!==null?c.cachePool:null),c!==null?Ud(t,c):Nu(),jd(t);else return s=t.lanes=536870912,zm(e,t,c!==null?c.baseLanes|i:i,i,s)}else c!==null?(tr(t,c.cachePool),Ud(t,c),Pn(),t.memoizedState=null):(e!==null&&tr(t,null),Nu(),Pn());return ft(e,t,o,i),t.child}function Ma(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function zm(e,t,i,s,o){var c=vu();return c=c===null?null:{parent:Ze._currentValue,pool:c},t.memoizedState={baseLanes:i,cachePool:c},e!==null&&tr(t,null),Nu(),jd(t),e!==null&&yl(e,t,s,!0),t.childLanes=o,null}function pr(e,t){return t=vr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Lm(e,t,i){return Ui(t,e.child,null,i),e=pr(t,t.pendingProps),e.flags|=2,jt(t),t.memoizedState=null,e}function _0(e,t,i){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(he){if(s.mode==="hidden")return e=pr(t,s),t.lanes=536870912,Ma(null,e);if(Au(t),(e=Le)?(e=Xg(e,Kt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Vn!==null?{id:un,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},i=pd(e),i.return=t,t.child=i,ut=t,Le=null)):e=null,e===null)throw Xn(t);return t.lanes=536870912,null}return pr(t,s)}var c=e.memoizedState;if(c!==null){var d=c.dehydrated;if(Au(t),o)if(t.flags&256)t.flags&=-257,t=Lm(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Je||yl(e,t,i,!1),o=(i&e.childLanes)!==0,Je||o){if(s=De,s!==null&&(d=Th(s,i),d!==0&&d!==c.retryLane))throw c.retryLane=d,Ai(e,d),At(s,e,d),Zu;wr(),t=Lm(e,t,i)}else e=c.treeContext,Le=Ft(d.nextSibling),ut=t,he=!0,Qn=null,Kt=!1,e!==null&&bd(t,e),t=pr(t,s),t.flags|=4096;return t}return e=bn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function yr(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Fu(e,t,i,s,o){return Ri(t),i=Du(e,t,i,s,void 0,o),s=Ou(),e!==null&&!Je?(Ru(e,t,o),xn(e,t,o)):(he&&s&&cu(t),t.flags|=1,ft(e,t,i,o),t.child)}function Um(e,t,i,s,o,c){return Ri(t),t.updateQueue=null,i=Bd(t,s,i,o),Id(e),s=Ou(),e!==null&&!Je?(Ru(e,t,c),xn(e,t,c)):(he&&s&&cu(t),t.flags|=1,ft(e,t,i,c),t.child)}function jm(e,t,i,s,o){if(Ri(t),t.stateNode===null){var c=ml,d=i.contextType;typeof d=="object"&&d!==null&&(c=ct(d)),c=new i(s,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Xu,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=s,c.state=t.memoizedState,c.refs={},Su(t),d=i.contextType,c.context=typeof d=="object"&&d!==null?ct(d):ml,c.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(Qu(t,i,d,s),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&Xu.enqueueReplaceState(c,c.state,null),Aa(t,s,c,o),xa(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){c=t.stateNode;var g=t.memoizedProps,y=Ii(i,g);c.props=y;var A=c.context,O=i.contextType;d=ml,typeof O=="object"&&O!==null&&(d=ct(O));var L=i.getDerivedStateFromProps;O=typeof L=="function"||typeof c.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,O||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g||A!==d)&&Em(t,c,s,d),Zn=!1;var w=t.memoizedState;c.state=w,Aa(t,s,c,o),xa(),A=t.memoizedState,g||w!==A||Zn?(typeof L=="function"&&(Qu(t,i,L,s),A=t.memoizedState),(y=Zn||Sm(t,i,y,s,w,A,d))?(O||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=A),c.props=s,c.state=A,c.context=d,s=y):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,Eu(e,t),d=t.memoizedProps,O=Ii(i,d),c.props=O,L=t.pendingProps,w=c.context,A=i.contextType,y=ml,typeof A=="object"&&A!==null&&(y=ct(A)),g=i.getDerivedStateFromProps,(A=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==L||w!==y)&&Em(t,c,s,y),Zn=!1,w=t.memoizedState,c.state=w,Aa(t,s,c,o),xa();var D=t.memoizedState;d!==L||w!==D||Zn||e!==null&&e.dependencies!==null&&$s(e.dependencies)?(typeof g=="function"&&(Qu(t,i,g,s),D=t.memoizedState),(O=Zn||Sm(t,i,O,s,w,D,y)||e!==null&&e.dependencies!==null&&$s(e.dependencies))?(A||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,D,y),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,D,y)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=D),c.props=s,c.state=D,c.context=y,s=O):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),s=!1)}return c=s,yr(e,t),s=(t.flags&128)!==0,c||s?(c=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&s?(t.child=Ui(t,e.child,null,o),t.child=Ui(t,null,i,o)):ft(e,t,i,o),t.memoizedState=c.state,e=t.child):e=xn(e,t,o),e}function Im(e,t,i,s){return Di(),t.flags|=256,ft(e,t,i,s),t.child}var Ju={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wu(e){return{baseLanes:e,cachePool:xd()}}function Pu(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Bt),e}function Bm(e,t,i){var s=t.pendingProps,o=!1,c=(t.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),d&&(o=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(he){if(o?Wn(t):Pn(),(e=Le)?(e=Xg(e,Kt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Vn!==null?{id:un,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},i=pd(e),i.return=t,t.child=i,ut=t,Le=null)):e=null,e===null)throw Xn(t);return Lc(e)?t.lanes=32:t.lanes=536870912,null}var g=s.children;return s=s.fallback,o?(Pn(),o=t.mode,g=vr({mode:"hidden",children:g},o),s=wi(s,o,i,null),g.return=t,s.return=t,g.sibling=s,t.child=g,s=t.child,s.memoizedState=Wu(i),s.childLanes=Pu(e,d,i),t.memoizedState=Ju,Ma(null,s)):(Wn(t),$u(t,g))}var y=e.memoizedState;if(y!==null&&(g=y.dehydrated,g!==null)){if(c)t.flags&256?(Wn(t),t.flags&=-257,t=ec(e,t,i)):t.memoizedState!==null?(Pn(),t.child=e.child,t.flags|=128,t=null):(Pn(),g=s.fallback,o=t.mode,s=vr({mode:"visible",children:s.children},o),g=wi(g,o,i,null),g.flags|=2,s.return=t,g.return=t,s.sibling=g,t.child=s,Ui(t,e.child,null,i),s=t.child,s.memoizedState=Wu(i),s.childLanes=Pu(e,d,i),t.memoizedState=Ju,t=Ma(null,s));else if(Wn(t),Lc(g)){if(d=g.nextSibling&&g.nextSibling.dataset,d)var A=d.dgst;d=A,s=Error(r(419)),s.stack="",s.digest=d,ba({value:s,source:null,stack:null}),t=ec(e,t,i)}else if(Je||yl(e,t,i,!1),d=(i&e.childLanes)!==0,Je||d){if(d=De,d!==null&&(s=Th(d,i),s!==0&&s!==y.retryLane))throw y.retryLane=s,Ai(e,s),At(d,e,s),Zu;zc(g)||wr(),t=ec(e,t,i)}else zc(g)?(t.flags|=192,t.child=e.child,t=null):(e=y.treeContext,Le=Ft(g.nextSibling),ut=t,he=!0,Qn=null,Kt=!1,e!==null&&bd(t,e),t=$u(t,s.children),t.flags|=4096);return t}return o?(Pn(),g=s.fallback,o=t.mode,y=e.child,A=y.sibling,s=bn(y,{mode:"hidden",children:s.children}),s.subtreeFlags=y.subtreeFlags&65011712,A!==null?g=bn(A,g):(g=wi(g,o,i,null),g.flags|=2),g.return=t,s.return=t,s.sibling=g,t.child=s,Ma(null,s),s=t.child,g=e.child.memoizedState,g===null?g=Wu(i):(o=g.cachePool,o!==null?(y=Ze._currentValue,o=o.parent!==y?{parent:y,pool:y}:o):o=xd(),g={baseLanes:g.baseLanes|i,cachePool:o}),s.memoizedState=g,s.childLanes=Pu(e,d,i),t.memoizedState=Ju,Ma(e.child,s)):(Wn(t),i=e.child,e=i.sibling,i=bn(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function $u(e,t){return t=vr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function vr(e,t){return e=Lt(22,e,null,t),e.lanes=0,e}function ec(e,t,i){return Ui(t,e.child,null,i),e=$u(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hm(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),gu(e.return,t,i)}function tc(e,t,i,s,o,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:o,treeForkCount:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=s,d.tail=i,d.tailMode=o,d.treeForkCount=c)}function km(e,t,i){var s=t.pendingProps,o=s.revealOrder,c=s.tail;s=s.children;var d=Xe.current,g=(d&2)!==0;if(g?(d=d&1|2,t.flags|=128):d&=1,B(Xe,d),ft(e,t,s,i),s=he?va:0,!g&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hm(e,i,t);else if(e.tag===19)Hm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&rr(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),tc(t,!1,o,i,c,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&rr(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}tc(t,!0,i,null,c,s);break;case"together":tc(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function xn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),ti|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(yl(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=bn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=bn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function nc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&$s(e)))}function p0(e,t,i){switch(t.tag){case 3:Qe(t,t.stateNode.containerInfo),Kn(t,Ze,e.memoizedState.cache),Di();break;case 27:case 5:kn(t);break;case 4:Qe(t,t.stateNode.containerInfo);break;case 10:Kn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Au(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Wn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Bm(e,t,i):(Wn(t),e=xn(e,t,i),e!==null?e.sibling:null);Wn(t);break;case 19:var o=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(yl(e,t,i,!1),s=(i&t.childLanes)!==0),o){if(s)return km(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),B(Xe,Xe.current),s)break;return null;case 22:return t.lanes=0,Mm(e,t,i,t.pendingProps);case 24:Kn(t,Ze,e.memoizedState.cache)}return xn(e,t,i)}function Gm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Je=!0;else{if(!nc(e,i)&&(t.flags&128)===0)return Je=!1,p0(e,t,i);Je=(e.flags&131072)!==0}else Je=!1,he&&(t.flags&1048576)!==0&&vd(t,va,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=zi(t.elementType),t.type=e,typeof e=="function")ru(e)?(s=Ii(e,s),t.tag=1,t=jm(null,t,e,s,i)):(t.tag=0,t=Fu(null,t,e,s,i));else{if(e!=null){var o=e.$$typeof;if(o===ye){t.tag=11,t=Dm(null,t,e,s,i);break e}else if(o===ee){t.tag=14,t=Om(null,t,e,s,i);break e}}throw t=Ot(e)||e,Error(r(306,t,""))}}return t;case 0:return Fu(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,o=Ii(s,t.pendingProps),jm(e,t,s,o,i);case 3:e:{if(Qe(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var c=t.memoizedState;o=c.element,Eu(e,t),Aa(t,s,null,i);var d=t.memoizedState;if(s=d.cache,Kn(t,Ze,s),s!==c.cache&&_u(t,[Ze],i,!0),xa(),s=d.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Im(e,t,s,i);break e}else if(s!==o){o=Vt(Error(r(424)),t),ba(o),t=Im(e,t,s,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Ft(e.firstChild),ut=t,he=!0,Qn=null,Kt=!0,i=Md(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Di(),s===o){t=xn(e,t,i);break e}ft(e,t,s,i)}t=t.child}return t;case 26:return yr(e,t),e===null?(i=Pg(t.type,null,t.pendingProps,null))?t.memoizedState=i:he||(i=t.type,e=t.pendingProps,s=Ur(ie.current).createElement(i),s[ot]=t,s[St]=e,ht(s,i,e),tt(s),t.stateNode=s):t.memoizedState=Pg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return kn(t),e===null&&he&&(s=t.stateNode=Fg(t.type,t.pendingProps,ie.current),ut=t,Kt=!0,o=Le,si(t.type)?(Uc=o,Le=Ft(s.firstChild)):Le=o),ft(e,t,t.pendingProps.children,i),yr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&he&&((o=s=Le)&&(s=K0(s,t.type,t.pendingProps,Kt),s!==null?(t.stateNode=s,ut=t,Le=Ft(s.firstChild),Kt=!1,o=!0):o=!1),o||Xn(t)),kn(t),o=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,s=c.children,Oc(o,c)?s=null:d!==null&&Oc(o,d)&&(t.flags|=32),t.memoizedState!==null&&(o=Du(e,t,o0,null,null,i),Ka._currentValue=o),yr(e,t),ft(e,t,s,i),t.child;case 6:return e===null&&he&&((e=i=Le)&&(i=Z0(i,t.pendingProps,Kt),i!==null?(t.stateNode=i,ut=t,Le=null,e=!0):e=!1),e||Xn(t)),null;case 13:return Bm(e,t,i);case 4:return Qe(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ui(t,null,s,i):ft(e,t,s,i),t.child;case 11:return Dm(e,t,t.type,t.pendingProps,i);case 7:return ft(e,t,t.pendingProps,i),t.child;case 8:return ft(e,t,t.pendingProps.children,i),t.child;case 12:return ft(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,Kn(t,t.type,s.value),ft(e,t,s.children,i),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,Ri(t),o=ct(o),s=s(o),t.flags|=1,ft(e,t,s,i),t.child;case 14:return Om(e,t,t.type,t.pendingProps,i);case 15:return Rm(e,t,t.type,t.pendingProps,i);case 19:return km(e,t,i);case 31:return _0(e,t,i);case 22:return Mm(e,t,i,t.pendingProps);case 24:return Ri(t),s=ct(Ze),e===null?(o=vu(),o===null&&(o=De,c=pu(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=i),o=c),t.memoizedState={parent:s,cache:o},Su(t),Kn(t,Ze,o)):((e.lanes&i)!==0&&(Eu(e,t),Aa(t,null,null,i),xa()),o=e.memoizedState,c=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Kn(t,Ze,s)):(s=c.cache,Kn(t,Ze,s),s!==o.cache&&_u(t,[Ze],i,!0))),ft(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function An(e){e.flags|=4}function ic(e,t,i,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(mg())e.flags|=8192;else throw Li=ir,bu}else e.flags&=-16777217}function qm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!i_(t))if(mg())e.flags|=8192;else throw Li=ir,bu}function br(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Sh():536870912,e.lanes|=t,Ol|=t)}function za(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function y0(e,t,i){var s=t.pendingProps;switch(fu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return Ue(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Cn(Ze),ze(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(pl(t)?An(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,du())),Ue(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(An(t),c!==null?(Ue(t),qm(t,c)):(Ue(t),ic(t,o,null,s,i))):c?c!==e.memoizedState?(An(t),Ue(t),qm(t,c)):(Ue(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&An(t),Ue(t),ic(t,o,e,s,i)),null;case 27:if(Ji(t),i=ie.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&An(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Ue(t),null}e=q.current,pl(t)?Sd(t):(e=Fg(o,s,i),t.stateNode=e,An(t))}return Ue(t),null;case 5:if(Ji(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&An(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Ue(t),null}if(c=q.current,pl(t))Sd(t);else{var d=Ur(ie.current);switch(c){case 1:c=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=d.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof s.is=="string"?d.createElement("select",{is:s.is}):d.createElement("select"),s.multiple?c.multiple=!0:s.size&&(c.size=s.size);break;default:c=typeof s.is=="string"?d.createElement(o,{is:s.is}):d.createElement(o)}}c[ot]=t,c[St]=s;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)c.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=c;e:switch(ht(c,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&An(t)}}return Ue(t),ic(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&An(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=ie.current,pl(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,o=ut,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[ot]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||Bg(e.nodeValue,i)),e||Xn(t,!0)}else e=Ur(e).createTextNode(s),e[ot]=t,t.stateNode=e}return Ue(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(s=pl(t),i!==null){if(e===null){if(!s)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ot]=t}else Di(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ue(t),e=!1}else i=du(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(jt(t),t):(jt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Ue(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=pl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[ot]=t}else Di(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ue(t),o=!1}else o=du(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(jt(t),t):(jt(t),null)}return jt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),br(t,t.updateQueue),Ue(t),null);case 4:return ze(),e===null&&Nc(t.stateNode.containerInfo),Ue(t),null;case 10:return Cn(t.type),Ue(t),null;case 19:if(z(Xe),s=t.memoizedState,s===null)return Ue(t),null;if(o=(t.flags&128)!==0,c=s.rendering,c===null)if(o)za(s,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=rr(e),c!==null){for(t.flags|=128,za(s,!1),e=c.updateQueue,t.updateQueue=e,br(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)_d(i,e),i=i.sibling;return B(Xe,Xe.current&1|2),he&&Sn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&te()>Nr&&(t.flags|=128,o=!0,za(s,!1),t.lanes=4194304)}else{if(!o)if(e=rr(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,br(t,e),za(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!he)return Ue(t),null}else 2*te()-s.renderingStartTime>Nr&&i!==536870912&&(t.flags|=128,o=!0,za(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(e=s.last,e!==null?e.sibling=c:t.child=c,s.last=c)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=te(),e.sibling=null,i=Xe.current,B(Xe,o?i&1|2:i&1),he&&Sn(t,s.treeForkCount),e):(Ue(t),null);case 22:case 23:return jt(t),xu(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),i=t.updateQueue,i!==null&&br(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&z(Mi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Cn(Ze),Ue(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function v0(e,t){switch(fu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cn(Ze),ze(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ji(t),null;case 31:if(t.memoizedState!==null){if(jt(t),t.alternate===null)throw Error(r(340));Di()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(jt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Di()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return z(Xe),null;case 4:return ze(),null;case 10:return Cn(t.type),null;case 22:case 23:return jt(t),xu(),e!==null&&z(Mi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Cn(Ze),null;case 25:return null;default:return null}}function Ym(e,t){switch(fu(t),t.tag){case 3:Cn(Ze),ze();break;case 26:case 27:case 5:Ji(t);break;case 4:ze();break;case 31:t.memoizedState!==null&&jt(t);break;case 13:jt(t);break;case 19:z(Xe);break;case 10:Cn(t.type);break;case 22:case 23:jt(t),xu(),e!==null&&z(Mi);break;case 24:Cn(Ze)}}function La(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var o=s.next;i=o;do{if((i.tag&e)===e){s=void 0;var c=i.create,d=i.inst;s=c(),d.destroy=s}i=i.next}while(i!==o)}}catch(g){Te(t,t.return,g)}}function $n(e,t,i){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){var d=s.inst,g=d.destroy;if(g!==void 0){d.destroy=void 0,o=t;var y=i,A=g;try{A()}catch(O){Te(o,y,O)}}}s=s.next}while(s!==c)}}catch(O){Te(t,t.return,O)}}function Vm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Ld(t,i)}catch(s){Te(e,e.return,s)}}}function Qm(e,t,i){i.props=Ii(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){Te(e,t,s)}}function Ua(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(o){Te(e,t,o)}}function fn(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(o){Te(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){Te(e,t,o)}else i.current=null}function Xm(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(o){Te(e,e.return,o)}}function lc(e,t,i){try{var s=e.stateNode;G0(s,e.type,i,t),s[St]=t}catch(o){Te(e,e.return,o)}}function Km(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&si(e.type)||e.tag===4}function ac(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Km(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&si(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sc(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=yn));else if(s!==4&&(s===27&&si(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(sc(e,t,i),e=e.sibling;e!==null;)sc(e,t,i),e=e.sibling}function Sr(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&si(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Sr(e,t,i),e=e.sibling;e!==null;)Sr(e,t,i),e=e.sibling}function Zm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ht(t,s,i),t[ot]=e,t[St]=i}catch(c){Te(e,e.return,c)}}var wn=!1,We=!1,rc=!1,Fm=typeof WeakSet=="function"?WeakSet:Set,nt=null;function b0(e,t){if(e=e.containerInfo,wc=qr,e=rd(e),eu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var o=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,g=-1,y=-1,A=0,O=0,L=e,w=null;t:for(;;){for(var D;L!==i||o!==0&&L.nodeType!==3||(g=d+o),L!==c||s!==0&&L.nodeType!==3||(y=d+s),L.nodeType===3&&(d+=L.nodeValue.length),(D=L.firstChild)!==null;)w=L,L=D;for(;;){if(L===e)break t;if(w===i&&++A===o&&(g=d),w===c&&++O===s&&(y=d),(D=L.nextSibling)!==null)break;L=w,w=L.parentNode}L=D}i=g===-1||y===-1?null:{start:g,end:y}}else i=null}i=i||{start:0,end:0}}else i=null;for(Dc={focusedElem:e,selectionRange:i},qr=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){switch(t=nt,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)o=e[i],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,i=t,o=c.memoizedProps,c=c.memoizedState,s=i.stateNode;try{var G=Ii(i.type,o);e=s.getSnapshotBeforeUpdate(G,c),s.__reactInternalSnapshotBeforeUpdate=e}catch(K){Te(i,i.return,K)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Mc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Mc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}}function Jm(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:On(e,i),s&4&&La(5,i);break;case 1:if(On(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(d){Te(i,i.return,d)}else{var o=Ii(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Te(i,i.return,d)}}s&64&&Vm(i),s&512&&Ua(i,i.return);break;case 3:if(On(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Ld(e,t)}catch(d){Te(i,i.return,d)}}break;case 27:t===null&&s&4&&Zm(i);case 26:case 5:On(e,i),t===null&&s&4&&Xm(i),s&512&&Ua(i,i.return);break;case 12:On(e,i);break;case 31:On(e,i),s&4&&$m(e,i);break;case 13:On(e,i),s&4&&eg(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=D0.bind(null,i),F0(e,i))));break;case 22:if(s=i.memoizedState!==null||wn,!s){t=t!==null&&t.memoizedState!==null||We,o=wn;var c=We;wn=s,(We=t)&&!c?Rn(e,i,(i.subtreeFlags&8772)!==0):On(e,i),wn=o,We=c}break;case 30:break;default:On(e,i)}}function Wm(e){var t=e.alternate;t!==null&&(e.alternate=null,Wm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Io(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ie=null,Ct=!1;function Dn(e,t,i){for(i=i.child;i!==null;)Pm(e,t,i),i=i.sibling}function Pm(e,t,i){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(aa,i)}catch{}switch(i.tag){case 26:We||fn(i,t),Dn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:We||fn(i,t);var s=Ie,o=Ct;si(i.type)&&(Ie=i.stateNode,Ct=!1),Dn(e,t,i),Va(i.stateNode),Ie=s,Ct=o;break;case 5:We||fn(i,t);case 6:if(s=Ie,o=Ct,Ie=null,Dn(e,t,i),Ie=s,Ct=o,Ie!==null)if(Ct)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(i.stateNode)}catch(c){Te(i,t,c)}else try{Ie.removeChild(i.stateNode)}catch(c){Te(i,t,c)}break;case 18:Ie!==null&&(Ct?(e=Ie,Vg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Bl(e)):Vg(Ie,i.stateNode));break;case 4:s=Ie,o=Ct,Ie=i.stateNode.containerInfo,Ct=!0,Dn(e,t,i),Ie=s,Ct=o;break;case 0:case 11:case 14:case 15:$n(2,i,t),We||$n(4,i,t),Dn(e,t,i);break;case 1:We||(fn(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&Qm(i,t,s)),Dn(e,t,i);break;case 21:Dn(e,t,i);break;case 22:We=(s=We)||i.memoizedState!==null,Dn(e,t,i),We=s;break;default:Dn(e,t,i)}}function $m(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Bl(e)}catch(i){Te(t,t.return,i)}}}function eg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Bl(e)}catch(i){Te(t,t.return,i)}}function S0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Fm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Fm),t;default:throw Error(r(435,e.tag))}}function Er(e,t){var i=S0(e);t.forEach(function(s){if(!i.has(s)){i.add(s);var o=O0.bind(null,e,s);s.then(o,o)}})}function Tt(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var o=i[s],c=e,d=t,g=d;e:for(;g!==null;){switch(g.tag){case 27:if(si(g.type)){Ie=g.stateNode,Ct=!1;break e}break;case 5:Ie=g.stateNode,Ct=!1;break e;case 3:case 4:Ie=g.stateNode.containerInfo,Ct=!0;break e}g=g.return}if(Ie===null)throw Error(r(160));Pm(c,d,o),Ie=null,Ct=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)tg(t,e),t=t.sibling}var nn=null;function tg(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(t,e),Nt(e),s&4&&($n(3,e,e.return),La(3,e),$n(5,e,e.return));break;case 1:Tt(t,e),Nt(e),s&512&&(We||i===null||fn(i,i.return)),s&64&&wn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var o=nn;if(Tt(t,e),Nt(e),s&512&&(We||i===null||fn(i,i.return)),s&4){var c=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":c=o.getElementsByTagName("title")[0],(!c||c[oa]||c[ot]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(s),o.head.insertBefore(c,o.querySelector("head > title"))),ht(c,s,i),c[ot]=e,tt(c),s=c;break e;case"link":var d=t_("link","href",o).get(s+(i.href||""));if(d){for(var g=0;g<d.length;g++)if(c=d[g],c.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(g,1);break t}}c=o.createElement(s),ht(c,s,i),o.head.appendChild(c);break;case"meta":if(d=t_("meta","content",o).get(s+(i.content||""))){for(g=0;g<d.length;g++)if(c=d[g],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(g,1);break t}}c=o.createElement(s),ht(c,s,i),o.head.appendChild(c);break;default:throw Error(r(468,s))}c[ot]=e,tt(c),s=c}e.stateNode=s}else n_(o,e.type,e.stateNode);else e.stateNode=e_(o,s,e.memoizedProps);else c!==s?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,s===null?n_(o,e.type,e.stateNode):e_(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&lc(e,e.memoizedProps,i.memoizedProps)}break;case 27:Tt(t,e),Nt(e),s&512&&(We||i===null||fn(i,i.return)),i!==null&&s&4&&lc(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Tt(t,e),Nt(e),s&512&&(We||i===null||fn(i,i.return)),e.flags&32){o=e.stateNode;try{rl(o,"")}catch(G){Te(e,e.return,G)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,lc(e,o,i!==null?i.memoizedProps:o)),s&1024&&(rc=!0);break;case 6:if(Tt(t,e),Nt(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(G){Te(e,e.return,G)}}break;case 3:if(Br=null,o=nn,nn=jr(t.containerInfo),Tt(t,e),nn=o,Nt(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{Bl(t.containerInfo)}catch(G){Te(e,e.return,G)}rc&&(rc=!1,ng(e));break;case 4:s=nn,nn=jr(e.stateNode.containerInfo),Tt(t,e),Nt(e),nn=s;break;case 12:Tt(t,e),Nt(e);break;case 31:Tt(t,e),Nt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Er(e,s)));break;case 13:Tt(t,e),Nt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Tr=te()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Er(e,s)));break;case 22:o=e.memoizedState!==null;var y=i!==null&&i.memoizedState!==null,A=wn,O=We;if(wn=A||o,We=O||y,Tt(t,e),We=O,wn=A,Nt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||y||wn||We||Bi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){y=i=t;try{if(c=y.stateNode,o)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{g=y.stateNode;var L=y.memoizedProps.style,w=L!=null&&L.hasOwnProperty("display")?L.display:null;g.style.display=w==null||typeof w=="boolean"?"":(""+w).trim()}}catch(G){Te(y,y.return,G)}}}else if(t.tag===6){if(i===null){y=t;try{y.stateNode.nodeValue=o?"":y.memoizedProps}catch(G){Te(y,y.return,G)}}}else if(t.tag===18){if(i===null){y=t;try{var D=y.stateNode;o?Qg(D,!0):Qg(y.stateNode,!1)}catch(G){Te(y,y.return,G)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,Er(e,i))));break;case 19:Tt(t,e),Nt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Er(e,s)));break;case 30:break;case 21:break;default:Tt(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(Km(s)){i=s;break}s=s.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var o=i.stateNode,c=ac(e);Sr(e,c,o);break;case 5:var d=i.stateNode;i.flags&32&&(rl(d,""),i.flags&=-33);var g=ac(e);Sr(e,g,d);break;case 3:case 4:var y=i.stateNode.containerInfo,A=ac(e);sc(e,A,y);break;default:throw Error(r(161))}}catch(O){Te(e,e.return,O)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ng(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ng(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function On(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Jm(e,t.alternate,t),t=t.sibling}function Bi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:$n(4,t,t.return),Bi(t);break;case 1:fn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Qm(t,t.return,i),Bi(t);break;case 27:Va(t.stateNode);case 26:case 5:fn(t,t.return),Bi(t);break;case 22:t.memoizedState===null&&Bi(t);break;case 30:Bi(t);break;default:Bi(t)}e=e.sibling}}function Rn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,c=t,d=c.flags;switch(c.tag){case 0:case 11:case 15:Rn(o,c,i),La(4,c);break;case 1:if(Rn(o,c,i),s=c,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(A){Te(s,s.return,A)}if(s=c,o=s.updateQueue,o!==null){var g=s.stateNode;try{var y=o.shared.hiddenCallbacks;if(y!==null)for(o.shared.hiddenCallbacks=null,o=0;o<y.length;o++)zd(y[o],g)}catch(A){Te(s,s.return,A)}}i&&d&64&&Vm(c),Ua(c,c.return);break;case 27:Zm(c);case 26:case 5:Rn(o,c,i),i&&s===null&&d&4&&Xm(c),Ua(c,c.return);break;case 12:Rn(o,c,i);break;case 31:Rn(o,c,i),i&&d&4&&$m(o,c);break;case 13:Rn(o,c,i),i&&d&4&&eg(o,c);break;case 22:c.memoizedState===null&&Rn(o,c,i),Ua(c,c.return);break;case 30:break;default:Rn(o,c,i)}t=t.sibling}}function oc(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Sa(i))}function uc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Sa(e))}function ln(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ig(e,t,i,s),t=t.sibling}function ig(e,t,i,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:ln(e,t,i,s),o&2048&&La(9,t);break;case 1:ln(e,t,i,s);break;case 3:ln(e,t,i,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Sa(e)));break;case 12:if(o&2048){ln(e,t,i,s),e=t.stateNode;try{var c=t.memoizedProps,d=c.id,g=c.onPostCommit;typeof g=="function"&&g(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(y){Te(t,t.return,y)}}else ln(e,t,i,s);break;case 31:ln(e,t,i,s);break;case 13:ln(e,t,i,s);break;case 23:break;case 22:c=t.stateNode,d=t.alternate,t.memoizedState!==null?c._visibility&2?ln(e,t,i,s):ja(e,t):c._visibility&2?ln(e,t,i,s):(c._visibility|=2,Al(e,t,i,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&oc(d,t);break;case 24:ln(e,t,i,s),o&2048&&uc(t.alternate,t);break;default:ln(e,t,i,s)}}function Al(e,t,i,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,d=t,g=i,y=s,A=d.flags;switch(d.tag){case 0:case 11:case 15:Al(c,d,g,y,o),La(8,d);break;case 23:break;case 22:var O=d.stateNode;d.memoizedState!==null?O._visibility&2?Al(c,d,g,y,o):ja(c,d):(O._visibility|=2,Al(c,d,g,y,o)),o&&A&2048&&oc(d.alternate,d);break;case 24:Al(c,d,g,y,o),o&&A&2048&&uc(d.alternate,d);break;default:Al(c,d,g,y,o)}t=t.sibling}}function ja(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,o=s.flags;switch(s.tag){case 22:ja(i,s),o&2048&&oc(s.alternate,s);break;case 24:ja(i,s),o&2048&&uc(s.alternate,s);break;default:ja(i,s)}t=t.sibling}}var Ia=8192;function wl(e,t,i){if(e.subtreeFlags&Ia)for(e=e.child;e!==null;)lg(e,t,i),e=e.sibling}function lg(e,t,i){switch(e.tag){case 26:wl(e,t,i),e.flags&Ia&&e.memoizedState!==null&&r1(i,nn,e.memoizedState,e.memoizedProps);break;case 5:wl(e,t,i);break;case 3:case 4:var s=nn;nn=jr(e.stateNode.containerInfo),wl(e,t,i),nn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Ia,Ia=16777216,wl(e,t,i),Ia=s):wl(e,t,i));break;default:wl(e,t,i)}}function ag(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ba(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];nt=s,rg(s,e)}ag(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sg(e),e=e.sibling}function sg(e){switch(e.tag){case 0:case 11:case 15:Ba(e),e.flags&2048&&$n(9,e,e.return);break;case 3:Ba(e);break;case 12:Ba(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Cr(e)):Ba(e);break;default:Ba(e)}}function Cr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];nt=s,rg(s,e)}ag(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:$n(8,t,t.return),Cr(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Cr(t));break;default:Cr(t)}e=e.sibling}}function rg(e,t){for(;nt!==null;){var i=nt;switch(i.tag){case 0:case 11:case 15:$n(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Sa(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,nt=s;else e:for(i=e;nt!==null;){s=nt;var o=s.sibling,c=s.return;if(Wm(s),s===i){nt=null;break e}if(o!==null){o.return=c,nt=o;break e}nt=c}}}var E0={getCacheForType:function(e){var t=ct(Ze),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return ct(Ze).controller.signal}},C0=typeof WeakMap=="function"?WeakMap:Map,be=0,De=null,re=null,ce=0,Ce=0,It=null,ei=!1,Dl=!1,cc=!1,Mn=0,qe=0,ti=0,Hi=0,fc=0,Bt=0,Ol=0,Ha=null,xt=null,hc=!1,Tr=0,og=0,Nr=1/0,xr=null,ni=null,Pe=0,ii=null,Rl=null,zn=0,dc=0,mc=null,ug=null,ka=0,gc=null;function Ht(){return(be&2)!==0&&ce!==0?ce&-ce:R.T!==null?Sc():Nh()}function cg(){if(Bt===0)if((ce&536870912)===0||he){var e=Ls;Ls<<=1,(Ls&3932160)===0&&(Ls=262144),Bt=e}else Bt=536870912;return e=Ut.current,e!==null&&(e.flags|=32),Bt}function At(e,t,i){(e===De&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(Ml(e,0),li(e,ce,Bt,!1)),ra(e,i),((be&2)===0||e!==De)&&(e===De&&((be&2)===0&&(Hi|=i),qe===4&&li(e,ce,Bt,!1)),hn(e))}function fg(e,t,i){if((be&6)!==0)throw Error(r(327));var s=!i&&(t&127)===0&&(t&e.expiredLanes)===0||sa(e,t),o=s?x0(e,t):pc(e,t,!0),c=s;do{if(o===0){Dl&&!s&&li(e,t,0,!1);break}else{if(i=e.current.alternate,c&&!T0(i)){o=pc(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var g=e;o=Ha;var y=g.current.memoizedState.isDehydrated;if(y&&(Ml(g,d).flags|=256),d=pc(g,d,!1),d!==2){if(cc&&!y){g.errorRecoveryDisabledLanes|=c,Hi|=c,o=4;break e}c=xt,xt=o,c!==null&&(xt===null?xt=c:xt.push.apply(xt,c))}o=d}if(c=!1,o!==2)continue}}if(o===1){Ml(e,0),li(e,t,0,!0);break}e:{switch(s=e,c=o,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:li(s,t,Bt,!ei);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=Tr+300-te(),10<o)){if(li(s,t,Bt,!ei),js(s,0,!0)!==0)break e;zn=t,s.timeoutHandle=qg(hg.bind(null,s,i,xt,xr,hc,t,Bt,Hi,Ol,ei,c,"Throttled",-0,0),o);break e}hg(s,i,xt,xr,hc,t,Bt,Hi,Ol,ei,c,null,-0,0)}}break}while(!0);hn(e)}function hg(e,t,i,s,o,c,d,g,y,A,O,L,w,D){if(e.timeoutHandle=-1,L=t.subtreeFlags,L&8192||(L&16785408)===16785408){L={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yn},lg(t,c,L);var G=(c&62914560)===c?Tr-te():(c&4194048)===c?og-te():0;if(G=o1(L,G),G!==null){zn=c,e.cancelPendingCommit=G(bg.bind(null,e,t,c,i,s,o,d,g,y,O,L,null,w,D)),li(e,c,d,!A);return}}bg(e,t,c,i,s,o,d,g,y)}function T0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var o=i[s],c=o.getSnapshot;o=o.value;try{if(!zt(c(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function li(e,t,i,s){t&=~fc,t&=~Hi,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var c=31-Mt(o),d=1<<c;s[c]=-1,o&=~d}i!==0&&Eh(e,i,t)}function Ar(){return(be&6)===0?(Ga(0),!1):!0}function _c(){if(re!==null){if(Ce===0)var e=re.return;else e=re,En=Oi=null,Mu(e),El=null,Ca=0,e=re;for(;e!==null;)Ym(e.alternate,e),e=e.return;re=null}}function Ml(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,V0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),zn=0,_c(),De=e,re=i=bn(e.current,null),ce=t,Ce=0,It=null,ei=!1,Dl=sa(e,t),cc=!1,Ol=Bt=fc=Hi=ti=qe=0,xt=Ha=null,hc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-Mt(s),c=1<<o;t|=e[o],s&=~c}return Mn=t,Zs(),i}function dg(e,t){P=null,R.H=Ra,t===Sl||t===nr?(t=Dd(),Ce=3):t===bu?(t=Dd(),Ce=4):Ce=t===Zu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,It=t,re===null&&(qe=1,_r(e,Vt(t,e.current)))}function mg(){var e=Ut.current;return e===null?!0:(ce&4194048)===ce?Zt===null:(ce&62914560)===ce||(ce&536870912)!==0?e===Zt:!1}function gg(){var e=R.H;return R.H=Ra,e===null?Ra:e}function _g(){var e=R.A;return R.A=E0,e}function wr(){qe=4,ei||(ce&4194048)!==ce&&Ut.current!==null||(Dl=!0),(ti&134217727)===0&&(Hi&134217727)===0||De===null||li(De,ce,Bt,!1)}function pc(e,t,i){var s=be;be|=2;var o=gg(),c=_g();(De!==e||ce!==t)&&(xr=null,Ml(e,t)),t=!1;var d=qe;e:do try{if(Ce!==0&&re!==null){var g=re,y=It;switch(Ce){case 8:_c(),d=6;break e;case 3:case 2:case 9:case 6:Ut.current===null&&(t=!0);var A=Ce;if(Ce=0,It=null,zl(e,g,y,A),i&&Dl){d=0;break e}break;default:A=Ce,Ce=0,It=null,zl(e,g,y,A)}}N0(),d=qe;break}catch(O){dg(e,O)}while(!0);return t&&e.shellSuspendCounter++,En=Oi=null,be=s,R.H=o,R.A=c,re===null&&(De=null,ce=0,Zs()),d}function N0(){for(;re!==null;)pg(re)}function x0(e,t){var i=be;be|=2;var s=gg(),o=_g();De!==e||ce!==t?(xr=null,Nr=te()+500,Ml(e,t)):Dl=sa(e,t);e:do try{if(Ce!==0&&re!==null){t=re;var c=It;t:switch(Ce){case 1:Ce=0,It=null,zl(e,t,c,1);break;case 2:case 9:if(Ad(c)){Ce=0,It=null,yg(t);break}t=function(){Ce!==2&&Ce!==9||De!==e||(Ce=7),hn(e)},c.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:Ad(c)?(Ce=0,It=null,yg(t)):(Ce=0,It=null,zl(e,t,c,7));break;case 5:var d=null;switch(re.tag){case 26:d=re.memoizedState;case 5:case 27:var g=re;if(d?i_(d):g.stateNode.complete){Ce=0,It=null;var y=g.sibling;if(y!==null)re=y;else{var A=g.return;A!==null?(re=A,Dr(A)):re=null}break t}}Ce=0,It=null,zl(e,t,c,5);break;case 6:Ce=0,It=null,zl(e,t,c,6);break;case 8:_c(),qe=6;break e;default:throw Error(r(462))}}A0();break}catch(O){dg(e,O)}while(!0);return En=Oi=null,R.H=s,R.A=o,be=i,re!==null?0:(De=null,ce=0,Zs(),qe)}function A0(){for(;re!==null&&!U();)pg(re)}function pg(e){var t=Gm(e.alternate,e,Mn);e.memoizedProps=e.pendingProps,t===null?Dr(e):re=t}function yg(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Um(i,t,t.pendingProps,t.type,void 0,ce);break;case 11:t=Um(i,t,t.pendingProps,t.type.render,t.ref,ce);break;case 5:Mu(t);default:Ym(i,t),t=re=_d(t,Mn),t=Gm(i,t,Mn)}e.memoizedProps=e.pendingProps,t===null?Dr(e):re=t}function zl(e,t,i,s){En=Oi=null,Mu(t),El=null,Ca=0;var o=t.return;try{if(g0(e,o,t,i,ce)){qe=1,_r(e,Vt(i,e.current)),re=null;return}}catch(c){if(o!==null)throw re=o,c;qe=1,_r(e,Vt(i,e.current)),re=null;return}t.flags&32768?(he||s===1?e=!0:Dl||(ce&536870912)!==0?e=!1:(ei=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ut.current,s!==null&&s.tag===13&&(s.flags|=16384))),vg(t,e)):Dr(t)}function Dr(e){var t=e;do{if((t.flags&32768)!==0){vg(t,ei);return}e=t.return;var i=y0(t.alternate,t,Mn);if(i!==null){re=i;return}if(t=t.sibling,t!==null){re=t;return}re=t=e}while(t!==null);qe===0&&(qe=5)}function vg(e,t){do{var i=v0(e.alternate,e);if(i!==null){i.flags&=32767,re=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){re=e;return}re=e=i}while(e!==null);qe=6,re=null}function bg(e,t,i,s,o,c,d,g,y){e.cancelPendingCommit=null;do Or();while(Pe!==0);if((be&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=au,sv(e,i,c,d,g,y),e===De&&(re=De=null,ce=0),Rl=t,ii=e,zn=i,dc=c,mc=o,ug=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,R0(el,function(){return Ng(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=R.T,R.T=null,o=H.p,H.p=2,d=be,be|=4;try{b0(e,t,i)}finally{be=d,H.p=o,R.T=s}}Pe=1,Sg(),Eg(),Cg()}}function Sg(){if(Pe===1){Pe=0;var e=ii,t=Rl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=R.T,R.T=null;var s=H.p;H.p=2;var o=be;be|=4;try{tg(t,e);var c=Dc,d=rd(e.containerInfo),g=c.focusedElem,y=c.selectionRange;if(d!==g&&g&&g.ownerDocument&&sd(g.ownerDocument.documentElement,g)){if(y!==null&&eu(g)){var A=y.start,O=y.end;if(O===void 0&&(O=A),"selectionStart"in g)g.selectionStart=A,g.selectionEnd=Math.min(O,g.value.length);else{var L=g.ownerDocument||document,w=L&&L.defaultView||window;if(w.getSelection){var D=w.getSelection(),G=g.textContent.length,K=Math.min(y.start,G),we=y.end===void 0?K:Math.min(y.end,G);!D.extend&&K>we&&(d=we,we=K,K=d);var N=ad(g,K),S=ad(g,we);if(N&&S&&(D.rangeCount!==1||D.anchorNode!==N.node||D.anchorOffset!==N.offset||D.focusNode!==S.node||D.focusOffset!==S.offset)){var x=L.createRange();x.setStart(N.node,N.offset),D.removeAllRanges(),K>we?(D.addRange(x),D.extend(S.node,S.offset)):(x.setEnd(S.node,S.offset),D.addRange(x))}}}}for(L=[],D=g;D=D.parentNode;)D.nodeType===1&&L.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<L.length;g++){var M=L[g];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}qr=!!wc,Dc=wc=null}finally{be=o,H.p=s,R.T=i}}e.current=t,Pe=2}}function Eg(){if(Pe===2){Pe=0;var e=ii,t=Rl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=R.T,R.T=null;var s=H.p;H.p=2;var o=be;be|=4;try{Jm(e,t.alternate,t)}finally{be=o,H.p=s,R.T=i}}Pe=3}}function Cg(){if(Pe===4||Pe===3){Pe=0,ue();var e=ii,t=Rl,i=zn,s=ug;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Pe=5:(Pe=0,Rl=ii=null,Tg(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(ni=null),Uo(i),t=t.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(aa,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=R.T,o=H.p,H.p=2,R.T=null;try{for(var c=e.onRecoverableError,d=0;d<s.length;d++){var g=s[d];c(g.value,{componentStack:g.stack})}}finally{R.T=t,H.p=o}}(zn&3)!==0&&Or(),hn(e),o=e.pendingLanes,(i&261930)!==0&&(o&42)!==0?e===gc?ka++:(ka=0,gc=e):ka=0,Ga(0)}}function Tg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Sa(t)))}function Or(){return Sg(),Eg(),Cg(),Ng()}function Ng(){if(Pe!==5)return!1;var e=ii,t=dc;dc=0;var i=Uo(zn),s=R.T,o=H.p;try{H.p=32>i?32:i,R.T=null,i=mc,mc=null;var c=ii,d=zn;if(Pe=0,Rl=ii=null,zn=0,(be&6)!==0)throw Error(r(331));var g=be;if(be|=4,sg(c.current),ig(c,c.current,d,i),be=g,Ga(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(aa,c)}catch{}return!0}finally{H.p=o,R.T=s,Tg(e,t)}}function xg(e,t,i){t=Vt(i,t),t=Ku(e.stateNode,t,2),e=Jn(e,t,2),e!==null&&(ra(e,2),hn(e))}function Te(e,t,i){if(e.tag===3)xg(e,e,i);else for(;t!==null;){if(t.tag===3){xg(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ni===null||!ni.has(s))){e=Vt(i,e),i=Am(2),s=Jn(t,i,2),s!==null&&(wm(i,s,t,e),ra(s,2),hn(s));break}}t=t.return}}function yc(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new C0;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(i)||(cc=!0,o.add(i),e=w0.bind(null,e,t,i),t.then(e,e))}function w0(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,De===e&&(ce&i)===i&&(qe===4||qe===3&&(ce&62914560)===ce&&300>te()-Tr?(be&2)===0&&Ml(e,0):fc|=i,Ol===ce&&(Ol=0)),hn(e)}function Ag(e,t){t===0&&(t=Sh()),e=Ai(e,t),e!==null&&(ra(e,t),hn(e))}function D0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Ag(e,i)}function O0(e,t){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),Ag(e,i)}function R0(e,t){return Pi(e,t)}var Rr=null,Ll=null,vc=!1,Mr=!1,bc=!1,ai=0;function hn(e){e!==Ll&&e.next===null&&(Ll===null?Rr=Ll=e:Ll=Ll.next=e),Mr=!0,vc||(vc=!0,z0())}function Ga(e,t){if(!bc&&Mr){bc=!0;do for(var i=!1,s=Rr;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var c=0;else{var d=s.suspendedLanes,g=s.pingedLanes;c=(1<<31-Mt(42|e)+1)-1,c&=o&~(d&~g),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(i=!0,Rg(s,c))}else c=ce,c=js(s,s===De?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(c&3)===0||sa(s,c)||(i=!0,Rg(s,c));s=s.next}while(i);bc=!1}}function M0(){wg()}function wg(){Mr=vc=!1;var e=0;ai!==0&&Y0()&&(e=ai);for(var t=te(),i=null,s=Rr;s!==null;){var o=s.next,c=Dg(s,t);c===0?(s.next=null,i===null?Rr=o:i.next=o,o===null&&(Ll=i)):(i=s,(e!==0||(c&3)!==0)&&(Mr=!0)),s=o}Pe!==0&&Pe!==5||Ga(e),ai!==0&&(ai=0)}function Dg(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var d=31-Mt(c),g=1<<d,y=o[d];y===-1?((g&i)===0||(g&s)!==0)&&(o[d]=av(g,t)):y<=t&&(e.expiredLanes|=g),c&=~g}if(t=De,i=ce,i=js(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&la(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||sa(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&la(s),Uo(i)){case 2:case 8:i=$i;break;case 32:i=el;break;case 268435456:i=bh;break;default:i=el}return s=Og.bind(null,e),i=Pi(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&la(s),e.callbackPriority=2,e.callbackNode=null,2}function Og(e,t){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Or()&&e.callbackNode!==i)return null;var s=ce;return s=js(e,e===De?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(fg(e,s,t),Dg(e,te()),e.callbackNode!=null&&e.callbackNode===i?Og.bind(null,e):null)}function Rg(e,t){if(Or())return null;fg(e,t,!0)}function z0(){Q0(function(){(be&6)!==0?Pi(dt,M0):wg()})}function Sc(){if(ai===0){var e=vl;e===0&&(e=zs,zs<<=1,(zs&261888)===0&&(zs=256)),ai=e}return ai}function Mg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ks(""+e)}function zg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function L0(e,t,i,s,o){if(t==="submit"&&i&&i.stateNode===o){var c=Mg((o[St]||null).action),d=s.submitter;d&&(t=(t=d[St]||null)?Mg(t.formAction):d.getAttribute("formAction"),t!==null&&(c=t,d=null));var g=new Vs("action","action",null,s,o);e.push({event:g,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ai!==0){var y=d?zg(o,d):new FormData(o);Gu(i,{pending:!0,data:y,method:o.method,action:c},null,y)}}else typeof c=="function"&&(g.preventDefault(),y=d?zg(o,d):new FormData(o),Gu(i,{pending:!0,data:y,method:o.method,action:c},c,y))},currentTarget:o}]})}}for(var Ec=0;Ec<lu.length;Ec++){var Cc=lu[Ec],U0=Cc.toLowerCase(),j0=Cc[0].toUpperCase()+Cc.slice(1);tn(U0,"on"+j0)}tn(cd,"onAnimationEnd"),tn(fd,"onAnimationIteration"),tn(hd,"onAnimationStart"),tn("dblclick","onDoubleClick"),tn("focusin","onFocus"),tn("focusout","onBlur"),tn(Pv,"onTransitionRun"),tn($v,"onTransitionStart"),tn(e0,"onTransitionCancel"),tn(dd,"onTransitionEnd"),al("onMouseEnter",["mouseout","mouseover"]),al("onMouseLeave",["mouseout","mouseover"]),al("onPointerEnter",["pointerout","pointerover"]),al("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qa));function Lg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],o=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var d=s.length-1;0<=d;d--){var g=s[d],y=g.instance,A=g.currentTarget;if(g=g.listener,y!==c&&o.isPropagationStopped())break e;c=g,o.currentTarget=A;try{c(o)}catch(O){Ks(O)}o.currentTarget=null,c=y}else for(d=0;d<s.length;d++){if(g=s[d],y=g.instance,A=g.currentTarget,g=g.listener,y!==c&&o.isPropagationStopped())break e;c=g,o.currentTarget=A;try{c(o)}catch(O){Ks(O)}o.currentTarget=null,c=y}}}}function oe(e,t){var i=t[jo];i===void 0&&(i=t[jo]=new Set);var s=e+"__bubble";i.has(s)||(Ug(t,e,2,!1),i.add(s))}function Tc(e,t,i){var s=0;t&&(s|=4),Ug(i,e,s,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Nc(e){if(!e[zr]){e[zr]=!0,wh.forEach(function(i){i!=="selectionchange"&&(I0.has(i)||Tc(i,!1,e),Tc(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zr]||(t[zr]=!0,Tc("selectionchange",!1,t))}}function Ug(e,t,i,s){switch(c_(t)){case 2:var o=f1;break;case 8:o=h1;break;default:o=kc}i=o.bind(null,t,i,e),o=void 0,!Qo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function xc(e,t,i,s,o){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var d=s.tag;if(d===3||d===4){var g=s.stateNode.containerInfo;if(g===o)break;if(d===4)for(d=s.return;d!==null;){var y=d.tag;if((y===3||y===4)&&d.stateNode.containerInfo===o)return;d=d.return}for(;g!==null;){if(d=nl(g),d===null)return;if(y=d.tag,y===5||y===6||y===26||y===27){s=c=d;continue e}g=g.parentNode}}s=s.return}kh(function(){var A=c,O=Yo(i),L=[];e:{var w=md.get(e);if(w!==void 0){var D=Vs,G=e;switch(e){case"keypress":if(qs(i)===0)break e;case"keydown":case"keyup":D=Ov;break;case"focusin":G="focus",D=Fo;break;case"focusout":G="blur",D=Fo;break;case"beforeblur":case"afterblur":D=Fo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=yv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=zv;break;case cd:case fd:case hd:D=Sv;break;case dd:D=Uv;break;case"scroll":case"scrollend":D=_v;break;case"wheel":D=Iv;break;case"copy":case"cut":case"paste":D=Cv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Qh;break;case"toggle":case"beforetoggle":D=Hv}var K=(t&4)!==0,we=!K&&(e==="scroll"||e==="scrollend"),N=K?w!==null?w+"Capture":null:w;K=[];for(var S=A,x;S!==null;){var M=S;if(x=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||x===null||N===null||(M=ca(S,N),M!=null&&K.push(Ya(S,M,x))),we)break;S=S.return}0<K.length&&(w=new D(w,G,null,i,O),L.push({event:w,listeners:K}))}}if((t&7)===0){e:{if(w=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",w&&i!==qo&&(G=i.relatedTarget||i.fromElement)&&(nl(G)||G[tl]))break e;if((D||w)&&(w=O.window===O?O:(w=O.ownerDocument)?w.defaultView||w.parentWindow:window,D?(G=i.relatedTarget||i.toElement,D=A,G=G?nl(G):null,G!==null&&(we=f(G),K=G.tag,G!==we||K!==5&&K!==27&&K!==6)&&(G=null)):(D=null,G=A),D!==G)){if(K=Yh,M="onMouseLeave",N="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(K=Qh,M="onPointerLeave",N="onPointerEnter",S="pointer"),we=D==null?w:ua(D),x=G==null?w:ua(G),w=new K(M,S+"leave",D,i,O),w.target=we,w.relatedTarget=x,M=null,nl(O)===A&&(K=new K(N,S+"enter",G,i,O),K.target=x,K.relatedTarget=we,M=K),we=M,D&&G)t:{for(K=B0,N=D,S=G,x=0,M=N;M;M=K(M))x++;M=0;for(var V=S;V;V=K(V))M++;for(;0<x-M;)N=K(N),x--;for(;0<M-x;)S=K(S),M--;for(;x--;){if(N===S||S!==null&&N===S.alternate){K=N;break t}N=K(N),S=K(S)}K=null}else K=null;D!==null&&jg(L,w,D,K,!1),G!==null&&we!==null&&jg(L,we,G,K,!0)}}e:{if(w=A?ua(A):window,D=w.nodeName&&w.nodeName.toLowerCase(),D==="select"||D==="input"&&w.type==="file")var me=$h;else if(Wh(w))if(ed)me=Fv;else{me=Kv;var Y=Xv}else D=w.nodeName,!D||D.toLowerCase()!=="input"||w.type!=="checkbox"&&w.type!=="radio"?A&&Go(A.elementType)&&(me=$h):me=Zv;if(me&&(me=me(e,A))){Ph(L,me,i,O);break e}Y&&Y(e,w,A),e==="focusout"&&A&&w.type==="number"&&A.memoizedProps.value!=null&&ko(w,"number",w.value)}switch(Y=A?ua(A):window,e){case"focusin":(Wh(Y)||Y.contentEditable==="true")&&(fl=Y,tu=A,ya=null);break;case"focusout":ya=tu=fl=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,od(L,i,O);break;case"selectionchange":if(Wv)break;case"keydown":case"keyup":od(L,i,O)}var $;if(Wo)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else cl?Fh(e,i)&&(fe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(fe="onCompositionStart");fe&&(Xh&&i.locale!=="ko"&&(cl||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&cl&&($=Gh()):(Yn=O,Xo="value"in Yn?Yn.value:Yn.textContent,cl=!0)),Y=Lr(A,fe),0<Y.length&&(fe=new Vh(fe,e,null,i,O),L.push({event:fe,listeners:Y}),$?fe.data=$:($=Jh(i),$!==null&&(fe.data=$)))),($=Gv?qv(e,i):Yv(e,i))&&(fe=Lr(A,"onBeforeInput"),0<fe.length&&(Y=new Vh("onBeforeInput","beforeinput",null,i,O),L.push({event:Y,listeners:fe}),Y.data=$)),L0(L,e,A,i,O)}Lg(L,t)})}function Ya(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Lr(e,t){for(var i=t+"Capture",s=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=ca(e,i),o!=null&&s.unshift(Ya(e,o,c)),o=ca(e,t),o!=null&&s.push(Ya(e,o,c))),e.tag===3)return s;e=e.return}return[]}function B0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jg(e,t,i,s,o){for(var c=t._reactName,d=[];i!==null&&i!==s;){var g=i,y=g.alternate,A=g.stateNode;if(g=g.tag,y!==null&&y===s)break;g!==5&&g!==26&&g!==27||A===null||(y=A,o?(A=ca(i,c),A!=null&&d.unshift(Ya(i,A,y))):o||(A=ca(i,c),A!=null&&d.push(Ya(i,A,y)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var H0=/\r\n?/g,k0=/\u0000|\uFFFD/g;function Ig(e){return(typeof e=="string"?e:""+e).replace(H0,`
`).replace(k0,"")}function Bg(e,t){return t=Ig(t),Ig(e)===t}function Ae(e,t,i,s,o,c){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||rl(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&rl(e,""+s);break;case"className":Bs(e,"class",s);break;case"tabIndex":Bs(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Bs(e,i,s);break;case"style":Bh(e,s,c);break;case"data":if(t!=="object"){Bs(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=ks(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&Ae(e,t,"name",o.name,o,null),Ae(e,t,"formEncType",o.formEncType,o,null),Ae(e,t,"formMethod",o.formMethod,o,null),Ae(e,t,"formTarget",o.formTarget,o,null)):(Ae(e,t,"encType",o.encType,o,null),Ae(e,t,"method",o.method,o,null),Ae(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=ks(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=yn);break;case"onScroll":s!=null&&oe("scroll",e);break;case"onScrollEnd":s!=null&&oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=ks(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":oe("beforetoggle",e),oe("toggle",e),Is(e,"popover",s);break;case"xlinkActuate":pn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":pn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":pn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":pn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":pn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":pn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":pn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":pn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":pn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Is(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=mv.get(i)||i,Is(e,i,s))}}function Ac(e,t,i,s,o,c){switch(i){case"style":Bh(e,s,c);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof s=="string"?rl(e,s):(typeof s=="number"||typeof s=="bigint")&&rl(e,""+s);break;case"onScroll":s!=null&&oe("scroll",e);break;case"onScrollEnd":s!=null&&oe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dh.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),c=e[St]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof s=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,o);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):Is(e,i,s)}}}function ht(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oe("error",e),oe("load",e);var s=!1,o=!1,c;for(c in i)if(i.hasOwnProperty(c)){var d=i[c];if(d!=null)switch(c){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ae(e,t,c,d,i,null)}}o&&Ae(e,t,"srcSet",i.srcSet,i,null),s&&Ae(e,t,"src",i.src,i,null);return;case"input":oe("invalid",e);var g=c=d=o=null,y=null,A=null;for(s in i)if(i.hasOwnProperty(s)){var O=i[s];if(O!=null)switch(s){case"name":o=O;break;case"type":d=O;break;case"checked":y=O;break;case"defaultChecked":A=O;break;case"value":c=O;break;case"defaultValue":g=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,t));break;default:Ae(e,t,s,O,i,null)}}Lh(e,c,g,y,A,d,o,!1);return;case"select":oe("invalid",e),s=d=c=null;for(o in i)if(i.hasOwnProperty(o)&&(g=i[o],g!=null))switch(o){case"value":c=g;break;case"defaultValue":d=g;break;case"multiple":s=g;default:Ae(e,t,o,g,i,null)}t=c,i=d,e.multiple=!!s,t!=null?sl(e,!!s,t,!1):i!=null&&sl(e,!!s,i,!0);return;case"textarea":oe("invalid",e),c=o=s=null;for(d in i)if(i.hasOwnProperty(d)&&(g=i[d],g!=null))switch(d){case"value":s=g;break;case"defaultValue":o=g;break;case"children":c=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:Ae(e,t,d,g,i,null)}jh(e,s,o,c);return;case"option":for(y in i)if(i.hasOwnProperty(y)&&(s=i[y],s!=null))switch(y){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ae(e,t,y,s,i,null)}return;case"dialog":oe("beforetoggle",e),oe("toggle",e),oe("cancel",e),oe("close",e);break;case"iframe":case"object":oe("load",e);break;case"video":case"audio":for(s=0;s<qa.length;s++)oe(qa[s],e);break;case"image":oe("error",e),oe("load",e);break;case"details":oe("toggle",e);break;case"embed":case"source":case"link":oe("error",e),oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in i)if(i.hasOwnProperty(A)&&(s=i[A],s!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ae(e,t,A,s,i,null)}return;default:if(Go(t)){for(O in i)i.hasOwnProperty(O)&&(s=i[O],s!==void 0&&Ac(e,t,O,s,i,void 0));return}}for(g in i)i.hasOwnProperty(g)&&(s=i[g],s!=null&&Ae(e,t,g,s,i,null))}function G0(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,d=null,g=null,y=null,A=null,O=null;for(D in i){var L=i[D];if(i.hasOwnProperty(D)&&L!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":y=L;default:s.hasOwnProperty(D)||Ae(e,t,D,null,s,L)}}for(var w in s){var D=s[w];if(L=i[w],s.hasOwnProperty(w)&&(D!=null||L!=null))switch(w){case"type":c=D;break;case"name":o=D;break;case"checked":A=D;break;case"defaultChecked":O=D;break;case"value":d=D;break;case"defaultValue":g=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:D!==L&&Ae(e,t,w,D,s,L)}}Ho(e,d,g,y,A,O,c,o);return;case"select":D=d=g=w=null;for(c in i)if(y=i[c],i.hasOwnProperty(c)&&y!=null)switch(c){case"value":break;case"multiple":D=y;default:s.hasOwnProperty(c)||Ae(e,t,c,null,s,y)}for(o in s)if(c=s[o],y=i[o],s.hasOwnProperty(o)&&(c!=null||y!=null))switch(o){case"value":w=c;break;case"defaultValue":g=c;break;case"multiple":d=c;default:c!==y&&Ae(e,t,o,c,s,y)}t=g,i=d,s=D,w!=null?sl(e,!!i,w,!1):!!s!=!!i&&(t!=null?sl(e,!!i,t,!0):sl(e,!!i,i?[]:"",!1));return;case"textarea":D=w=null;for(g in i)if(o=i[g],i.hasOwnProperty(g)&&o!=null&&!s.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:Ae(e,t,g,null,s,o)}for(d in s)if(o=s[d],c=i[d],s.hasOwnProperty(d)&&(o!=null||c!=null))switch(d){case"value":w=o;break;case"defaultValue":D=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==c&&Ae(e,t,d,o,s,c)}Uh(e,w,D);return;case"option":for(var G in i)if(w=i[G],i.hasOwnProperty(G)&&w!=null&&!s.hasOwnProperty(G))switch(G){case"selected":e.selected=!1;break;default:Ae(e,t,G,null,s,w)}for(y in s)if(w=s[y],D=i[y],s.hasOwnProperty(y)&&w!==D&&(w!=null||D!=null))switch(y){case"selected":e.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:Ae(e,t,y,w,s,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var K in i)w=i[K],i.hasOwnProperty(K)&&w!=null&&!s.hasOwnProperty(K)&&Ae(e,t,K,null,s,w);for(A in s)if(w=s[A],D=i[A],s.hasOwnProperty(A)&&w!==D&&(w!=null||D!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(137,t));break;default:Ae(e,t,A,w,s,D)}return;default:if(Go(t)){for(var we in i)w=i[we],i.hasOwnProperty(we)&&w!==void 0&&!s.hasOwnProperty(we)&&Ac(e,t,we,void 0,s,w);for(O in s)w=s[O],D=i[O],!s.hasOwnProperty(O)||w===D||w===void 0&&D===void 0||Ac(e,t,O,w,s,D);return}}for(var N in i)w=i[N],i.hasOwnProperty(N)&&w!=null&&!s.hasOwnProperty(N)&&Ae(e,t,N,null,s,w);for(L in s)w=s[L],D=i[L],!s.hasOwnProperty(L)||w===D||w==null&&D==null||Ae(e,t,L,w,s,D)}function Hg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var o=i[s],c=o.transferSize,d=o.initiatorType,g=o.duration;if(c&&g&&Hg(d)){for(d=0,g=o.responseEnd,s+=1;s<i.length;s++){var y=i[s],A=y.startTime;if(A>g)break;var O=y.transferSize,L=y.initiatorType;O&&Hg(L)&&(y=y.responseEnd,d+=O*(y<g?1:(g-A)/(y-A)))}if(--s,t+=8*(c+d)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var wc=null,Dc=null;function Ur(e){return e.nodeType===9?e:e.ownerDocument}function kg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Oc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rc=null;function Y0(){var e=window.event;return e&&e.type==="popstate"?e===Rc?!1:(Rc=e,!0):(Rc=null,!1)}var qg=typeof setTimeout=="function"?setTimeout:void 0,V0=typeof clearTimeout=="function"?clearTimeout:void 0,Yg=typeof Promise=="function"?Promise:void 0,Q0=typeof queueMicrotask=="function"?queueMicrotask:typeof Yg<"u"?function(e){return Yg.resolve(null).then(e).catch(X0)}:qg;function X0(e){setTimeout(function(){throw e})}function si(e){return e==="head"}function Vg(e,t){var i=t,s=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(o),Bl(t);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")Va(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Va(i);for(var c=i.firstChild;c;){var d=c.nextSibling,g=c.nodeName;c[oa]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&c.rel.toLowerCase()==="stylesheet"||i.removeChild(c),c=d}}else i==="body"&&Va(e.ownerDocument.body);i=o}while(i);Bl(t)}function Qg(e,t){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function Mc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Mc(i),Io(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function K0(e,t,i,s){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[oa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Ft(e.nextSibling),e===null)break}return null}function Z0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ft(e.nextSibling),e===null))return null;return e}function Xg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ft(e.nextSibling),e===null))return null;return e}function zc(e){return e.data==="$?"||e.data==="$~"}function Lc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function F0(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Ft(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Uc=null;function Kg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Ft(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function Zg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function Fg(e,t,i){switch(t=Ur(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Va(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Io(e)}var Jt=new Map,Jg=new Set;function jr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ln=H.d;H.d={f:J0,r:W0,D:P0,C:$0,L:e1,m:t1,X:i1,S:n1,M:l1};function J0(){var e=Ln.f(),t=Ar();return e||t}function W0(e){var t=il(e);t!==null&&t.tag===5&&t.type==="form"?dm(t):Ln.r(e)}var Ul=typeof document>"u"?null:document;function Wg(e,t,i){var s=Ul;if(s&&typeof t=="string"&&t){var o=qt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),Jg.has(o)||(Jg.add(o),e={rel:e,crossOrigin:i,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),ht(t,"link",e),tt(t),s.head.appendChild(t)))}}function P0(e){Ln.D(e),Wg("dns-prefetch",e,null)}function $0(e,t){Ln.C(e,t),Wg("preconnect",e,t)}function e1(e,t,i){Ln.L(e,t,i);var s=Ul;if(s&&e&&t){var o='link[rel="preload"][as="'+qt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+qt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+qt(i.imageSizes)+'"]')):o+='[href="'+qt(e)+'"]';var c=o;switch(t){case"style":c=jl(e);break;case"script":c=Il(e)}Jt.has(c)||(e=v({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Jt.set(c,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(Qa(c))||t==="script"&&s.querySelector(Xa(c))||(t=s.createElement("link"),ht(t,"link",e),tt(t),s.head.appendChild(t)))}}function t1(e,t){Ln.m(e,t);var i=Ul;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+qt(s)+'"][href="'+qt(e)+'"]',c=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Il(e)}if(!Jt.has(c)&&(e=v({rel:"modulepreload",href:e},t),Jt.set(c,e),i.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Xa(c)))return}s=i.createElement("link"),ht(s,"link",e),tt(s),i.head.appendChild(s)}}}function n1(e,t,i){Ln.S(e,t,i);var s=Ul;if(s&&e){var o=ll(s).hoistableStyles,c=jl(e);t=t||"default";var d=o.get(c);if(!d){var g={loading:0,preload:null};if(d=s.querySelector(Qa(c)))g.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Jt.get(c))&&jc(e,i);var y=d=s.createElement("link");tt(y),ht(y,"link",e),y._p=new Promise(function(A,O){y.onload=A,y.onerror=O}),y.addEventListener("load",function(){g.loading|=1}),y.addEventListener("error",function(){g.loading|=2}),g.loading|=4,Ir(d,t,s)}d={type:"stylesheet",instance:d,count:1,state:g},o.set(c,d)}}}function i1(e,t){Ln.X(e,t);var i=Ul;if(i&&e){var s=ll(i).hoistableScripts,o=Il(e),c=s.get(o);c||(c=i.querySelector(Xa(o)),c||(e=v({src:e,async:!0},t),(t=Jt.get(o))&&Ic(e,t),c=i.createElement("script"),tt(c),ht(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function l1(e,t){Ln.M(e,t);var i=Ul;if(i&&e){var s=ll(i).hoistableScripts,o=Il(e),c=s.get(o);c||(c=i.querySelector(Xa(o)),c||(e=v({src:e,async:!0,type:"module"},t),(t=Jt.get(o))&&Ic(e,t),c=i.createElement("script"),tt(c),ht(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function Pg(e,t,i,s){var o=(o=ie.current)?jr(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=jl(i.href),i=ll(o).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=jl(i.href);var c=ll(o).hoistableStyles,d=c.get(e);if(d||(o=o.ownerDocument||o,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=o.querySelector(Qa(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Jt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Jt.set(e,i),c||a1(o,e,i,d.state))),t&&s===null)throw Error(r(528,""));return d}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Il(i),i=ll(o).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function jl(e){return'href="'+qt(e)+'"'}function Qa(e){return'link[rel="stylesheet"]['+e+"]"}function $g(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function a1(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),ht(t,"link",i),tt(t),e.head.appendChild(t))}function Il(e){return'[src="'+qt(e)+'"]'}function Xa(e){return"script[async]"+e}function e_(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+qt(i.href)+'"]');if(s)return t.instance=s,tt(s),s;var o=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),tt(s),ht(s,"style",o),Ir(s,i.precedence,e),t.instance=s;case"stylesheet":o=jl(i.href);var c=e.querySelector(Qa(o));if(c)return t.state.loading|=4,t.instance=c,tt(c),c;s=$g(i),(o=Jt.get(o))&&jc(s,o),c=(e.ownerDocument||e).createElement("link"),tt(c);var d=c;return d._p=new Promise(function(g,y){d.onload=g,d.onerror=y}),ht(c,"link",s),t.state.loading|=4,Ir(c,i.precedence,e),t.instance=c;case"script":return c=Il(i.src),(o=e.querySelector(Xa(c)))?(t.instance=o,tt(o),o):(s=i,(o=Jt.get(c))&&(s=v({},i),Ic(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),tt(o),ht(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Ir(s,i.precedence,e));return t.instance}function Ir(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,c=o,d=0;d<s.length;d++){var g=s[d];if(g.dataset.precedence===t)c=g;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function jc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ic(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Br=null;function t_(e,t,i){if(Br===null){var s=new Map,o=Br=new Map;o.set(i,s)}else o=Br,s=o.get(i),s||(s=new Map,o.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var c=i[o];if(!(c[oa]||c[ot]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(t)||"";d=e+d;var g=s.get(d);g?g.push(c):s.set(d,[c])}}return s}function n_(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function s1(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function i_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function r1(e,t,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var o=jl(s.href),c=t.querySelector(Qa(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Hr.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=c,tt(c);return}c=t.ownerDocument||t,s=$g(s),(o=Jt.get(o))&&jc(s,o),c=c.createElement("link"),tt(c);var d=c;d._p=new Promise(function(g,y){d.onload=g,d.onerror=y}),ht(c,"link",s),i.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Hr.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Bc=0;function o1(e,t){return e.stylesheets&&e.count===0&&Gr(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&Gr(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&Bc===0&&(Bc=62500*q0());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Gr(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Bc?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function Hr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var kr=null;function Gr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,kr=new Map,t.forEach(u1,e),kr=null,Hr.call(e))}function u1(e,t){if(!(t.state.loading&4)){var i=kr.get(e);if(i)var s=i.get(null);else{i=new Map,kr.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var d=o[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),s=d)}s&&i.set(null,s)}o=t.instance,d=o.getAttribute("data-precedence"),c=i.get(d)||s,c===s&&i.set(null,o),i.set(d,o),this.count++,s=Hr.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ka={$$typeof:pe,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function c1(e,t,i,s,o,c,d,g,y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zo(0),this.hiddenUpdates=zo(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function l_(e,t,i,s,o,c,d,g,y,A,O,L){return e=new c1(e,t,i,d,y,A,O,L,g),t=1,c===!0&&(t|=24),c=Lt(3,null,null,t),e.current=c,c.stateNode=e,t=pu(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:s,isDehydrated:i,cache:t},Su(c),e}function a_(e){return e?(e=ml,e):ml}function s_(e,t,i,s,o,c){o=a_(o),s.context===null?s.context=o:s.pendingContext=o,s=Fn(t),s.payload={element:i},c=c===void 0?null:c,c!==null&&(s.callback=c),i=Jn(e,s,t),i!==null&&(At(i,e,t),Na(i,e,t))}function r_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Hc(e,t){r_(e,t),(e=e.alternate)&&r_(e,t)}function o_(e){if(e.tag===13||e.tag===31){var t=Ai(e,67108864);t!==null&&At(t,e,67108864),Hc(e,67108864)}}function u_(e){if(e.tag===13||e.tag===31){var t=Ht();t=Lo(t);var i=Ai(e,t);i!==null&&At(i,e,t),Hc(e,t)}}var qr=!0;function f1(e,t,i,s){var o=R.T;R.T=null;var c=H.p;try{H.p=2,kc(e,t,i,s)}finally{H.p=c,R.T=o}}function h1(e,t,i,s){var o=R.T;R.T=null;var c=H.p;try{H.p=8,kc(e,t,i,s)}finally{H.p=c,R.T=o}}function kc(e,t,i,s){if(qr){var o=Gc(s);if(o===null)xc(e,t,s,Yr,i),f_(e,s);else if(m1(o,e,t,i,s))s.stopPropagation();else if(f_(e,s),t&4&&-1<d1.indexOf(e)){for(;o!==null;){var c=il(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=Ei(c.pendingLanes);if(d!==0){var g=c;for(g.pendingLanes|=2,g.entangledLanes|=2;d;){var y=1<<31-Mt(d);g.entanglements[1]|=y,d&=~y}hn(c),(be&6)===0&&(Nr=te()+500,Ga(0))}}break;case 31:case 13:g=Ai(c,2),g!==null&&At(g,c,2),Ar(),Hc(c,2)}if(c=Gc(s),c===null&&xc(e,t,s,Yr,i),c===o)break;o=c}o!==null&&s.stopPropagation()}else xc(e,t,s,null,i)}}function Gc(e){return e=Yo(e),qc(e)}var Yr=null;function qc(e){if(Yr=null,e=nl(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===31){if(e=m(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Yr=e,null}function c_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_n()){case dt:return 2;case $i:return 8;case el:case Mo:return 32;case bh:return 268435456;default:return 32}default:return 32}}var Yc=!1,ri=null,oi=null,ui=null,Za=new Map,Fa=new Map,ci=[],d1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f_(e,t){switch(e){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":Za.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fa.delete(t.pointerId)}}function Ja(e,t,i,s,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:c,targetContainers:[o]},t!==null&&(t=il(t),t!==null&&o_(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function m1(e,t,i,s,o){switch(t){case"focusin":return ri=Ja(ri,e,t,i,s,o),!0;case"dragenter":return oi=Ja(oi,e,t,i,s,o),!0;case"mouseover":return ui=Ja(ui,e,t,i,s,o),!0;case"pointerover":var c=o.pointerId;return Za.set(c,Ja(Za.get(c)||null,e,t,i,s,o)),!0;case"gotpointercapture":return c=o.pointerId,Fa.set(c,Ja(Fa.get(c)||null,e,t,i,s,o)),!0}return!1}function h_(e){var t=nl(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,xh(e.priority,function(){u_(i)});return}}else if(t===31){if(t=m(i),t!==null){e.blockedOn=t,xh(e.priority,function(){u_(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Gc(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);qo=s,i.target.dispatchEvent(s),qo=null}else return t=il(i),t!==null&&o_(t),e.blockedOn=i,!1;t.shift()}return!0}function d_(e,t,i){Vr(e)&&i.delete(t)}function g1(){Yc=!1,ri!==null&&Vr(ri)&&(ri=null),oi!==null&&Vr(oi)&&(oi=null),ui!==null&&Vr(ui)&&(ui=null),Za.forEach(d_),Fa.forEach(d_)}function Qr(e,t){e.blockedOn===t&&(e.blockedOn=null,Yc||(Yc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,g1)))}var Xr=null;function m_(e){Xr!==e&&(Xr=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Xr===e&&(Xr=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(qc(s||i)===null)continue;break}var c=il(i);c!==null&&(e.splice(t,3),t-=3,Gu(c,{pending:!0,data:o,method:i.method,action:s},s,o))}}))}function Bl(e){function t(y){return Qr(y,e)}ri!==null&&Qr(ri,e),oi!==null&&Qr(oi,e),ui!==null&&Qr(ui,e),Za.forEach(t),Fa.forEach(t);for(var i=0;i<ci.length;i++){var s=ci[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ci.length&&(i=ci[0],i.blockedOn===null);)h_(i),i.blockedOn===null&&ci.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],d=o[St]||null;if(typeof c=="function")d||m_(i);else if(d){var g=null;if(c&&c.hasAttribute("formAction")){if(o=c,d=c[St]||null)g=d.formAction;else if(qc(o)!==null)continue}else g=d.action;typeof g=="function"?i[s+1]=g:(i.splice(s,3),s-=3),m_(i)}}}function g_(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(d){return o=d})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Vc(e){this._internalRoot=e}Kr.prototype.render=Vc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,s=Ht();s_(i,s,e,t,null,null)},Kr.prototype.unmount=Vc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;s_(e.current,2,null,e,null,null),Ar(),t[tl]=null}};function Kr(e){this._internalRoot=e}Kr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nh();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ci.length&&t!==0&&t<ci[i].priority;i++);ci.splice(i,0,e),i===0&&h_(e)}};var __=n.version;if(__!=="19.2.0")throw Error(r(527,__,"19.2.0"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(t),e=e!==null?C(e):null,e=e===null?null:e.stateNode,e};var _1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zr.isDisabled&&Zr.supportsFiber)try{aa=Zr.inject(_1),Rt=Zr}catch{}}return Pa.createRoot=function(e,t){if(!u(e))throw Error(r(299));var i=!1,s="",o=Cm,c=Tm,d=Nm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=l_(e,1,!1,null,null,i,s,null,o,c,d,g_),e[tl]=t.current,Nc(e),new Vc(t)},Pa.hydrateRoot=function(e,t,i){if(!u(e))throw Error(r(299));var s=!1,o="",c=Cm,d=Tm,g=Nm,y=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError),i.formState!==void 0&&(y=i.formState)),t=l_(e,1,!0,t,i??null,s,o,y,c,d,g,g_),t.context=a_(null),i=t.current,s=Ht(),s=Lo(s),o=Fn(s),o.callback=null,Jn(i,o,s),i=s,t.current.lanes=i,ra(t,i),hn(t),e[tl]=t.current,Nc(e),new Kr(t)},Pa.version="19.2.0",Pa}var x_;function A1(){if(x_)return Kc.exports;x_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Kc.exports=x1(),Kc.exports}var w1=A1();const D1=Tp(w1),ff=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],ki=Array(9).fill(null),O1={apiKey:"AIzaSyBoxcajBTYKKeGLDTSOo8L59HvBnS7KXBE",authDomain:"playloop-studios.firebaseapp.com",databaseURL:"https://playloop-studios-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"playloop-studios",storageBucket:"playloop-studios.firebasestorage.app",messagingSenderId:"106333169704",appId:"1:106333169704:web:6d996e5017e1555e216d1d"},hf=a=>{for(const n of ff){const[l,r,u]=n;if(a[l]&&a[l]===a[r]&&a[l]===a[u])return a[l]}return a.includes(null)?null:"draw"},df=(a,n,l)=>{const r=hf(a);if(r==="O")return 10-n;if(r==="X")return n-10;if(r==="draw")return 0;if(l){let u=-1/0;for(let f=0;f<9;f++)if(a[f]===null){a[f]="O";const h=df(a,n+1,!1);a[f]=null,u=Math.max(h,u)}return u}else{let u=1/0;for(let f=0;f<9;f++)if(a[f]===null){a[f]="X";const h=df(a,n+1,!0);a[f]=null,u=Math.min(h,u)}return u}},R1=(a,n)=>{const l=a.map((f,h)=>f===null?h:null).filter(f=>f!==null);if(l.length===0)return-1;if(n==="EASY"){const f=Math.floor(Math.random()*l.length);return l[f]}if(n==="MEDIUM"){for(const h of l){const m=[...a];if(m[h]="O",hf(m)==="O")return h}for(const h of l){const m=[...a];if(m[h]="X",hf(m)==="X")return h}const f=Math.floor(Math.random()*l.length);return l[f]}if(l.length>=8&&a[4]===null)return 4;let r=-1/0,u=-1;for(let f=0;f<9;f++)if(a[f]===null){a[f]="O";const h=df(a,0,!1);a[f]=null,h>r&&(r=h,u=f)}return u!==-1?u:l[0]},M1=()=>{};var A_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I=function(a,n){if(!a)throw Wl(n)},Wl=function(a){return new Error("Firebase Database ("+Np.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=function(a){const n=[];let l=0;for(let r=0;r<a.length;r++){let u=a.charCodeAt(r);u<128?n[l++]=u:u<2048?(n[l++]=u>>6|192,n[l++]=u&63|128):(u&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(a.charCodeAt(++r)&1023),n[l++]=u>>18|240,n[l++]=u>>12&63|128,n[l++]=u>>6&63|128,n[l++]=u&63|128):(n[l++]=u>>12|224,n[l++]=u>>6&63|128,n[l++]=u&63|128)}return n},z1=function(a){const n=[];let l=0,r=0;for(;l<a.length;){const u=a[l++];if(u<128)n[r++]=String.fromCharCode(u);else if(u>191&&u<224){const f=a[l++];n[r++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=a[l++],h=a[l++],m=a[l++],p=((u&7)<<18|(f&63)<<12|(h&63)<<6|m&63)-65536;n[r++]=String.fromCharCode(55296+(p>>10)),n[r++]=String.fromCharCode(56320+(p&1023))}else{const f=a[l++],h=a[l++];n[r++]=String.fromCharCode((u&15)<<12|(f&63)<<6|h&63)}}return n.join("")},If={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,n){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<a.length;u+=3){const f=a[u],h=u+1<a.length,m=h?a[u+1]:0,p=u+2<a.length,_=p?a[u+2]:0,C=f>>2,v=(f&3)<<4|m>>4;let b=(m&15)<<2|_>>6,j=_&63;p||(j=64,h||(b=64)),r.push(l[C],l[v],l[b],l[j])}return r.join("")},encodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(a):this.encodeByteArray(xp(a),n)},decodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(a):z1(this.decodeStringToByteArray(a,n))},decodeStringToByteArray(a,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<a.length;){const f=l[a.charAt(u++)],m=u<a.length?l[a.charAt(u)]:0;++u;const _=u<a.length?l[a.charAt(u)]:64;++u;const v=u<a.length?l[a.charAt(u)]:64;if(++u,f==null||m==null||_==null||v==null)throw new L1;const b=f<<2|m>>4;if(r.push(b),_!==64){const j=m<<4&240|_>>2;if(r.push(j),v!==64){const k=_<<6&192|v;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class L1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ap=function(a){const n=xp(a);return If.encodeByteArray(n,!0)},eo=function(a){return Ap(a).replace(/\./g,"")},mf=function(a){try{return If.decodeString(a,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(a){return wp(void 0,a)}function wp(a,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!j1(l)||(a[l]=wp(a[l],n[l]));return a}function j1(a){return a!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=()=>I1().__FIREBASE_DEFAULTS__,H1=()=>{if(typeof process>"u"||typeof A_>"u")return;const a=A_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},k1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=a&&mf(a[1]);return n&&JSON.parse(n)},Dp=()=>{try{return M1()||B1()||H1()||k1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},G1=a=>{var n,l;return(l=(n=Dp())==null?void 0:n.emulatorHosts)==null?void 0:l[a]},q1=a=>{const n=G1(a);if(!n)return;const l=n.lastIndexOf(":");if(l<=0||l+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(l+1),10);return n[0]==="["?[n.substring(1,l-1),r]:[n.substring(0,l),r]},Op=()=>{var a;return(a=Dp())==null?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,r)=>{l?this.reject(l):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Y1(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(a,n){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},r=n||"demo-project",u=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...a};return[eo(JSON.stringify(l)),eo(JSON.stringify(h)),""].join(".")}const as={};function Q1(){const a={prod:[],emulator:[]};for(const n of Object.keys(as))as[n]?a.emulator.push(n):a.prod.push(n);return a}function X1(a){let n=document.getElementById(a),l=!1;return n||(n=document.createElement("div"),n.setAttribute("id",a),l=!0),{created:l,element:n}}let w_=!1;function K1(a,n){if(typeof window>"u"||typeof document>"u"||!Bf(window.location.host)||as[a]===n||as[a]||w_)return;as[a]=n;function l(b){return`__firebase__banner__${b}`}const r="__firebase__banner",f=Q1().prod.length>0;function h(){const b=document.getElementById(r);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,j){b.setAttribute("width","24"),b.setAttribute("id",j),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function _(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{w_=!0,h()},b}function C(b,j){b.setAttribute("id",j),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=X1(r),j=l("text"),k=document.getElementById(j)||document.createElement("span"),Q=l("learnmore"),ne=document.getElementById(Q)||document.createElement("a"),Se=l("preprendIcon"),Be=document.getElementById(Se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const pe=b.element;m(pe),C(ne,Q);const ye=_();p(Be,Se),pe.append(Be,k,ne,ye),document.body.appendChild(pe)}f?(k.innerText="Preview backend disconnected.",Be.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Be.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Z1())}function F1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function J1(){return Np.NODE_ADMIN===!0}function W1(){try{return typeof indexedDB=="object"}catch{return!1}}function P1(){return new Promise((a,n)=>{try{let l=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),l||self.indexedDB.deleteDatabase(r),a(!0)},u.onupgradeneeded=()=>{l=!1},u.onerror=()=>{var f;n(((f=u.error)==null?void 0:f.message)||"")}}catch(l){n(l)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="FirebaseError";class Cs extends Error{constructor(n,l,r){super(l),this.code=n,this.customData=r,this.name=$1,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mp.prototype.create)}}class Mp{constructor(n,l,r){this.service=n,this.serviceName=l,this.errors=r}create(n,...l){const r=l[0]||{},u=`${this.service}/${n}`,f=this.errors[n],h=f?eb(f,r):"Error",m=`${this.serviceName}: ${h} (${u}).`;return new Cs(u,m,r)}}function eb(a,n){return a.replace(tb,(l,r)=>{const u=n[r];return u!=null?String(u):`<${r}?>`})}const tb=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(a){return JSON.parse(a)}function $e(a){return JSON.stringify(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=function(a){let n={},l={},r={},u="";try{const f=a.split(".");n=fs(mf(f[0])||""),l=fs(mf(f[1])||""),u=f[2],r=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:r,signature:u}},nb=function(a){const n=zp(a),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},ib=function(a){const n=zp(a).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function Vl(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]}function gf(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}function to(a,n,l){const r={};for(const u in a)Object.prototype.hasOwnProperty.call(a,u)&&(r[u]=n.call(l,a[u],u,a));return r}function no(a,n){if(a===n)return!0;const l=Object.keys(a),r=Object.keys(n);for(const u of l){if(!r.includes(u))return!1;const f=a[u],h=n[u];if(D_(f)&&D_(h)){if(!no(f,h))return!1}else if(f!==h)return!1}for(const u of r)if(!l.includes(u))return!1;return!0}function D_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(a){const n=[];for(const[l,r]of Object.entries(a))Array.isArray(r)?r.forEach(u=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(u))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const r=this.W_;if(typeof n=="string")for(let v=0;v<16;v++)r[v]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let v=0;v<16;v++)r[v]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let v=16;v<80;v++){const b=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(b<<1|b>>>31)&4294967295}let u=this.chain_[0],f=this.chain_[1],h=this.chain_[2],m=this.chain_[3],p=this.chain_[4],_,C;for(let v=0;v<80;v++){v<40?v<20?(_=m^f&(h^m),C=1518500249):(_=f^h^m,C=1859775393):v<60?(_=f&h|m&(f|h),C=2400959708):(_=f^h^m,C=3395469782);const b=(u<<5|u>>>27)+_+p+C+r[v]&4294967295;p=m,m=h,h=(f<<30|f>>>2)&4294967295,f=u,u=b}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const r=l-this.blockSize;let u=0;const f=this.buf_;let h=this.inbuf_;for(;u<l;){if(h===0)for(;u<=r;)this.compress_(n,u),u+=this.blockSize;if(typeof n=="string"){for(;u<l;)if(f[h]=n.charCodeAt(u),++h,++u,h===this.blockSize){this.compress_(f),h=0;break}}else for(;u<l;)if(f[h]=n[u],++h,++u,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=l&255,l/=256;this.compress_(this.buf_);let r=0;for(let u=0;u<5;u++)for(let f=24;f>=0;f-=8)n[r]=this.chain_[u]>>f&255,++r;return n}}function Ql(a,n){return`${a} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=function(a){const n=[];let l=0;for(let r=0;r<a.length;r++){let u=a.charCodeAt(r);if(u>=55296&&u<=56319){const f=u-55296;r++,I(r<a.length,"Surrogate pair missing trail surrogate.");const h=a.charCodeAt(r)-56320;u=65536+(f<<10)+h}u<128?n[l++]=u:u<2048?(n[l++]=u>>6|192,n[l++]=u&63|128):u<65536?(n[l++]=u>>12|224,n[l++]=u>>6&63|128,n[l++]=u&63|128):(n[l++]=u>>18|240,n[l++]=u>>12&63|128,n[l++]=u>>6&63|128,n[l++]=u&63|128)}return n},yo=function(a){let n=0;for(let l=0;l<a.length;l++){const r=a.charCodeAt(l);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,l++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(a){return a&&a._delegate?a._delegate:a}class hs{constructor(n,l,r){this.name=n,this.instanceFactory=l,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const r=new dn;if(this.instancesDeferred.set(l,r),this.isInitialized(l)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:l});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){const l=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),r=(n==null?void 0:n.optional)??!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(u){if(r)return null;throw u}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(ub(n))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(const[l,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(l);try{const f=this.getOrInitializeService({instanceIdentifier:u});r.resolve(f)}catch{}}}}clearInstance(n=Gi){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Gi){return this.instances.has(n)}getOptions(n=Gi){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:l});for(const[f,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(f);r===m&&h.resolve(u)}return u}onInit(n,l){const r=this.normalizeInstanceIdentifier(l),u=this.onInitCallbacks.get(r)??new Set;u.add(n),this.onInitCallbacks.set(r,u);const f=this.instances.get(r);return f&&n(f,r),()=>{u.delete(n)}}invokeOnInitCallbacks(n,l){const r=this.onInitCallbacks.get(l);if(r)for(const u of r)try{u(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ob(n),options:l}),this.instances.set(n,r),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=Gi){return this.component?this.component.multipleInstances?n:Gi:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ob(a){return a===Gi?void 0:a}function ub(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new rb(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Me||(Me={}));const fb={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},hb=Me.INFO,db={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},mb=(a,n,...l)=>{if(n<a.logLevel)return;const r=new Date().toISOString(),u=db[n];if(u)console[u](`[${r}]  ${a.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Lp{constructor(n){this.name=n,this._logLevel=hb,this._logHandler=mb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Me))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?fb[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...n),this._logHandler(this,Me.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...n),this._logHandler(this,Me.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...n),this._logHandler(this,Me.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...n),this._logHandler(this,Me.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...n),this._logHandler(this,Me.ERROR,...n)}}const gb=(a,n)=>n.some(l=>a instanceof l);let O_,R_;function _b(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pb(){return R_||(R_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Up=new WeakMap,_f=new WeakMap,jp=new WeakMap,Wc=new WeakMap,Hf=new WeakMap;function yb(a){const n=new Promise((l,r)=>{const u=()=>{a.removeEventListener("success",f),a.removeEventListener("error",h)},f=()=>{l(mi(a.result)),u()},h=()=>{r(a.error),u()};a.addEventListener("success",f),a.addEventListener("error",h)});return n.then(l=>{l instanceof IDBCursor&&Up.set(l,a)}).catch(()=>{}),Hf.set(n,a),n}function vb(a){if(_f.has(a))return;const n=new Promise((l,r)=>{const u=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",h),a.removeEventListener("abort",h)},f=()=>{l(),u()},h=()=>{r(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",f),a.addEventListener("error",h),a.addEventListener("abort",h)});_f.set(a,n)}let pf={get(a,n,l){if(a instanceof IDBTransaction){if(n==="done")return _f.get(a);if(n==="objectStoreNames")return a.objectStoreNames||jp.get(a);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return mi(a[n])},set(a,n,l){return a[n]=l,!0},has(a,n){return a instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in a}};function bb(a){pf=a(pf)}function Sb(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const r=a.call(Pc(this),n,...l);return jp.set(r,n.sort?n.sort():[n]),mi(r)}:pb().includes(a)?function(...n){return a.apply(Pc(this),n),mi(Up.get(this))}:function(...n){return mi(a.apply(Pc(this),n))}}function Eb(a){return typeof a=="function"?Sb(a):(a instanceof IDBTransaction&&vb(a),gb(a,_b())?new Proxy(a,pf):a)}function mi(a){if(a instanceof IDBRequest)return yb(a);if(Wc.has(a))return Wc.get(a);const n=Eb(a);return n!==a&&(Wc.set(a,n),Hf.set(n,a)),n}const Pc=a=>Hf.get(a);function Cb(a,n,{blocked:l,upgrade:r,blocking:u,terminated:f}={}){const h=indexedDB.open(a,n),m=mi(h);return r&&h.addEventListener("upgradeneeded",p=>{r(mi(h.result),p.oldVersion,p.newVersion,mi(h.transaction),p)}),l&&h.addEventListener("blocked",p=>l(p.oldVersion,p.newVersion,p)),m.then(p=>{f&&p.addEventListener("close",()=>f()),u&&p.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const Tb=["get","getKey","getAll","getAllKeys","count"],Nb=["put","add","delete","clear"],$c=new Map;function M_(a,n){if(!(a instanceof IDBDatabase&&!(n in a)&&typeof n=="string"))return;if($c.get(n))return $c.get(n);const l=n.replace(/FromIndex$/,""),r=n!==l,u=Nb.includes(l);if(!(l in(r?IDBIndex:IDBObjectStore).prototype)||!(u||Tb.includes(l)))return;const f=async function(h,...m){const p=this.transaction(h,u?"readwrite":"readonly");let _=p.store;return r&&(_=_.index(m.shift())),(await Promise.all([_[l](...m),u&&p.done]))[0]};return $c.set(n,f),f}bb(a=>({...a,get:(n,l,r)=>M_(n,l)||a.get(n,l,r),has:(n,l)=>!!M_(n,l)||a.has(n,l)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(Ab(l)){const r=l.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(l=>l).join(" ")}}function Ab(a){const n=a.getComponent();return(n==null?void 0:n.type)==="VERSION"}const yf="@firebase/app",z_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In=new Lp("@firebase/app"),wb="@firebase/app-compat",Db="@firebase/analytics-compat",Ob="@firebase/analytics",Rb="@firebase/app-check-compat",Mb="@firebase/app-check",zb="@firebase/auth",Lb="@firebase/auth-compat",Ub="@firebase/database",jb="@firebase/data-connect",Ib="@firebase/database-compat",Bb="@firebase/functions",Hb="@firebase/functions-compat",kb="@firebase/installations",Gb="@firebase/installations-compat",qb="@firebase/messaging",Yb="@firebase/messaging-compat",Vb="@firebase/performance",Qb="@firebase/performance-compat",Xb="@firebase/remote-config",Kb="@firebase/remote-config-compat",Zb="@firebase/storage",Fb="@firebase/storage-compat",Jb="@firebase/firestore",Wb="@firebase/ai",Pb="@firebase/firestore-compat",$b="firebase",eS="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="[DEFAULT]",tS={[yf]:"fire-core",[wb]:"fire-core-compat",[Ob]:"fire-analytics",[Db]:"fire-analytics-compat",[Mb]:"fire-app-check",[Rb]:"fire-app-check-compat",[zb]:"fire-auth",[Lb]:"fire-auth-compat",[Ub]:"fire-rtdb",[jb]:"fire-data-connect",[Ib]:"fire-rtdb-compat",[Bb]:"fire-fn",[Hb]:"fire-fn-compat",[kb]:"fire-iid",[Gb]:"fire-iid-compat",[qb]:"fire-fcm",[Yb]:"fire-fcm-compat",[Vb]:"fire-perf",[Qb]:"fire-perf-compat",[Xb]:"fire-rc",[Kb]:"fire-rc-compat",[Zb]:"fire-gcs",[Fb]:"fire-gcs-compat",[Jb]:"fire-fst",[Pb]:"fire-fst-compat",[Wb]:"fire-vertex","fire-js":"fire-js",[$b]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Map,nS=new Map,bf=new Map;function L_(a,n){try{a.container.addComponent(n)}catch(l){In.debug(`Component ${n.name} failed to register with FirebaseApp ${a.name}`,l)}}function io(a){const n=a.name;if(bf.has(n))return In.debug(`There were multiple attempts to register component ${n}.`),!1;bf.set(n,a);for(const l of ds.values())L_(l,a);for(const l of nS.values())L_(l,a);return!0}function iS(a,n){const l=a.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),a.container.getProvider(n)}function lS(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new Mp("app","Firebase",aS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(n,l,r){this._isDeleted=!1,this._options={...n},this._config={...l},this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=eS;function Ip(a,n={}){let l=a;typeof n!="object"&&(n={name:n});const r={name:vf,automaticDataCollectionEnabled:!0,...n},u=r.name;if(typeof u!="string"||!u)throw gi.create("bad-app-name",{appName:String(u)});if(l||(l=Op()),!l)throw gi.create("no-options");const f=ds.get(u);if(f){if(no(l,f.options)&&no(r,f.config))return f;throw gi.create("duplicate-app",{appName:u})}const h=new cb(u);for(const p of bf.values())h.addComponent(p);const m=new sS(l,r,h);return ds.set(u,m),m}function oS(a=vf){const n=ds.get(a);if(!n&&a===vf&&Op())return Ip();if(!n)throw gi.create("no-app",{appName:a});return n}function U_(){return Array.from(ds.values())}function Gl(a,n,l){let r=tS[a]??a;l&&(r+=`-${l}`);const u=r.match(/\s|\//),f=n.match(/\s|\//);if(u||f){const h=[`Unable to register library "${r}" with version "${n}":`];u&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),u&&f&&h.push("and"),f&&h.push(`version name "${n}" contains illegal characters (whitespace or "/")`),In.warn(h.join(" "));return}io(new hs(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="firebase-heartbeat-database",cS=1,ms="firebase-heartbeat-store";let ef=null;function Bp(){return ef||(ef=Cb(uS,cS,{upgrade:(a,n)=>{switch(n){case 0:try{a.createObjectStore(ms)}catch(l){console.warn(l)}}}}).catch(a=>{throw gi.create("idb-open",{originalErrorMessage:a.message})})),ef}async function fS(a){try{const l=(await Bp()).transaction(ms),r=await l.objectStore(ms).get(Hp(a));return await l.done,r}catch(n){if(n instanceof Cs)In.warn(n.message);else{const l=gi.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});In.warn(l.message)}}}async function j_(a,n){try{const r=(await Bp()).transaction(ms,"readwrite");await r.objectStore(ms).put(n,Hp(a)),await r.done}catch(l){if(l instanceof Cs)In.warn(l.message);else{const r=gi.create("idb-set",{originalErrorMessage:l==null?void 0:l.message});In.warn(r.message)}}}function Hp(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=1024,dS=30;class mS{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new _S(l),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var n,l;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=I_();if(((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((l=this._heartbeatsCache)==null?void 0:l.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(h=>h.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:u}),this._heartbeatsCache.heartbeats.length>dS){const h=pS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){In.warn(r)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const l=I_(),{heartbeatsToSend:r,unsentEntries:u}=gS(this._heartbeatsCache.heartbeats),f=eo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=l,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(l){return In.warn(l),""}}}function I_(){return new Date().toISOString().substring(0,10)}function gS(a,n=hS){const l=[];let r=a.slice();for(const u of a){const f=l.find(h=>h.agent===u.agent);if(f){if(f.dates.push(u.date),B_(l)>n){f.dates.pop();break}}else if(l.push({agent:u.agent,dates:[u.date]}),B_(l)>n){l.pop();break}r=r.slice(1)}return{heartbeatsToSend:l,unsentEntries:r}}class _S{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W1()?P1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await fS(this.app);return l!=null&&l.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return j_(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return j_(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function B_(a){return eo(JSON.stringify({version:2,heartbeats:a})).length}function pS(a){if(a.length===0)return-1;let n=0,l=a[0].date;for(let r=1;r<a.length;r++)a[r].date<l&&(l=a[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(a){io(new hs("platform-logger",n=>new xb(n),"PRIVATE")),io(new hs("heartbeat",n=>new mS(n),"PRIVATE")),Gl(yf,z_,a),Gl(yf,z_,"esm2020"),Gl("fire-js","")}yS("");var vS="firebase",bS="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gl(vS,bS,"app");var H_={};const k_="@firebase/database",G_="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kp="";function SS(a){kp=a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),$e(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:fs(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return mn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const n=window[a];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new ES(n)}}catch{}return new CS},Yi=Gp("localStorage"),TS=Gp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=new Lp("@firebase/database"),NS=(function(){let a=1;return function(){return a++}})(),qp=function(a){const n=sb(a),l=new ab;l.update(n);const r=l.digest();return If.encodeByteArray(r)},Ts=function(...a){let n="";for(let l=0;l<a.length;l++){const r=a[l];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=Ts.apply(null,r):typeof r=="object"?n+=$e(r):n+=r,n+=" "}return n};let ss=null,q_=!0;const xS=function(a,n){I(!0,"Can't turn on custom loggers persistently."),ql.logLevel=Me.VERBOSE,ss=ql.log.bind(ql)},at=function(...a){if(q_===!0&&(q_=!1,ss===null&&TS.get("logging_enabled")===!0&&xS()),ss){const n=Ts.apply(null,a);ss(n)}},Ns=function(a){return function(...n){at(a,...n)}},Sf=function(...a){const n="FIREBASE INTERNAL ERROR: "+Ts(...a);ql.error(n)},Bn=function(...a){const n=`FIREBASE FATAL ERROR: ${Ts(...a)}`;throw ql.error(n),new Error(n)},vt=function(...a){const n="FIREBASE WARNING: "+Ts(...a);ql.warn(n)},AS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},vo=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},wS=function(a){if(document.readyState==="complete")a();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},Xl="[MIN_NAME]",Vi="[MAX_NAME]",Zi=function(a,n){if(a===n)return 0;if(a===Xl||n===Vi)return-1;if(n===Xl||a===Vi)return 1;{const l=Y_(a),r=Y_(n);return l!==null?r!==null?l-r===0?a.length-n.length:l-r:-1:r!==null?1:a<n?-1:1}},DS=function(a,n){return a===n?0:a<n?-1:1},$a=function(a,n){if(n&&a in n)return n[a];throw new Error("Missing required key ("+a+") in object: "+$e(n))},kf=function(a){if(typeof a!="object"||a===null)return $e(a);const n=[];for(const r in a)n.push(r);n.sort();let l="{";for(let r=0;r<n.length;r++)r!==0&&(l+=","),l+=$e(n[r]),l+=":",l+=kf(a[n[r]]);return l+="}",l},Yp=function(a,n){const l=a.length;if(l<=n)return[a];const r=[];for(let u=0;u<l;u+=n)u+n>l?r.push(a.substring(u,l)):r.push(a.substring(u,u+n));return r};function st(a,n){for(const l in a)a.hasOwnProperty(l)&&n(l,a[l])}const Vp=function(a){I(!vo(a),"Invalid JSON number");const n=11,l=52,r=(1<<n-1)-1;let u,f,h,m,p;a===0?(f=0,h=0,u=1/a===-1/0?1:0):(u=a<0,a=Math.abs(a),a>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(a)/Math.LN2),r),f=m+r,h=Math.round(a*Math.pow(2,l-m)-Math.pow(2,l))):(f=0,h=Math.round(a/Math.pow(2,1-r-l))));const _=[];for(p=l;p;p-=1)_.push(h%2?1:0),h=Math.floor(h/2);for(p=n;p;p-=1)_.push(f%2?1:0),f=Math.floor(f/2);_.push(u?1:0),_.reverse();const C=_.join("");let v="";for(p=0;p<64;p+=8){let b=parseInt(C.substr(p,8),2).toString(16);b.length===1&&(b="0"+b),v=v+b}return v.toLowerCase()},OS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},RS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function MS(a,n){let l="Unknown Error";a==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?l="Client doesn't have permission to access the desired data.":a==="unavailable"&&(l="The service is unavailable");const r=new Error(a+" at "+n._path.toString()+": "+l);return r.code=a.toUpperCase(),r}const zS=new RegExp("^-?(0*)\\d{1,10}$"),LS=-2147483648,US=2147483647,Y_=function(a){if(zS.test(a)){const n=Number(a);if(n>=LS&&n<=US)return n}return null},Pl=function(a){try{a()}catch(n){setTimeout(()=>{const l=n.stack||"";throw vt("Exception was thrown by user callback.",l),n},Math.floor(0))}},jS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},rs=function(a,n){const l=setTimeout(a,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(n,l){this.appCheckProvider=l,this.appName=n.name,lS(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=l==null?void 0:l.getImmediate({optional:!0}),this.appCheck||l==null||l.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((l,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){var l;(l=this.appCheckProvider)==null||l.get().then(r=>r.addTokenListener(n))}notifyForInvalidToken(){vt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(n,l,r){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(u=>this.auth_=u)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(at("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vt(n)}}class $r{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}$r.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="5",Qp="v",Xp="s",Kp="r",Zp="f",Fp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Jp="ls",Wp="p",Ef="ac",Pp="websocket",$p="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(n,l,r,u,f=!1,h="",m=!1,p=!1,_=null){this.secure=l,this.namespace=r,this.webSocketOnly=u,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=p,this.emulatorOptions=_,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yi.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Yi.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function HS(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function ty(a,n,l){I(typeof n=="string","typeof type must == string"),I(typeof l=="object","typeof params must == object");let r;if(n===Pp)r=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(n===$p)r=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);HS(a)&&(l.ns=a.namespace);const u=[];return st(l,(f,h)=>{u.push(f+"="+h)}),r+u.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.counters_={}}incrementCounter(n,l=1){mn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return U1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf={},nf={};function qf(a){const n=a.toString();return tf[n]||(tf[n]=new kS),tf[n]}function GS(a,n){const l=a.toString();return nf[l]||(nf[l]=n()),nf[l]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<r.length;++u)r[u]&&Pl(()=>{this.onMessage_(r[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="start",YS="close",VS="pLPCommand",QS="pRTLPCB",ny="id",iy="pw",ly="ser",XS="cb",KS="seg",ZS="ts",FS="d",JS="dframe",ay=1870,sy=30,WS=ay-sy,PS=25e3,$S=3e4;class kl{constructor(n,l,r,u,f,h,m){this.connId=n,this.repoInfo=l,this.applicationId=r,this.appCheckToken=u,this.authToken=f,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ns(n),this.stats_=qf(l),this.urlFn=p=>(this.appCheckToken&&(p[Ef]=this.appCheckToken),ty(l,$p,p))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new qS(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor($S)),wS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Yf((...f)=>{const[h,m,p,_,C]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===V_)this.id=m,this.password=p;else if(h===YS)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,m]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const r={};r[V_]="t",r[ly]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[XS]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Qp]=Gf,this.transportSessionId&&(r[Xp]=this.transportSessionId),this.lastSessionId&&(r[Jp]=this.lastSessionId),this.applicationId&&(r[Wp]=this.applicationId),this.appCheckToken&&(r[Ef]=this.appCheckToken),typeof location<"u"&&location.hostname&&Fp.test(location.hostname)&&(r[Kp]=Zp);const u=this.urlFn(r);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){kl.forceAllow_=!0}static forceDisallow(){kl.forceDisallow_=!0}static isAvailable(){return kl.forceAllow_?!0:!kl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!OS()&&!RS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=$e(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=Ap(l),u=Yp(r,WS);for(let f=0;f<u.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[f]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const r={};r[JS]="t",r[ny]=n,r[iy]=l,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=$e(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class Yf{constructor(n,l,r,u){this.onDisconnect=r,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=NS(),window[VS+this.uniqueCallbackIdentifier]=n,window[QS+this.uniqueCallbackIdentifier]=l,this.myIFrame=Yf.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){at("frame writing exception"),m.stack&&at(m.stack),at(m)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||at("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[ny]=this.myID,n[iy]=this.myPW,n[ly]=this.currentSerial;let l=this.urlFn(n),r="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+sy+r.length<=ay;){const h=this.pendingSegs.shift();r=r+"&"+KS+u+"="+h.seg+"&"+ZS+u+"="+h.ts+"&"+FS+u+"="+h.d,u++}return l=l+r,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,r){this.pendingSegs.push({seg:n,ts:l,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const r=()=>{this.outstandingRequests.delete(l),this.newRequest_()},u=setTimeout(r,Math.floor(PS)),f=()=>{clearTimeout(u),r()};this.addTag(n,f)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const u=r.readyState;(!u||u==="loaded"||u==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),l())},r.onerror=()=>{at("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=16384,tE=45e3;let lo=null;typeof MozWebSocket<"u"?lo=MozWebSocket:typeof WebSocket<"u"&&(lo=WebSocket);class an{constructor(n,l,r,u,f,h,m){this.connId=n,this.applicationId=r,this.appCheckToken=u,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ns(this.connId),this.stats_=qf(l),this.connURL=an.connectionURL_(l,h,m,u,r),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,r,u,f){const h={};return h[Qp]=Gf,typeof location<"u"&&location.hostname&&Fp.test(location.hostname)&&(h[Kp]=Zp),l&&(h[Xp]=l),r&&(h[Jp]=r),u&&(h[Ef]=u),f&&(h[Wp]=f),ty(n,Pp,h)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yi.set("previous_websocket_failure",!0);try{let r;J1(),this.mySock=new lo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){an.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(l);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&lo!==null&&!an.forceDisallow_}static previouslyFailed(){return Yi.isInMemoryStorage||Yi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Yi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const r=fs(l);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(I(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const r=this.extractFrameCount_(l);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const l=$e(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=Yp(l,eE);r.length>1&&this.sendString_(String(r.length));for(let u=0;u<r.length;u++)this.sendString_(r[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(tE))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}an.responsesRequiredToBeHealthy=2;an.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{static get ALL_TRANSPORTS(){return[kl,an]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const l=an&&an.isAvailable();let r=l&&!an.previouslyFailed();if(n.webSocketOnly&&(l||vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[an];else{const u=this.transports_=[];for(const f of gs.ALL_TRANSPORTS)f&&f.isAvailable()&&u.push(f);gs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}gs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=6e4,iE=5e3,lE=10*1024,aE=100*1024,lf="t",Q_="d",sE="s",X_="r",rE="e",K_="o",Z_="a",F_="n",J_="p",oE="h";class uE{constructor(n,l,r,u,f,h,m,p,_,C){this.id=n,this.repoInfo_=l,this.applicationId_=r,this.appCheckToken_=u,this.authToken_=f,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=C,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ns("c:"+this.id+":"),this.transportManager_=new gs(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,r)},Math.floor(0));const u=n.healthyTimeout||0;u>0&&(this.healthyTimeout_=rs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>aE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>lE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(lf in n){const l=n[lf];l===Z_?this.upgradeIfSecondaryHealthy_():l===X_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===K_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=$a("t",n),r=$a("d",n);if(l==="c")this.onSecondaryControl_(r);else if(l==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:J_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Z_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:F_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=$a("t",n),r=$a("d",n);l==="c"?this.onControl_(r):l==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=$a(lf,n);if(Q_ in n){const r=n[Q_];if(l===oE){const u={...r};this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(l===F_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===sE?this.onConnectionShutdown_(r):l===X_?this.onReset_(r):l===rE?Sf("Server Error: "+r):l===K_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Sf("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,r=n.v,u=n.h;this.sessionId=n.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),Gf!==r&&vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,r),rs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(nE))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(iE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:J_,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{put(n,l,r,u){}merge(n,l,r,u){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,r){}onDisconnectMerge(n,l,r){}onDisconnectCancel(n,l){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(n){this.allowedEvents_=n,this.listeners_={},I(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let u=0;u<r.length;u++)r[u].callback.apply(r[u].context,l)}}on(n,l,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:r});const u=this.getInitialEvent(n);u&&l.apply(r,u)}off(n,l,r){this.validateEventType_(n);const u=this.listeners_[n]||[];for(let f=0;f<u.length;f++)if(u[f].callback===l&&(!r||r===u[f].context)){u.splice(f,1);return}}validateEventType_(n){I(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends oy{static getInstance(){return new ao}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Rp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return I(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=32,P_=768;class Ne{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let r=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[r]=this.pieces_[u],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function _e(){return new Ne("")}function le(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function yi(a){return a.pieces_.length-a.pieceNum_}function Oe(a){let n=a.pieceNum_;return n<a.pieces_.length&&n++,new Ne(a.pieces_,n)}function Vf(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function cE(a){let n="";for(let l=a.pieceNum_;l<a.pieces_.length;l++)a.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(a.pieces_[l])));return n||"/"}function _s(a,n=0){return a.pieces_.slice(a.pieceNum_+n)}function uy(a){if(a.pieceNum_>=a.pieces_.length)return null;const n=[];for(let l=a.pieceNum_;l<a.pieces_.length-1;l++)n.push(a.pieces_[l]);return new Ne(n,0)}function He(a,n){const l=[];for(let r=a.pieceNum_;r<a.pieces_.length;r++)l.push(a.pieces_[r]);if(n instanceof Ne)for(let r=n.pieceNum_;r<n.pieces_.length;r++)l.push(n.pieces_[r]);else{const r=n.split("/");for(let u=0;u<r.length;u++)r[u].length>0&&l.push(r[u])}return new Ne(l,0)}function ae(a){return a.pieceNum_>=a.pieces_.length}function yt(a,n){const l=le(a),r=le(n);if(l===null)return n;if(l===r)return yt(Oe(a),Oe(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+a+")")}function fE(a,n){const l=_s(a,0),r=_s(n,0);for(let u=0;u<l.length&&u<r.length;u++){const f=Zi(l[u],r[u]);if(f!==0)return f}return l.length===r.length?0:l.length<r.length?-1:1}function Qf(a,n){if(yi(a)!==yi(n))return!1;for(let l=a.pieceNum_,r=n.pieceNum_;l<=a.pieces_.length;l++,r++)if(a.pieces_[l]!==n.pieces_[r])return!1;return!0}function Wt(a,n){let l=a.pieceNum_,r=n.pieceNum_;if(yi(a)>yi(n))return!1;for(;l<a.pieces_.length;){if(a.pieces_[l]!==n.pieces_[r])return!1;++l,++r}return!0}class hE{constructor(n,l){this.errorPrefix_=l,this.parts_=_s(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=yo(this.parts_[r]);cy(this)}}function dE(a,n){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(n),a.byteLength_+=yo(n),cy(a)}function mE(a){const n=a.parts_.pop();a.byteLength_-=yo(n),a.parts_.length>0&&(a.byteLength_-=1)}function cy(a){if(a.byteLength_>P_)throw new Error(a.errorPrefix_+"has a key path longer than "+P_+" bytes ("+a.byteLength_+").");if(a.parts_.length>W_)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+W_+") or object contains a cycle "+qi(a))}function qi(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf extends oy{static getInstance(){return new Xf}constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return I(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=1e3,gE=300*1e3,$_=30*1e3,_E=1.3,pE=3e4,yE="server_kill",ep=3;class jn extends ry{constructor(n,l,r,u,f,h,m,p){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=r,this.onConnectStatus_=u,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=p,this.id=jn.nextPersistentConnectionId_++,this.log_=Ns("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=es,this.maxReconnectDelay_=gE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Xf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&ao.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,r){const u=++this.requestNumber_,f={r:u,a:n,b:l};this.log_($e(f)),I(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),r&&(this.requestCBHash_[u]=r)}get(n){this.initConnection_();const l=new dn,u={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?l.resolve(m):l.reject(m)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),l.promise}listen(n,l,r,u){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),I(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),I(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const m={onComplete:u,hashFn:l,query:n,tag:r};this.listens.get(h).set(f,m),this.connected_&&this.sendListen_(m)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(r)})}sendListen_(n){const l=n.query,r=l._path.toString(),u=l._queryIdentifier;this.log_("Listen on "+r+" for "+u);const f={p:r},h="q";n.tag&&(f.q=l._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,m=>{const p=m.d,_=m.s;jn.warnOnListenWarnings_(p,l),(this.listens.get(r)&&this.listens.get(r).get(u))===n&&(this.log_("listen response",m),_!=="ok"&&this.removeListen_(r,u),n.onComplete&&n.onComplete(_,p))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&mn(n,"w")){const r=Vl(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const u='".indexOn": "'+l._queryParams.getIndex().toString()+'"',f=l._path.toString();vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||ib(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=$_)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=nb(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(l,r,u=>{const f=u.s,h=u.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,r=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,r)})}unlisten(n,l){const r=n._path.toString(),u=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+u),I(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,u)&&this.connected_&&this.sendUnlisten_(r,u,n._queryObject,l)}sendUnlisten_(n,l,r,u){this.log_("Unlisten on "+n+" for "+l);const f={p:n},h="n";u&&(f.q=r,f.t=u),this.sendRequest(h,f)}onDisconnectPut(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:r})}onDisconnectMerge(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:r})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,r,u){const f={p:l,d:r};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{u&&setTimeout(()=>{u(h.s,h.d)},Math.floor(0))})}put(n,l,r,u){this.putInternal("p",n,l,r,u)}merge(n,l,r,u){this.putInternal("m",n,l,r,u)}putInternal(n,l,r,u,f){this.initConnection_();const h={p:l,d:r};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:u}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,u=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,r,f=>{this.log_(l+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(f.s,f.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,r=>{if(r.s!=="ok"){const f=r.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+$e(n));const l=n.r,r=this.requestCBHash_[l];r&&(delete this.requestCBHash_[l],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):Sf("Unrecognized action received from server: "+$e(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){I(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=es,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=es,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>pE&&(this.reconnectDelay_=es),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*_E)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+jn.nextConnectionId_++,f=this.lastSessionId;let h=!1,m=null;const p=function(){m?m.close():(h=!0,r())},_=function(v){I(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(v)};this.realtime_={close:p,sendRequest:_};const C=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,b]=await Promise.all([this.authTokenProvider_.getToken(C),this.appCheckTokenProvider_.getToken(C)]);h?at("getToken() completed but was canceled"):(at("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=b&&b.token,m=new uE(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,r,j=>{vt(j+" ("+this.repoInfo_.toString()+")"),this.interrupt(yE)},f))}catch(v){this.log_("Failed to get token: "+v),h||(this.repoInfo_.nodeAdmin&&vt(v),p())}}}interrupt(n){at("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){at("Resuming connection for reason: "+n),delete this.interruptReasons_[n],gf(this.interruptReasons_)&&(this.reconnectDelay_=es,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let r;l?r=l.map(f=>kf(f)).join("$"):r="default";const u=this.removeListen_(n,r);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(n,l){const r=new Ne(n).toString();let u;if(this.listens.has(r)){const f=this.listens.get(r);u=f.get(l),f.delete(l),f.size===0&&this.listens.delete(r)}else u=void 0;return u}onAuthRevoked_(n,l){at("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ep&&(this.reconnectDelay_=$_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){at("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ep&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+kp.replace(/\./g,"-")]=1,Rp()?n["framework.cordova"]=1:F1()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=ao.getInstance().currentlyOnline();return gf(this.interruptReasons_)&&n}}jn.nextPersistentConnectionId_=0;jn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new se(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const r=new se(Xl,n),u=new se(Xl,l);return this.compare(r,u)!==0}minPost(){return se.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fr;class fy extends bo{static get __EMPTY_NODE(){return Fr}static set __EMPTY_NODE(n){Fr=n}compare(n,l){return Zi(n.name,l.name)}isDefinedOn(n){throw Wl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return se.MIN}maxPost(){return new se(Vi,Fr)}makePost(n,l){return I(typeof n=="string","KeyIndex indexValue must always be a string."),new se(n,Fr)}toString(){return".key"}}const Yl=new fy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(n,l,r,u,f=null){this.isReverse_=u,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=l?r(n.key,l):1,u&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class lt{constructor(n,l,r,u,f){this.key=n,this.value=l,this.color=r??lt.RED,this.left=u??wt.EMPTY_NODE,this.right=f??wt.EMPTY_NODE}copy(n,l,r,u,f){return new lt(n??this.key,l??this.value,r??this.color,u??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,r){let u=this;const f=r(n,u.key);return f<0?u=u.copy(null,null,null,u.left.insert(n,l,r),null):f===0?u=u.copy(null,l,null,null,null):u=u.copy(null,null,null,null,u.right.insert(n,l,r)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return wt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let r,u;if(r=this,l(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,l),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),l(n,r.key)===0){if(r.right.isEmpty())return wt.EMPTY_NODE;u=r.right.min_(),r=r.copy(u.key,u.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,l))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}lt.RED=!0;lt.BLACK=!1;class vE{copy(n,l,r,u,f){return this}insert(n,l,r){return new lt(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class wt{constructor(n,l=wt.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new wt(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,lt.BLACK,null,null))}remove(n){return new wt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,lt.BLACK,null,null))}get(n){let l,r=this.root_;for(;!r.isEmpty();){if(l=this.comparator_(n,r.key),l===0)return r.value;l<0?r=r.left:l>0&&(r=r.right)}return null}getPredecessorKey(n){let l,r=this.root_,u=null;for(;!r.isEmpty();)if(l=this.comparator_(n,r.key),l===0){if(r.left.isEmpty())return u?u.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else l<0?r=r.left:l>0&&(u=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Jr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new Jr(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new Jr(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new Jr(this.root_,null,this.comparator_,!0,n)}}wt.EMPTY_NODE=new vE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(a,n){return Zi(a.name,n.name)}function Kf(a,n){return Zi(a,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf;function SE(a){Cf=a}const hy=function(a){return typeof a=="number"?"number:"+Vp(a):"string:"+a},dy=function(a){if(a.isLeafNode()){const n=a.val();I(typeof n=="string"||typeof n=="number"||typeof n=="object"&&mn(n,".sv"),"Priority must be a string or number.")}else I(a===Cf||a.isEmpty(),"priority of unexpected type.");I(a===Cf||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tp;class it{static set __childrenNodeConstructor(n){tp=n}static get __childrenNodeConstructor(){return tp}constructor(n,l=it.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,I(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),dy(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new it(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ae(n)?this:le(n)===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:it.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const r=le(n);return r===null?l:l.isEmpty()&&r!==".priority"?this:(I(r!==".priority"||yi(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,it.__childrenNodeConstructor.EMPTY_NODE.updateChild(Oe(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+hy(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=Vp(this.value_):n+=this.value_,this.lazyHash_=qp(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===it.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof it.__childrenNodeConstructor?-1:(I(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,r=typeof this.value_,u=it.VALUE_TYPE_ORDER.indexOf(l),f=it.VALUE_TYPE_ORDER.indexOf(r);return I(u>=0,"Unknown leaf type: "+l),I(f>=0,"Unknown leaf type: "+r),u===f?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-u}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}it.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let my,gy;function EE(a){my=a}function CE(a){gy=a}class TE extends bo{compare(n,l){const r=n.node.getPriority(),u=l.node.getPriority(),f=r.compareTo(u);return f===0?Zi(n.name,l.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return se.MIN}maxPost(){return new se(Vi,new it("[PRIORITY-POST]",gy))}makePost(n,l){const r=my(n);return new se(l,new it("[PRIORITY-POST]",r))}toString(){return".priority"}}const ke=new TE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=Math.log(2);class xE{constructor(n){const l=f=>parseInt(Math.log(f)/NE,10),r=f=>parseInt(Array(f+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const u=r(this.count);this.bits_=n+1&u}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const so=function(a,n,l,r){a.sort(n);const u=function(p,_){const C=_-p;let v,b;if(C===0)return null;if(C===1)return v=a[p],b=l?l(v):v,new lt(b,v.node,lt.BLACK,null,null);{const j=parseInt(C/2,10)+p,k=u(p,j),Q=u(j+1,_);return v=a[j],b=l?l(v):v,new lt(b,v.node,lt.BLACK,k,Q)}},f=function(p){let _=null,C=null,v=a.length;const b=function(k,Q){const ne=v-k,Se=v;v-=k;const Be=u(ne+1,Se),pe=a[ne],ye=l?l(pe):pe;j(new lt(ye,pe.node,Q,null,Be))},j=function(k){_?(_.left=k,_=k):(C=k,_=k)};for(let k=0;k<p.count;++k){const Q=p.nextBitIsOne(),ne=Math.pow(2,p.count-(k+1));Q?b(ne,lt.BLACK):(b(ne,lt.BLACK),b(ne,lt.RED))}return C},h=new xE(a.length),m=f(h);return new wt(r||n,m)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af;const Hl={};class Un{static get Default(){return I(Hl&&ke,"ChildrenNode.ts has not been loaded"),af=af||new Un({".priority":Hl},{".priority":ke}),af}constructor(n,l){this.indexes_=n,this.indexSet_=l}get(n){const l=Vl(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof wt?l:null}hasIndex(n){return mn(this.indexSet_,n.toString())}addIndex(n,l){I(n!==Yl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let u=!1;const f=l.getIterator(se.Wrap);let h=f.getNext();for(;h;)u=u||n.isDefinedOn(h.node),r.push(h),h=f.getNext();let m;u?m=so(r,n.getCompare()):m=Hl;const p=n.toString(),_={...this.indexSet_};_[p]=n;const C={...this.indexes_};return C[p]=m,new Un(C,_)}addToIndexes(n,l){const r=to(this.indexes_,(u,f)=>{const h=Vl(this.indexSet_,f);if(I(h,"Missing index implementation for "+f),u===Hl)if(h.isDefinedOn(n.node)){const m=[],p=l.getIterator(se.Wrap);let _=p.getNext();for(;_;)_.name!==n.name&&m.push(_),_=p.getNext();return m.push(n),so(m,h.getCompare())}else return Hl;else{const m=l.get(n.name);let p=u;return m&&(p=p.remove(new se(n.name,m))),p.insert(n,n.node)}});return new Un(r,this.indexSet_)}removeFromIndexes(n,l){const r=to(this.indexes_,u=>{if(u===Hl)return u;{const f=l.get(n.name);return f?u.remove(new se(n.name,f)):u}});return new Un(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ts;class Z{static get EMPTY_NODE(){return ts||(ts=new Z(new wt(Kf),null,Un.Default))}constructor(n,l,r){this.children_=n,this.priorityNode_=l,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&dy(this.priorityNode_),this.children_.isEmpty()&&I(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ts}updatePriority(n){return this.children_.isEmpty()?this:new Z(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?ts:l}}getChild(n){const l=le(n);return l===null?this:this.getImmediateChild(l).getChild(Oe(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(I(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const r=new se(n,l);let u,f;l.isEmpty()?(u=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(r,this.children_)):(u=this.children_.insert(n,l),f=this.indexMap_.addToIndexes(r,this.children_));const h=u.isEmpty()?ts:this.priorityNode_;return new Z(u,h,f)}}updateChild(n,l){const r=le(n);if(r===null)return l;{I(le(n)!==".priority"||yi(n)===1,".priority must be the last token in a path");const u=this.getImmediateChild(r).updateChild(Oe(n),l);return this.updateImmediateChild(r,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let r=0,u=0,f=!0;if(this.forEachChild(ke,(h,m)=>{l[h]=m.val(n),r++,f&&Z.INTEGER_REGEXP_.test(h)?u=Math.max(u,Number(h)):f=!1}),!n&&f&&u<2*r){const h=[];for(const m in l)h[m]=l[m];return h}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+hy(this.getPriority().val())+":"),this.forEachChild(ke,(l,r)=>{const u=r.hash();u!==""&&(n+=":"+l+":"+u)}),this.lazyHash_=n===""?"":qp(n)}return this.lazyHash_}getPredecessorChildName(n,l,r){const u=this.resolveIndex_(r);if(u){const f=u.getPredecessorKey(new se(n,l));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new se(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new se(l,this.children_.get(l)):null}forEachChild(n,l){const r=this.resolveIndex_(n);return r?r.inorderTraversal(u=>l(u.name,u.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getIteratorFrom(n,u=>u);{const u=this.children_.getIteratorFrom(n.name,se.Wrap);let f=u.peek();for(;f!=null&&l.compare(f,n)<0;)u.getNext(),f=u.peek();return u}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getReverseIteratorFrom(n,u=>u);{const u=this.children_.getReverseIteratorFrom(n.name,se.Wrap);let f=u.peek();for(;f!=null&&l.compare(f,n)>0;)u.getNext(),f=u.peek();return u}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===xs?-1:0}withIndex(n){if(n===Yl||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new Z(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===Yl||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const r=this.getIterator(ke),u=l.getIterator(ke);let f=r.getNext(),h=u.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=r.getNext(),h=u.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===Yl?null:this.indexMap_.get(n.toString())}}Z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class AE extends Z{constructor(){super(new wt(Kf),Z.EMPTY_NODE,Un.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return Z.EMPTY_NODE}isEmpty(){return!1}}const xs=new AE;Object.defineProperties(se,{MIN:{value:new se(Xl,Z.EMPTY_NODE)},MAX:{value:new se(Vi,xs)}});fy.__EMPTY_NODE=Z.EMPTY_NODE;it.__childrenNodeConstructor=Z;SE(xs);CE(xs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=!0;function Ye(a,n=null){if(a===null)return Z.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(n=a[".priority"]),I(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const l=a;return new it(l,Ye(n))}if(!(a instanceof Array)&&wE){const l=[];let r=!1;if(st(a,(h,m)=>{if(h.substring(0,1)!=="."){const p=Ye(m);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),l.push(new se(h,p)))}}),l.length===0)return Z.EMPTY_NODE;const f=so(l,bE,h=>h.name,Kf);if(r){const h=so(l,ke.getCompare());return new Z(f,Ye(n),new Un({".priority":h},{".priority":ke}))}else return new Z(f,Ye(n),Un.Default)}else{let l=Z.EMPTY_NODE;return st(a,(r,u)=>{if(mn(a,r)&&r.substring(0,1)!=="."){const f=Ye(u);(f.isLeafNode()||!f.isEmpty())&&(l=l.updateImmediateChild(r,f))}}),l.updatePriority(Ye(n))}}EE(Ye);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE extends bo{constructor(n){super(),this.indexPath_=n,I(!ae(n)&&le(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const r=this.extractChild(n.node),u=this.extractChild(l.node),f=r.compareTo(u);return f===0?Zi(n.name,l.name):f}makePost(n,l){const r=Ye(n),u=Z.EMPTY_NODE.updateChild(this.indexPath_,r);return new se(l,u)}maxPost(){const n=Z.EMPTY_NODE.updateChild(this.indexPath_,xs);return new se(Vi,n)}toString(){return _s(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE extends bo{compare(n,l){const r=n.node.compareTo(l.node);return r===0?Zi(n.name,l.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return se.MIN}maxPost(){return se.MAX}makePost(n,l){const r=Ye(n);return new se(l,r)}toString(){return".value"}}const RE=new OE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(a){return{type:"value",snapshotNode:a}}function Kl(a,n){return{type:"child_added",snapshotNode:n,childName:a}}function ps(a,n){return{type:"child_removed",snapshotNode:n,childName:a}}function ys(a,n,l){return{type:"child_changed",snapshotNode:n,childName:a,oldSnap:l}}function ME(a,n){return{type:"child_moved",snapshotNode:n,childName:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(n){this.index_=n}updateChild(n,l,r,u,f,h){I(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=n.getImmediateChild(l);return m.getChild(u).equals(r.getChild(u))&&m.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?n.hasChild(l)?h.trackChildChange(ps(l,m)):I(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(Kl(l,r)):h.trackChildChange(ys(l,r,m))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(l,r).withIndex(this.index_)}updateFullNode(n,l,r){return r!=null&&(n.isLeafNode()||n.forEachChild(ke,(u,f)=>{l.hasChild(u)||r.trackChildChange(ps(u,f))}),l.isLeafNode()||l.forEachChild(ke,(u,f)=>{if(n.hasChild(u)){const h=n.getImmediateChild(u);h.equals(f)||r.trackChildChange(ys(u,f,h))}else r.trackChildChange(Kl(u,f))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?Z.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(n){this.indexedFilter_=new Zf(n.getIndex()),this.index_=n.getIndex(),this.startPost_=vs.getStartPost_(n),this.endPost_=vs.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&r}updateChild(n,l,r,u,f,h){return this.matches(new se(l,r))||(r=Z.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,r,u,f,h)}updateFullNode(n,l,r){l.isLeafNode()&&(l=Z.EMPTY_NODE);let u=l.withIndex(this.index_);u=u.updatePriority(Z.EMPTY_NODE);const f=this;return l.forEachChild(ke,(h,m)=>{f.matches(new se(h,m))||(u=u.updateImmediateChild(h,Z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,u,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=l=>{const r=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new vs(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,r,u,f,h){return this.rangedFilter_.matches(new se(l,r))||(r=Z.EMPTY_NODE),n.getImmediateChild(l).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,r,u,f,h):this.fullLimitUpdateChild_(n,l,r,f,h)}updateFullNode(n,l,r){let u;if(l.isLeafNode()||l.isEmpty())u=Z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){u=Z.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const m=f.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))u=u.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{u=l.withIndex(this.index_),u=u.updatePriority(Z.EMPTY_NODE);let f;this.reverse_?f=u.getReverseIterator(this.index_):f=u.getIterator(this.index_);let h=0;for(;f.hasNext();){const m=f.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:u=u.updateImmediateChild(m.name,Z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,u,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,r,u,f){let h;if(this.reverse_){const v=this.index_.getCompare();h=(b,j)=>v(j,b)}else h=this.index_.getCompare();const m=n;I(m.numChildren()===this.limit_,"");const p=new se(l,r),_=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),C=this.rangedFilter_.matches(p);if(m.hasChild(l)){const v=m.getImmediateChild(l);let b=u.getChildAfterChild(this.index_,_,this.reverse_);for(;b!=null&&(b.name===l||m.hasChild(b.name));)b=u.getChildAfterChild(this.index_,b,this.reverse_);const j=b==null?1:h(b,p);if(C&&!r.isEmpty()&&j>=0)return f!=null&&f.trackChildChange(ys(l,r,v)),m.updateImmediateChild(l,r);{f!=null&&f.trackChildChange(ps(l,v));const Q=m.updateImmediateChild(l,Z.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(f!=null&&f.trackChildChange(Kl(b.name,b.node)),Q.updateImmediateChild(b.name,b.node)):Q}}else return r.isEmpty()?n:C&&h(_,p)>=0?(f!=null&&(f.trackChildChange(ps(_.name,_.node)),f.trackChildChange(Kl(l,r))),m.updateImmediateChild(l,r).updateImmediateChild(_.name,Z.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return I(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return I(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xl}hasEnd(){return this.endSet_}getIndexEndValue(){return I(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return I(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Vi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return I(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ke}copy(){const n=new Ff;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function LE(a){return a.loadsAllData()?new Zf(a.getIndex()):a.hasLimit()?new zE(a):new vs(a)}function np(a){const n={};if(a.isDefault())return n;let l;if(a.index_===ke?l="$priority":a.index_===RE?l="$value":a.index_===Yl?l="$key":(I(a.index_ instanceof DE,"Unrecognized index type!"),l=a.index_.toString()),n.orderBy=$e(l),a.startSet_){const r=a.startAfterSet_?"startAfter":"startAt";n[r]=$e(a.indexStartValue_),a.startNameSet_&&(n[r]+=","+$e(a.indexStartName_))}if(a.endSet_){const r=a.endBeforeSet_?"endBefore":"endAt";n[r]=$e(a.indexEndValue_),a.endNameSet_&&(n[r]+=","+$e(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?n.limitToFirst=a.limit_:n.limitToLast=a.limit_),n}function ip(a){const n={};if(a.startSet_&&(n.sp=a.indexStartValue_,a.startNameSet_&&(n.sn=a.indexStartName_),n.sin=!a.startAfterSet_),a.endSet_&&(n.ep=a.indexEndValue_,a.endNameSet_&&(n.en=a.indexEndName_),n.ein=!a.endBeforeSet_),a.limitSet_){n.l=a.limit_;let l=a.viewFrom_;l===""&&(a.isViewFromLeft()?l="l":l="r"),n.vf=l}return a.index_!==ke&&(n.i=a.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends ry{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(I(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,l,r,u){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=r,this.appCheckTokenProvider_=u,this.log_=Ns("p:rest:"),this.listens_={}}listen(n,l,r,u){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=ro.getListenId_(n,r),m={};this.listens_[h]=m;const p=np(n._queryParams);this.restRequest_(f+".json",p,(_,C)=>{let v=C;if(_===404&&(v=null,_=null),_===null&&this.onDataUpdate_(f,v,!1,r),Vl(this.listens_,h)===m){let b;_?_===401?b="permission_denied":b="rest_error:"+_:b="ok",u(b,null)}})}unlisten(n,l){const r=ro.getListenId_(n,l);delete this.listens_[r]}get(n){const l=np(n._queryParams),r=n._path.toString(),u=new dn;return this.restRequest_(r+".json",l,(f,h)=>{let m=h;f===404&&(m=null,f=null),f===null?(this.onDataUpdate_(r,m,!1,null),u.resolve(m)):u.reject(new Error(m))}),u.promise}refreshAuthToken(n){}restRequest_(n,l={},r){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,f])=>{u&&u.accessToken&&(l.auth=u.accessToken),f&&f.token&&(l.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+lb(l);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let p=null;if(m.status>=200&&m.status<300){try{p=fs(m.responseText)}catch{vt("Failed to parse JSON response for "+h+": "+m.responseText)}r(null,p)}else m.status!==401&&m.status!==404&&vt("Got unsuccessful REST response for "+h+" Status: "+m.status),r(m.status);r=null}},m.open("GET",h,!0),m.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.rootNode_=Z.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(){return{value:null,children:new Map}}function $l(a,n,l){if(ae(n))a.value=l,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(n,l);else{const r=le(n);a.children.has(r)||a.children.set(r,oo());const u=a.children.get(r);n=Oe(n),$l(u,n,l)}}function Tf(a,n){if(ae(n))return a.value=null,a.children.clear(),!0;if(a.value!==null){if(a.value.isLeafNode())return!1;{const l=a.value;return a.value=null,l.forEachChild(ke,(r,u)=>{$l(a,new Ne(r),u)}),Tf(a,n)}}else if(a.children.size>0){const l=le(n);return n=Oe(n),a.children.has(l)&&Tf(a.children.get(l),n)&&a.children.delete(l),a.children.size===0}else return!0}function Nf(a,n,l){a.value!==null?l(n,a.value):jE(a,(r,u)=>{const f=new Ne(n.toString()+"/"+r);Nf(u,f,l)})}function jE(a,n){a.children.forEach((l,r)=>{n(r,l)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l={...n};return this.last_&&st(this.last_,(r,u)=>{l[r]=l[r]-u}),this.last_=n,l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=10*1e3,BE=30*1e3,HE=300*1e3;class kE{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new IE(n);const r=lp+(BE-lp)*Math.random();rs(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),l={};let r=!1;st(n,(u,f)=>{f>0&&mn(this.statsToReport_,u)&&(l[u]=f,r=!0)}),r&&this.server_.reportStats(l),rs(this.reportStats_.bind(this),Math.floor(Math.random()*2*HE))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(sn||(sn={}));function Jf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Wf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Pf(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(n,l,r){this.path=n,this.affectedTree=l,this.revert=r,this.type=sn.ACK_USER_WRITE,this.source=Jf()}operationForChild(n){if(ae(this.path)){if(this.affectedTree.value!=null)return I(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new Ne(n));return new uo(_e(),l,this.revert)}}else return I(le(this.path)===n,"operationForChild called for unrelated child."),new uo(Oe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(n,l){this.source=n,this.path=l,this.type=sn.LISTEN_COMPLETE}operationForChild(n){return ae(this.path)?new bs(this.source,_e()):new bs(this.source,Oe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(n,l,r){this.source=n,this.path=l,this.snap=r,this.type=sn.OVERWRITE}operationForChild(n){return ae(this.path)?new Qi(this.source,_e(),this.snap.getImmediateChild(n)):new Qi(this.source,Oe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(n,l,r){this.source=n,this.path=l,this.children=r,this.type=sn.MERGE}operationForChild(n){if(ae(this.path)){const l=this.children.subtree(new Ne(n));return l.isEmpty()?null:l.value?new Qi(this.source,_e(),l.value):new Zl(this.source,_e(),l)}else return I(le(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Zl(this.source,Oe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(n,l,r){this.node_=n,this.fullyInitialized_=l,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(ae(n))return this.isFullyInitialized()&&!this.filtered_;const l=le(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function qE(a,n,l,r){const u=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&a.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(ME(h.childName,h.snapshotNode))}),ns(a,u,"child_removed",n,r,l),ns(a,u,"child_added",n,r,l),ns(a,u,"child_moved",f,r,l),ns(a,u,"child_changed",n,r,l),ns(a,u,"value",n,r,l),u}function ns(a,n,l,r,u,f){const h=r.filter(m=>m.type===l);h.sort((m,p)=>VE(a,m,p)),h.forEach(m=>{const p=YE(a,m,f);u.forEach(_=>{_.respondsTo(m.type)&&n.push(_.createEvent(p,a.query_))})})}function YE(a,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,a.index_)),n}function VE(a,n,l){if(n.childName==null||l.childName==null)throw Wl("Should only compare child_ events.");const r=new se(n.childName,n.snapshotNode),u=new se(l.childName,l.snapshotNode);return a.index_.compare(r,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(a,n){return{eventCache:a,serverCache:n}}function os(a,n,l,r){return So(new vi(n,l,r),a.serverCache)}function py(a,n,l,r){return So(a.eventCache,new vi(n,l,r))}function co(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function Xi(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf;const QE=()=>(sf||(sf=new wt(DS)),sf);class Re{static fromObject(n){let l=new Re(null);return st(n,(r,u)=>{l=l.set(new Ne(r),u)}),l}constructor(n,l=QE()){this.value=n,this.children=l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:_e(),value:this.value};if(ae(n))return null;{const r=le(n),u=this.children.get(r);if(u!==null){const f=u.findRootMostMatchingPathAndValue(Oe(n),l);return f!=null?{path:He(new Ne(r),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(ae(n))return this;{const l=le(n),r=this.children.get(l);return r!==null?r.subtree(Oe(n)):new Re(null)}}set(n,l){if(ae(n))return new Re(l,this.children);{const r=le(n),f=(this.children.get(r)||new Re(null)).set(Oe(n),l),h=this.children.insert(r,f);return new Re(this.value,h)}}remove(n){if(ae(n))return this.children.isEmpty()?new Re(null):new Re(null,this.children);{const l=le(n),r=this.children.get(l);if(r){const u=r.remove(Oe(n));let f;return u.isEmpty()?f=this.children.remove(l):f=this.children.insert(l,u),this.value===null&&f.isEmpty()?new Re(null):new Re(this.value,f)}else return this}}get(n){if(ae(n))return this.value;{const l=le(n),r=this.children.get(l);return r?r.get(Oe(n)):null}}setTree(n,l){if(ae(n))return l;{const r=le(n),f=(this.children.get(r)||new Re(null)).setTree(Oe(n),l);let h;return f.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,f),new Re(this.value,h)}}fold(n){return this.fold_(_e(),n)}fold_(n,l){const r={};return this.children.inorderTraversal((u,f)=>{r[u]=f.fold_(He(n,u),l)}),l(n,this.value,r)}findOnPath(n,l){return this.findOnPath_(n,_e(),l)}findOnPath_(n,l,r){const u=this.value?r(l,this.value):!1;if(u)return u;if(ae(n))return null;{const f=le(n),h=this.children.get(f);return h?h.findOnPath_(Oe(n),He(l,f),r):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,_e(),l)}foreachOnPath_(n,l,r){if(ae(n))return this;{this.value&&r(l,this.value);const u=le(n),f=this.children.get(u);return f?f.foreachOnPath_(Oe(n),He(l,u),r):new Re(null)}}foreach(n){this.foreach_(_e(),n)}foreach_(n,l){this.children.inorderTraversal((r,u)=>{u.foreach_(He(n,r),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,r)=>{r.value&&n(l,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(n){this.writeTree_=n}static empty(){return new rn(new Re(null))}}function us(a,n,l){if(ae(n))return new rn(new Re(l));{const r=a.writeTree_.findRootMostValueAndPath(n);if(r!=null){const u=r.path;let f=r.value;const h=yt(u,n);return f=f.updateChild(h,l),new rn(a.writeTree_.set(u,f))}else{const u=new Re(l),f=a.writeTree_.setTree(n,u);return new rn(f)}}}function xf(a,n,l){let r=a;return st(l,(u,f)=>{r=us(r,He(n,u),f)}),r}function ap(a,n){if(ae(n))return rn.empty();{const l=a.writeTree_.setTree(n,new Re(null));return new rn(l)}}function Af(a,n){return Fi(a,n)!=null}function Fi(a,n){const l=a.writeTree_.findRootMostValueAndPath(n);return l!=null?a.writeTree_.get(l.path).getChild(yt(l.path,n)):null}function sp(a){const n=[],l=a.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(ke,(r,u)=>{n.push(new se(r,u))}):a.writeTree_.children.inorderTraversal((r,u)=>{u.value!=null&&n.push(new se(r,u.value))}),n}function _i(a,n){if(ae(n))return a;{const l=Fi(a,n);return l!=null?new rn(new Re(l)):new rn(a.writeTree_.subtree(n))}}function wf(a){return a.writeTree_.isEmpty()}function Fl(a,n){return yy(_e(),a.writeTree_,n)}function yy(a,n,l){if(n.value!=null)return l.updateChild(a,n.value);{let r=null;return n.children.inorderTraversal((u,f)=>{u===".priority"?(I(f.value!==null,"Priority writes must always be leaf nodes"),r=f.value):l=yy(He(a,u),f,l)}),!l.getChild(a).isEmpty()&&r!==null&&(l=l.updateChild(He(a,".priority"),r)),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(a,n){return Ey(n,a)}function XE(a,n,l,r,u){I(r>a.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),a.allWrites.push({path:n,snap:l,writeId:r,visible:u}),u&&(a.visibleWrites=us(a.visibleWrites,n,l)),a.lastWriteId=r}function KE(a,n,l,r){I(r>a.lastWriteId,"Stacking an older merge on top of newer ones"),a.allWrites.push({path:n,children:l,writeId:r,visible:!0}),a.visibleWrites=xf(a.visibleWrites,n,l),a.lastWriteId=r}function ZE(a,n){for(let l=0;l<a.allWrites.length;l++){const r=a.allWrites[l];if(r.writeId===n)return r}return null}function FE(a,n){const l=a.allWrites.findIndex(m=>m.writeId===n);I(l>=0,"removeWrite called with nonexistent writeId.");const r=a.allWrites[l];a.allWrites.splice(l,1);let u=r.visible,f=!1,h=a.allWrites.length-1;for(;u&&h>=0;){const m=a.allWrites[h];m.visible&&(h>=l&&JE(m,r.path)?u=!1:Wt(r.path,m.path)&&(f=!0)),h--}if(u){if(f)return WE(a),!0;if(r.snap)a.visibleWrites=ap(a.visibleWrites,r.path);else{const m=r.children;st(m,p=>{a.visibleWrites=ap(a.visibleWrites,He(r.path,p))})}return!0}else return!1}function JE(a,n){if(a.snap)return Wt(a.path,n);for(const l in a.children)if(a.children.hasOwnProperty(l)&&Wt(He(a.path,l),n))return!0;return!1}function WE(a){a.visibleWrites=vy(a.allWrites,PE,_e()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function PE(a){return a.visible}function vy(a,n,l){let r=rn.empty();for(let u=0;u<a.length;++u){const f=a[u];if(n(f)){const h=f.path;let m;if(f.snap)Wt(l,h)?(m=yt(l,h),r=us(r,m,f.snap)):Wt(h,l)&&(m=yt(h,l),r=us(r,_e(),f.snap.getChild(m)));else if(f.children){if(Wt(l,h))m=yt(l,h),r=xf(r,m,f.children);else if(Wt(h,l))if(m=yt(h,l),ae(m))r=xf(r,_e(),f.children);else{const p=Vl(f.children,le(m));if(p){const _=p.getChild(Oe(m));r=us(r,_e(),_)}}}else throw Wl("WriteRecord should have .snap or .children")}}return r}function by(a,n,l,r,u){if(!r&&!u){const f=Fi(a.visibleWrites,n);if(f!=null)return f;{const h=_i(a.visibleWrites,n);if(wf(h))return l;if(l==null&&!Af(h,_e()))return null;{const m=l||Z.EMPTY_NODE;return Fl(h,m)}}}else{const f=_i(a.visibleWrites,n);if(!u&&wf(f))return l;if(!u&&l==null&&!Af(f,_e()))return null;{const h=function(_){return(_.visible||u)&&(!r||!~r.indexOf(_.writeId))&&(Wt(_.path,n)||Wt(n,_.path))},m=vy(a.allWrites,h,n),p=l||Z.EMPTY_NODE;return Fl(m,p)}}}function $E(a,n,l){let r=Z.EMPTY_NODE;const u=Fi(a.visibleWrites,n);if(u)return u.isLeafNode()||u.forEachChild(ke,(f,h)=>{r=r.updateImmediateChild(f,h)}),r;if(l){const f=_i(a.visibleWrites,n);return l.forEachChild(ke,(h,m)=>{const p=Fl(_i(f,new Ne(h)),m);r=r.updateImmediateChild(h,p)}),sp(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const f=_i(a.visibleWrites,n);return sp(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function eC(a,n,l,r,u){I(r||u,"Either existingEventSnap or existingServerSnap must exist");const f=He(n,l);if(Af(a.visibleWrites,f))return null;{const h=_i(a.visibleWrites,f);return wf(h)?u.getChild(l):Fl(h,u.getChild(l))}}function tC(a,n,l,r){const u=He(n,l),f=Fi(a.visibleWrites,u);if(f!=null)return f;if(r.isCompleteForChild(l)){const h=_i(a.visibleWrites,u);return Fl(h,r.getNode().getImmediateChild(l))}else return null}function nC(a,n){return Fi(a.visibleWrites,n)}function iC(a,n,l,r,u,f,h){let m;const p=_i(a.visibleWrites,n),_=Fi(p,_e());if(_!=null)m=_;else if(l!=null)m=Fl(p,l);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const C=[],v=h.getCompare(),b=f?m.getReverseIteratorFrom(r,h):m.getIteratorFrom(r,h);let j=b.getNext();for(;j&&C.length<u;)v(j,r)!==0&&C.push(j),j=b.getNext();return C}else return[]}function lC(){return{visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1}}function fo(a,n,l,r){return by(a.writeTree,a.treePath,n,l,r)}function $f(a,n){return $E(a.writeTree,a.treePath,n)}function rp(a,n,l,r){return eC(a.writeTree,a.treePath,n,l,r)}function ho(a,n){return nC(a.writeTree,He(a.treePath,n))}function aC(a,n,l,r,u,f){return iC(a.writeTree,a.treePath,n,l,r,u,f)}function eh(a,n,l){return tC(a.writeTree,a.treePath,n,l)}function Sy(a,n){return Ey(He(a.treePath,n),a.writeTree)}function Ey(a,n){return{treePath:a,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,r=n.childName;I(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),I(r!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(r);if(u){const f=u.type;if(l==="child_added"&&f==="child_removed")this.changeMap.set(r,ys(r,n.snapshotNode,u.snapshotNode));else if(l==="child_removed"&&f==="child_added")this.changeMap.delete(r);else if(l==="child_removed"&&f==="child_changed")this.changeMap.set(r,ps(r,u.oldSnap));else if(l==="child_changed"&&f==="child_added")this.changeMap.set(r,Kl(r,n.snapshotNode));else if(l==="child_changed"&&f==="child_changed")this.changeMap.set(r,ys(r,n.snapshotNode,u.oldSnap));else throw Wl("Illegal combination of changes: "+n+" occurred after "+u)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{getCompleteChild(n){return null}getChildAfterChild(n,l,r){return null}}const Cy=new rC;class th{constructor(n,l,r=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=r}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new vi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return eh(this.writes_,n,r)}}getChildAfterChild(n,l,r){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Xi(this.viewCache_),f=aC(this.writes_,u,l,1,r,n);return f.length===0?null:f[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(a){return{filter:a}}function uC(a,n){I(n.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),I(n.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function cC(a,n,l,r,u){const f=new sC;let h,m;if(l.type===sn.OVERWRITE){const _=l;_.source.fromUser?h=Df(a,n,_.path,_.snap,r,u,f):(I(_.source.fromServer,"Unknown source."),m=_.source.tagged||n.serverCache.isFiltered()&&!ae(_.path),h=mo(a,n,_.path,_.snap,r,u,m,f))}else if(l.type===sn.MERGE){const _=l;_.source.fromUser?h=hC(a,n,_.path,_.children,r,u,f):(I(_.source.fromServer,"Unknown source."),m=_.source.tagged||n.serverCache.isFiltered(),h=Of(a,n,_.path,_.children,r,u,m,f))}else if(l.type===sn.ACK_USER_WRITE){const _=l;_.revert?h=gC(a,n,_.path,r,u,f):h=dC(a,n,_.path,_.affectedTree,r,u,f)}else if(l.type===sn.LISTEN_COMPLETE)h=mC(a,n,l.path,r,f);else throw Wl("Unknown operation type: "+l.type);const p=f.getChanges();return fC(n,h,p),{viewCache:h,changes:p}}function fC(a,n,l){const r=n.eventCache;if(r.isFullyInitialized()){const u=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=co(a);(l.length>0||!a.eventCache.isFullyInitialized()||u&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&l.push(_y(co(n)))}}function Ty(a,n,l,r,u,f){const h=n.eventCache;if(ho(r,l)!=null)return n;{let m,p;if(ae(l))if(I(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const _=Xi(n),C=_ instanceof Z?_:Z.EMPTY_NODE,v=$f(r,C);m=a.filter.updateFullNode(n.eventCache.getNode(),v,f)}else{const _=fo(r,Xi(n));m=a.filter.updateFullNode(n.eventCache.getNode(),_,f)}else{const _=le(l);if(_===".priority"){I(yi(l)===1,"Can't have a priority with additional path components");const C=h.getNode();p=n.serverCache.getNode();const v=rp(r,l,C,p);v!=null?m=a.filter.updatePriority(C,v):m=h.getNode()}else{const C=Oe(l);let v;if(h.isCompleteForChild(_)){p=n.serverCache.getNode();const b=rp(r,l,h.getNode(),p);b!=null?v=h.getNode().getImmediateChild(_).updateChild(C,b):v=h.getNode().getImmediateChild(_)}else v=eh(r,_,n.serverCache);v!=null?m=a.filter.updateChild(h.getNode(),_,v,C,u,f):m=h.getNode()}}return os(n,m,h.isFullyInitialized()||ae(l),a.filter.filtersNodes())}}function mo(a,n,l,r,u,f,h,m){const p=n.serverCache;let _;const C=h?a.filter:a.filter.getIndexedFilter();if(ae(l))_=C.updateFullNode(p.getNode(),r,null);else if(C.filtersNodes()&&!p.isFiltered()){const j=p.getNode().updateChild(l,r);_=C.updateFullNode(p.getNode(),j,null)}else{const j=le(l);if(!p.isCompleteForPath(l)&&yi(l)>1)return n;const k=Oe(l),ne=p.getNode().getImmediateChild(j).updateChild(k,r);j===".priority"?_=C.updatePriority(p.getNode(),ne):_=C.updateChild(p.getNode(),j,ne,k,Cy,null)}const v=py(n,_,p.isFullyInitialized()||ae(l),C.filtersNodes()),b=new th(u,v,f);return Ty(a,v,l,u,b,m)}function Df(a,n,l,r,u,f,h){const m=n.eventCache;let p,_;const C=new th(u,n,f);if(ae(l))_=a.filter.updateFullNode(n.eventCache.getNode(),r,h),p=os(n,_,!0,a.filter.filtersNodes());else{const v=le(l);if(v===".priority")_=a.filter.updatePriority(n.eventCache.getNode(),r),p=os(n,_,m.isFullyInitialized(),m.isFiltered());else{const b=Oe(l),j=m.getNode().getImmediateChild(v);let k;if(ae(b))k=r;else{const Q=C.getCompleteChild(v);Q!=null?Vf(b)===".priority"&&Q.getChild(uy(b)).isEmpty()?k=Q:k=Q.updateChild(b,r):k=Z.EMPTY_NODE}if(j.equals(k))p=n;else{const Q=a.filter.updateChild(m.getNode(),v,k,b,C,h);p=os(n,Q,m.isFullyInitialized(),a.filter.filtersNodes())}}}return p}function op(a,n){return a.eventCache.isCompleteForChild(n)}function hC(a,n,l,r,u,f,h){let m=n;return r.foreach((p,_)=>{const C=He(l,p);op(n,le(C))&&(m=Df(a,m,C,_,u,f,h))}),r.foreach((p,_)=>{const C=He(l,p);op(n,le(C))||(m=Df(a,m,C,_,u,f,h))}),m}function up(a,n,l){return l.foreach((r,u)=>{n=n.updateChild(r,u)}),n}function Of(a,n,l,r,u,f,h,m){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let p=n,_;ae(l)?_=r:_=new Re(null).setTree(l,r);const C=n.serverCache.getNode();return _.children.inorderTraversal((v,b)=>{if(C.hasChild(v)){const j=n.serverCache.getNode().getImmediateChild(v),k=up(a,j,b);p=mo(a,p,new Ne(v),k,u,f,h,m)}}),_.children.inorderTraversal((v,b)=>{const j=!n.serverCache.isCompleteForChild(v)&&b.value===null;if(!C.hasChild(v)&&!j){const k=n.serverCache.getNode().getImmediateChild(v),Q=up(a,k,b);p=mo(a,p,new Ne(v),Q,u,f,h,m)}}),p}function dC(a,n,l,r,u,f,h){if(ho(u,l)!=null)return n;const m=n.serverCache.isFiltered(),p=n.serverCache;if(r.value!=null){if(ae(l)&&p.isFullyInitialized()||p.isCompleteForPath(l))return mo(a,n,l,p.getNode().getChild(l),u,f,m,h);if(ae(l)){let _=new Re(null);return p.getNode().forEachChild(Yl,(C,v)=>{_=_.set(new Ne(C),v)}),Of(a,n,l,_,u,f,m,h)}else return n}else{let _=new Re(null);return r.foreach((C,v)=>{const b=He(l,C);p.isCompleteForPath(b)&&(_=_.set(C,p.getNode().getChild(b)))}),Of(a,n,l,_,u,f,m,h)}}function mC(a,n,l,r,u){const f=n.serverCache,h=py(n,f.getNode(),f.isFullyInitialized()||ae(l),f.isFiltered());return Ty(a,h,l,r,Cy,u)}function gC(a,n,l,r,u,f){let h;if(ho(r,l)!=null)return n;{const m=new th(r,n,u),p=n.eventCache.getNode();let _;if(ae(l)||le(l)===".priority"){let C;if(n.serverCache.isFullyInitialized())C=fo(r,Xi(n));else{const v=n.serverCache.getNode();I(v instanceof Z,"serverChildren would be complete if leaf node"),C=$f(r,v)}C=C,_=a.filter.updateFullNode(p,C,f)}else{const C=le(l);let v=eh(r,C,n.serverCache);v==null&&n.serverCache.isCompleteForChild(C)&&(v=p.getImmediateChild(C)),v!=null?_=a.filter.updateChild(p,C,v,Oe(l),m,f):n.eventCache.getNode().hasChild(C)?_=a.filter.updateChild(p,C,Z.EMPTY_NODE,Oe(l),m,f):_=p,_.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=fo(r,Xi(n)),h.isLeafNode()&&(_=a.filter.updateFullNode(_,h,f)))}return h=n.serverCache.isFullyInitialized()||ho(r,_e())!=null,os(n,_,h,a.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,u=new Zf(r.getIndex()),f=LE(r);this.processor_=oC(f);const h=l.serverCache,m=l.eventCache,p=u.updateFullNode(Z.EMPTY_NODE,h.getNode(),null),_=f.updateFullNode(Z.EMPTY_NODE,m.getNode(),null),C=new vi(p,h.isFullyInitialized(),u.filtersNodes()),v=new vi(_,m.isFullyInitialized(),f.filtersNodes());this.viewCache_=So(v,C),this.eventGenerator_=new GE(this.query_)}get query(){return this.query_}}function pC(a){return a.viewCache_.serverCache.getNode()}function yC(a){return co(a.viewCache_)}function vC(a,n){const l=Xi(a.viewCache_);return l&&(a.query._queryParams.loadsAllData()||!ae(n)&&!l.getImmediateChild(le(n)).isEmpty())?l.getChild(n):null}function cp(a){return a.eventRegistrations_.length===0}function bC(a,n){a.eventRegistrations_.push(n)}function fp(a,n,l){const r=[];if(l){I(n==null,"A cancel should cancel all event registrations.");const u=a.query._path;a.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(l,u);h&&r.push(h)})}if(n){let u=[];for(let f=0;f<a.eventRegistrations_.length;++f){const h=a.eventRegistrations_[f];if(!h.matches(n))u.push(h);else if(n.hasAnyCallback()){u=u.concat(a.eventRegistrations_.slice(f+1));break}}a.eventRegistrations_=u}else a.eventRegistrations_=[];return r}function hp(a,n,l,r){n.type===sn.MERGE&&n.source.queryId!==null&&(I(Xi(a.viewCache_),"We should always have a full cache before handling merges"),I(co(a.viewCache_),"Missing event cache, even though we have a server cache"));const u=a.viewCache_,f=cC(a.processor_,u,n,l,r);return uC(a.processor_,f.viewCache),I(f.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=f.viewCache,Ny(a,f.changes,f.viewCache.eventCache.getNode(),null)}function SC(a,n){const l=a.viewCache_.eventCache,r=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(ke,(f,h)=>{r.push(Kl(f,h))}),l.isFullyInitialized()&&r.push(_y(l.getNode())),Ny(a,r,l.getNode(),n)}function Ny(a,n,l,r){const u=r?[r]:a.eventRegistrations_;return qE(a.eventGenerator_,n,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go;class xy{constructor(){this.views=new Map}}function EC(a){I(!go,"__referenceConstructor has already been defined"),go=a}function CC(){return I(go,"Reference.ts has not been loaded"),go}function TC(a){return a.views.size===0}function nh(a,n,l,r){const u=n.source.queryId;if(u!==null){const f=a.views.get(u);return I(f!=null,"SyncTree gave us an op for an invalid query."),hp(f,n,l,r)}else{let f=[];for(const h of a.views.values())f=f.concat(hp(h,n,l,r));return f}}function Ay(a,n,l,r,u){const f=n._queryIdentifier,h=a.views.get(f);if(!h){let m=fo(l,u?r:null),p=!1;m?p=!0:r instanceof Z?(m=$f(l,r),p=!1):(m=Z.EMPTY_NODE,p=!1);const _=So(new vi(m,p,!1),new vi(r,u,!1));return new _C(n,_)}return h}function NC(a,n,l,r,u,f){const h=Ay(a,n,r,u,f);return a.views.has(n._queryIdentifier)||a.views.set(n._queryIdentifier,h),bC(h,l),SC(h,l)}function xC(a,n,l,r){const u=n._queryIdentifier,f=[];let h=[];const m=bi(a);if(u==="default")for(const[p,_]of a.views.entries())h=h.concat(fp(_,l,r)),cp(_)&&(a.views.delete(p),_.query._queryParams.loadsAllData()||f.push(_.query));else{const p=a.views.get(u);p&&(h=h.concat(fp(p,l,r)),cp(p)&&(a.views.delete(u),p.query._queryParams.loadsAllData()||f.push(p.query)))}return m&&!bi(a)&&f.push(new(CC())(n._repo,n._path)),{removed:f,events:h}}function wy(a){const n=[];for(const l of a.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function pi(a,n){let l=null;for(const r of a.views.values())l=l||vC(r,n);return l}function Dy(a,n){if(n._queryParams.loadsAllData())return Co(a);{const r=n._queryIdentifier;return a.views.get(r)}}function Oy(a,n){return Dy(a,n)!=null}function bi(a){return Co(a)!=null}function Co(a){for(const n of a.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o;function AC(a){I(!_o,"__referenceConstructor has already been defined"),_o=a}function wC(){return I(_o,"Reference.ts has not been loaded"),_o}let DC=1;class dp{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Re(null),this.pendingWriteTree_=lC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ry(a,n,l,r,u){return XE(a.pendingWriteTree_,n,l,r,u),u?ea(a,new Qi(Jf(),n,l)):[]}function OC(a,n,l,r){KE(a.pendingWriteTree_,n,l,r);const u=Re.fromObject(l);return ea(a,new Zl(Jf(),n,u))}function di(a,n,l=!1){const r=ZE(a.pendingWriteTree_,n);if(FE(a.pendingWriteTree_,n)){let f=new Re(null);return r.snap!=null?f=f.set(_e(),!0):st(r.children,h=>{f=f.set(new Ne(h),!0)}),ea(a,new uo(r.path,f,l))}else return[]}function As(a,n,l){return ea(a,new Qi(Wf(),n,l))}function RC(a,n,l){const r=Re.fromObject(l);return ea(a,new Zl(Wf(),n,r))}function MC(a,n){return ea(a,new bs(Wf(),n))}function zC(a,n,l){const r=lh(a,l);if(r){const u=ah(r),f=u.path,h=u.queryId,m=yt(f,n),p=new bs(Pf(h),m);return sh(a,f,p)}else return[]}function po(a,n,l,r,u=!1){const f=n._path,h=a.syncPointTree_.get(f);let m=[];if(h&&(n._queryIdentifier==="default"||Oy(h,n))){const p=xC(h,n,l,r);TC(h)&&(a.syncPointTree_=a.syncPointTree_.remove(f));const _=p.removed;if(m=p.events,!u){const C=_.findIndex(b=>b._queryParams.loadsAllData())!==-1,v=a.syncPointTree_.findOnPath(f,(b,j)=>bi(j));if(C&&!v){const b=a.syncPointTree_.subtree(f);if(!b.isEmpty()){const j=jC(b);for(let k=0;k<j.length;++k){const Q=j[k],ne=Q.query,Se=Uy(a,Q);a.listenProvider_.startListening(cs(ne),Ss(a,ne),Se.hashFn,Se.onComplete)}}}!v&&_.length>0&&!r&&(C?a.listenProvider_.stopListening(cs(n),null):_.forEach(b=>{const j=a.queryToTagMap.get(To(b));a.listenProvider_.stopListening(cs(b),j)}))}IC(a,_)}return m}function My(a,n,l,r){const u=lh(a,r);if(u!=null){const f=ah(u),h=f.path,m=f.queryId,p=yt(h,n),_=new Qi(Pf(m),p,l);return sh(a,h,_)}else return[]}function LC(a,n,l,r){const u=lh(a,r);if(u){const f=ah(u),h=f.path,m=f.queryId,p=yt(h,n),_=Re.fromObject(l),C=new Zl(Pf(m),p,_);return sh(a,h,C)}else return[]}function Rf(a,n,l,r=!1){const u=n._path;let f=null,h=!1;a.syncPointTree_.foreachOnPath(u,(b,j)=>{const k=yt(b,u);f=f||pi(j,k),h=h||bi(j)});let m=a.syncPointTree_.get(u);m?(h=h||bi(m),f=f||pi(m,_e())):(m=new xy,a.syncPointTree_=a.syncPointTree_.set(u,m));let p;f!=null?p=!0:(p=!1,f=Z.EMPTY_NODE,a.syncPointTree_.subtree(u).foreachChild((j,k)=>{const Q=pi(k,_e());Q&&(f=f.updateImmediateChild(j,Q))}));const _=Oy(m,n);if(!_&&!n._queryParams.loadsAllData()){const b=To(n);I(!a.queryToTagMap.has(b),"View does not exist, but we have a tag");const j=BC();a.queryToTagMap.set(b,j),a.tagToQueryMap.set(j,b)}const C=Eo(a.pendingWriteTree_,u);let v=NC(m,n,l,C,f,p);if(!_&&!h&&!r){const b=Dy(m,n);v=v.concat(HC(a,n,b))}return v}function ih(a,n,l){const u=a.pendingWriteTree_,f=a.syncPointTree_.findOnPath(n,(h,m)=>{const p=yt(h,n),_=pi(m,p);if(_)return _});return by(u,n,f,l,!0)}function UC(a,n){const l=n._path;let r=null;a.syncPointTree_.foreachOnPath(l,(_,C)=>{const v=yt(_,l);r=r||pi(C,v)});let u=a.syncPointTree_.get(l);u?r=r||pi(u,_e()):(u=new xy,a.syncPointTree_=a.syncPointTree_.set(l,u));const f=r!=null,h=f?new vi(r,!0,!1):null,m=Eo(a.pendingWriteTree_,n._path),p=Ay(u,n,m,f?h.getNode():Z.EMPTY_NODE,f);return yC(p)}function ea(a,n){return zy(n,a.syncPointTree_,null,Eo(a.pendingWriteTree_,_e()))}function zy(a,n,l,r){if(ae(a.path))return Ly(a,n,l,r);{const u=n.get(_e());l==null&&u!=null&&(l=pi(u,_e()));let f=[];const h=le(a.path),m=a.operationForChild(h),p=n.children.get(h);if(p&&m){const _=l?l.getImmediateChild(h):null,C=Sy(r,h);f=f.concat(zy(m,p,_,C))}return u&&(f=f.concat(nh(u,a,r,l))),f}}function Ly(a,n,l,r){const u=n.get(_e());l==null&&u!=null&&(l=pi(u,_e()));let f=[];return n.children.inorderTraversal((h,m)=>{const p=l?l.getImmediateChild(h):null,_=Sy(r,h),C=a.operationForChild(h);C&&(f=f.concat(Ly(C,m,p,_)))}),u&&(f=f.concat(nh(u,a,r,l))),f}function Uy(a,n){const l=n.query,r=Ss(a,l);return{hashFn:()=>(pC(n)||Z.EMPTY_NODE).hash(),onComplete:u=>{if(u==="ok")return r?zC(a,l._path,r):MC(a,l._path);{const f=MS(u,l);return po(a,l,null,f)}}}}function Ss(a,n){const l=To(n);return a.queryToTagMap.get(l)}function To(a){return a._path.toString()+"$"+a._queryIdentifier}function lh(a,n){return a.tagToQueryMap.get(n)}function ah(a){const n=a.indexOf("$");return I(n!==-1&&n<a.length-1,"Bad queryKey."),{queryId:a.substr(n+1),path:new Ne(a.substr(0,n))}}function sh(a,n,l){const r=a.syncPointTree_.get(n);I(r,"Missing sync point for query tag that we're tracking");const u=Eo(a.pendingWriteTree_,n);return nh(r,l,u,null)}function jC(a){return a.fold((n,l,r)=>{if(l&&bi(l))return[Co(l)];{let u=[];return l&&(u=wy(l)),st(r,(f,h)=>{u=u.concat(h)}),u}})}function cs(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(wC())(a._repo,a._path):a}function IC(a,n){for(let l=0;l<n.length;++l){const r=n[l];if(!r._queryParams.loadsAllData()){const u=To(r),f=a.queryToTagMap.get(u);a.queryToTagMap.delete(u),a.tagToQueryMap.delete(f)}}}function BC(){return DC++}function HC(a,n,l){const r=n._path,u=Ss(a,n),f=Uy(a,l),h=a.listenProvider_.startListening(cs(n),u,f.hashFn,f.onComplete),m=a.syncPointTree_.subtree(r);if(u)I(!bi(m.value),"If we're adding a query, it shouldn't be shadowed");else{const p=m.fold((_,C,v)=>{if(!ae(_)&&C&&bi(C))return[Co(C).query];{let b=[];return C&&(b=b.concat(wy(C).map(j=>j.query))),st(v,(j,k)=>{b=b.concat(k)}),b}});for(let _=0;_<p.length;++_){const C=p[_];a.listenProvider_.stopListening(cs(C),Ss(a,C))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new rh(l)}node(){return this.node_}}class oh{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=He(this.path_,n);return new oh(this.syncTree_,l)}node(){return ih(this.syncTree_,this.path_)}}const kC=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},mp=function(a,n,l){if(!a||typeof a!="object")return a;if(I(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return GC(a[".sv"],n,l);if(typeof a[".sv"]=="object")return qC(a[".sv"],n);I(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},GC=function(a,n,l){switch(a){case"timestamp":return l.timestamp;default:I(!1,"Unexpected server value: "+a)}},qC=function(a,n,l){a.hasOwnProperty("increment")||I(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const r=a.increment;typeof r!="number"&&I(!1,"Unexpected increment value: "+r);const u=n.node();if(I(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return r;const h=u.getValue();return typeof h!="number"?r:h+r},jy=function(a,n,l,r){return uh(n,new oh(l,a),r)},Iy=function(a,n,l){return uh(a,new rh(n),l)};function uh(a,n,l){const r=a.getPriority().val(),u=mp(r,n.getImmediateChild(".priority"),l);let f;if(a.isLeafNode()){const h=a,m=mp(h.getValue(),n,l);return m!==h.getValue()||u!==h.getPriority().val()?new it(m,Ye(u)):a}else{const h=a;return f=h,u!==h.getPriority().val()&&(f=f.updatePriority(new it(u))),h.forEachChild(ke,(m,p)=>{const _=uh(p,n.getImmediateChild(m),l);_!==p&&(f=f.updateImmediateChild(m,_))}),f}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(n="",l=null,r={children:{},childCount:0}){this.name=n,this.parent=l,this.node=r}}function fh(a,n){let l=n instanceof Ne?n:new Ne(n),r=a,u=le(l);for(;u!==null;){const f=Vl(r.node.children,u)||{children:{},childCount:0};r=new ch(u,r,f),l=Oe(l),u=le(l)}return r}function ta(a){return a.node.value}function By(a,n){a.node.value=n,Mf(a)}function Hy(a){return a.node.childCount>0}function YC(a){return ta(a)===void 0&&!Hy(a)}function No(a,n){st(a.node.children,(l,r)=>{n(new ch(l,a,r))})}function ky(a,n,l,r){l&&n(a),No(a,u=>{ky(u,n,!0)})}function VC(a,n,l){let r=a.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function ws(a){return new Ne(a.parent===null?a.name:ws(a.parent)+"/"+a.name)}function Mf(a){a.parent!==null&&QC(a.parent,a.name,a)}function QC(a,n,l){const r=YC(l),u=mn(a.node.children,n);r&&u?(delete a.node.children[n],a.node.childCount--,Mf(a)):!r&&!u&&(a.node.children[n]=l.node,a.node.childCount++,Mf(a))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=/[\[\].#$\/\u0000-\u001F\u007F]/,KC=/[\[\].#$\u0000-\u001F\u007F]/,rf=10*1024*1024,hh=function(a){return typeof a=="string"&&a.length!==0&&!XC.test(a)},Gy=function(a){return typeof a=="string"&&a.length!==0&&!KC.test(a)},ZC=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Gy(a)},qy=function(a){return a===null||typeof a=="string"||typeof a=="number"&&!vo(a)||a&&typeof a=="object"&&mn(a,".sv")},zf=function(a,n,l,r){xo(Ql(a,"value"),n,l)},xo=function(a,n,l){const r=l instanceof Ne?new hE(l,a):l;if(n===void 0)throw new Error(a+"contains undefined "+qi(r));if(typeof n=="function")throw new Error(a+"contains a function "+qi(r)+" with contents = "+n.toString());if(vo(n))throw new Error(a+"contains "+n.toString()+" "+qi(r));if(typeof n=="string"&&n.length>rf/3&&yo(n)>rf)throw new Error(a+"contains a string greater than "+rf+" utf8 bytes "+qi(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let u=!1,f=!1;if(st(n,(h,m)=>{if(h===".value")u=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!hh(h)))throw new Error(a+" contains an invalid key ("+h+") "+qi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);dE(r,h),xo(a,m,r),mE(r)}),u&&f)throw new Error(a+' contains ".value" child '+qi(r)+" in addition to actual children.")}},FC=function(a,n){let l,r;for(l=0;l<n.length;l++){r=n[l];const f=_s(r);for(let h=0;h<f.length;h++)if(!(f[h]===".priority"&&h===f.length-1)){if(!hh(f[h]))throw new Error(a+"contains an invalid key ("+f[h]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(fE);let u=null;for(l=0;l<n.length;l++){if(r=n[l],u!==null&&Wt(u,r))throw new Error(a+"contains a path "+u.toString()+" that is ancestor of another path "+r.toString());u=r}},Yy=function(a,n,l,r){const u=Ql(a,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(u+" must be an object containing the children to replace.");const f=[];st(n,(h,m)=>{const p=new Ne(h);if(xo(u,m,He(l,p)),Vf(p)===".priority"&&!qy(m))throw new Error(u+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(p)}),FC(u,f)},JC=function(a,n,l){if(vo(n))throw new Error(Ql(a,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!qy(n))throw new Error(Ql(a,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},Vy=function(a,n,l,r){if(!Gy(l))throw new Error(Ql(a,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},WC=function(a,n,l,r){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Vy(a,n,l)},ls=function(a,n){if(le(n)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},PC=function(a,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!hh(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!ZC(l))throw new Error(Ql(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ao(a,n){let l=null;for(let r=0;r<n.length;r++){const u=n[r],f=u.getPath();l!==null&&!Qf(f,l.path)&&(a.eventLists_.push(l),l=null),l===null&&(l={events:[],path:f}),l.events.push(u)}l&&a.eventLists_.push(l)}function Qy(a,n,l){Ao(a,l),Xy(a,r=>Qf(r,n))}function $t(a,n,l){Ao(a,l),Xy(a,r=>Wt(r,n)||Wt(n,r))}function Xy(a,n){a.recursionDepth_++;let l=!0;for(let r=0;r<a.eventLists_.length;r++){const u=a.eventLists_[r];if(u){const f=u.path;n(f)?(e2(a.eventLists_[r]),a.eventLists_[r]=null):l=!1}}l&&(a.eventLists_=[]),a.recursionDepth_--}function e2(a){for(let n=0;n<a.events.length;n++){const l=a.events[n];if(l!==null){a.events[n]=null;const r=l.getEventRunner();ss&&at("event: "+l.toString()),Pl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="repo_interrupt",n2=25;class i2{constructor(n,l,r,u){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=r,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $C,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=oo(),this.transactionQueueTree_=new ch,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function l2(a,n,l){if(a.stats_=qf(a.repoInfo_),a.forceRestClient_||jS())a.server_=new ro(a.repoInfo_,(r,u,f,h)=>{gp(a,r,u,f,h)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>_p(a,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$e(l)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}a.persistentConnection_=new jn(a.repoInfo_,n,(r,u,f,h)=>{gp(a,r,u,f,h)},r=>{_p(a,r)},r=>{s2(a,r)},a.authTokenProvider_,a.appCheckProvider_,l),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(r=>{a.server_.refreshAuthToken(r)}),a.appCheckProvider_.addTokenChangeListener(r=>{a.server_.refreshAppCheckToken(r.token)}),a.statsReporter_=GS(a.repoInfo_,()=>new kE(a.stats_,a.server_)),a.infoData_=new UE,a.infoSyncTree_=new dp({startListening:(r,u,f,h)=>{let m=[];const p=a.infoData_.getNode(r._path);return p.isEmpty()||(m=As(a.infoSyncTree_,r._path,p),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),dh(a,"connected",!1),a.serverSyncTree_=new dp({startListening:(r,u,f,h)=>(a.server_.listen(r,f,u,(m,p)=>{const _=h(m,p);$t(a.eventQueue_,r._path,_)}),[]),stopListening:(r,u)=>{a.server_.unlisten(r,u)}})}function a2(a){const l=a.infoData_.getNode(new Ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function wo(a){return kC({timestamp:a2(a)})}function gp(a,n,l,r,u){a.dataUpdateCount++;const f=new Ne(n);l=a.interceptServerDataCallback_?a.interceptServerDataCallback_(n,l):l;let h=[];if(u)if(r){const p=to(l,_=>Ye(_));h=LC(a.serverSyncTree_,f,p,u)}else{const p=Ye(l);h=My(a.serverSyncTree_,f,p,u)}else if(r){const p=to(l,_=>Ye(_));h=RC(a.serverSyncTree_,f,p)}else{const p=Ye(l);h=As(a.serverSyncTree_,f,p)}let m=f;h.length>0&&(m=Jl(a,f)),$t(a.eventQueue_,m,h)}function _p(a,n){dh(a,"connected",n),n===!1&&c2(a)}function s2(a,n){st(n,(l,r)=>{dh(a,l,r)})}function dh(a,n,l){const r=new Ne("/.info/"+n),u=Ye(l);a.infoData_.updateSnapshot(r,u);const f=As(a.infoSyncTree_,r,u);$t(a.eventQueue_,r,f)}function mh(a){return a.nextWriteId_++}function r2(a,n,l){const r=UC(a.serverSyncTree_,n);return r!=null?Promise.resolve(r):a.server_.get(n).then(u=>{const f=Ye(u).withIndex(n._queryParams.getIndex());Rf(a.serverSyncTree_,n,l,!0);let h;if(n._queryParams.loadsAllData())h=As(a.serverSyncTree_,n._path,f);else{const m=Ss(a.serverSyncTree_,n);h=My(a.serverSyncTree_,n._path,f,m)}return $t(a.eventQueue_,n._path,h),po(a.serverSyncTree_,n,l,null,!0),f},u=>(Ds(a,"get for query "+$e(n)+" failed: "+u),Promise.reject(new Error(u))))}function o2(a,n,l,r,u){Ds(a,"set",{path:n.toString(),value:l,priority:r});const f=wo(a),h=Ye(l,r),m=ih(a.serverSyncTree_,n),p=Iy(h,m,f),_=mh(a),C=Ry(a.serverSyncTree_,n,p,_,!0);Ao(a.eventQueue_,C),a.server_.put(n.toString(),h.val(!0),(b,j)=>{const k=b==="ok";k||vt("set at "+n+" failed: "+b);const Q=di(a.serverSyncTree_,_,!k);$t(a.eventQueue_,n,Q),Si(a,u,b,j)});const v=_h(a,n);Jl(a,v),$t(a.eventQueue_,v,[])}function u2(a,n,l,r){Ds(a,"update",{path:n.toString(),value:l});let u=!0;const f=wo(a),h={};if(st(l,(m,p)=>{u=!1,h[m]=jy(He(n,m),Ye(p),a.serverSyncTree_,f)}),u)at("update() called with empty data.  Don't do anything."),Si(a,r,"ok",void 0);else{const m=mh(a),p=OC(a.serverSyncTree_,n,h,m);Ao(a.eventQueue_,p),a.server_.merge(n.toString(),l,(_,C)=>{const v=_==="ok";v||vt("update at "+n+" failed: "+_);const b=di(a.serverSyncTree_,m,!v),j=b.length>0?Jl(a,n):n;$t(a.eventQueue_,j,b),Si(a,r,_,C)}),st(l,_=>{const C=_h(a,He(n,_));Jl(a,C)}),$t(a.eventQueue_,n,[])}}function c2(a){Ds(a,"onDisconnectEvents");const n=wo(a),l=oo();Nf(a.onDisconnect_,_e(),(u,f)=>{const h=jy(u,f,a.serverSyncTree_,n);$l(l,u,h)});let r=[];Nf(l,_e(),(u,f)=>{r=r.concat(As(a.serverSyncTree_,u,f));const h=_h(a,u);Jl(a,h)}),a.onDisconnect_=oo(),$t(a.eventQueue_,_e(),r)}function f2(a,n,l){a.server_.onDisconnectCancel(n.toString(),(r,u)=>{r==="ok"&&Tf(a.onDisconnect_,n),Si(a,l,r,u)})}function pp(a,n,l,r){const u=Ye(l);a.server_.onDisconnectPut(n.toString(),u.val(!0),(f,h)=>{f==="ok"&&$l(a.onDisconnect_,n,u),Si(a,r,f,h)})}function h2(a,n,l,r,u){const f=Ye(l,r);a.server_.onDisconnectPut(n.toString(),f.val(!0),(h,m)=>{h==="ok"&&$l(a.onDisconnect_,n,f),Si(a,u,h,m)})}function d2(a,n,l,r){if(gf(l)){at("onDisconnect().update() called with empty data.  Don't do anything."),Si(a,r,"ok",void 0);return}a.server_.onDisconnectMerge(n.toString(),l,(u,f)=>{u==="ok"&&st(l,(h,m)=>{const p=Ye(m);$l(a.onDisconnect_,He(n,h),p)}),Si(a,r,u,f)})}function m2(a,n,l){let r;le(n._path)===".info"?r=Rf(a.infoSyncTree_,n,l):r=Rf(a.serverSyncTree_,n,l),Qy(a.eventQueue_,n._path,r)}function g2(a,n,l){let r;le(n._path)===".info"?r=po(a.infoSyncTree_,n,l):r=po(a.serverSyncTree_,n,l),Qy(a.eventQueue_,n._path,r)}function _2(a){a.persistentConnection_&&a.persistentConnection_.interrupt(t2)}function Ds(a,...n){let l="";a.persistentConnection_&&(l=a.persistentConnection_.id+":"),at(l,...n)}function Si(a,n,l,r){n&&Pl(()=>{if(l==="ok")n(null);else{const u=(l||"error").toUpperCase();let f=u;r&&(f+=": "+r);const h=new Error(f);h.code=u,n(h)}})}function Ky(a,n,l){return ih(a.serverSyncTree_,n,l)||Z.EMPTY_NODE}function gh(a,n=a.transactionQueueTree_){if(n||Do(a,n),ta(n)){const l=Fy(a,n);I(l.length>0,"Sending zero length transaction queue"),l.every(u=>u.status===0)&&p2(a,ws(n),l)}else Hy(n)&&No(n,l=>{gh(a,l)})}function p2(a,n,l){const r=l.map(_=>_.currentWriteId),u=Ky(a,n,r);let f=u;const h=u.hash();for(let _=0;_<l.length;_++){const C=l[_];I(C.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),C.status=1,C.retryCount++;const v=yt(n,C.path);f=f.updateChild(v,C.currentOutputSnapshotRaw)}const m=f.val(!0),p=n;a.server_.put(p.toString(),m,_=>{Ds(a,"transaction put response",{path:p.toString(),status:_});let C=[];if(_==="ok"){const v=[];for(let b=0;b<l.length;b++)l[b].status=2,C=C.concat(di(a.serverSyncTree_,l[b].currentWriteId)),l[b].onComplete&&v.push(()=>l[b].onComplete(null,!0,l[b].currentOutputSnapshotResolved)),l[b].unwatcher();Do(a,fh(a.transactionQueueTree_,n)),gh(a,a.transactionQueueTree_),$t(a.eventQueue_,n,C);for(let b=0;b<v.length;b++)Pl(v[b])}else{if(_==="datastale")for(let v=0;v<l.length;v++)l[v].status===3?l[v].status=4:l[v].status=0;else{vt("transaction at "+p.toString()+" failed: "+_);for(let v=0;v<l.length;v++)l[v].status=4,l[v].abortReason=_}Jl(a,n)}},h)}function Jl(a,n){const l=Zy(a,n),r=ws(l),u=Fy(a,l);return y2(a,u,r),r}function y2(a,n,l){if(n.length===0)return;const r=[];let u=[];const h=n.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<n.length;m++){const p=n[m],_=yt(l,p.path);let C=!1,v;if(I(_!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)C=!0,v=p.abortReason,u=u.concat(di(a.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=n2)C=!0,v="maxretry",u=u.concat(di(a.serverSyncTree_,p.currentWriteId,!0));else{const b=Ky(a,p.path,h);p.currentInputSnapshot=b;const j=n[m].update(b.val());if(j!==void 0){xo("transaction failed: Data returned ",j,p.path);let k=Ye(j);typeof j=="object"&&j!=null&&mn(j,".priority")||(k=k.updatePriority(b.getPriority()));const ne=p.currentWriteId,Se=wo(a),Be=Iy(k,b,Se);p.currentOutputSnapshotRaw=k,p.currentOutputSnapshotResolved=Be,p.currentWriteId=mh(a),h.splice(h.indexOf(ne),1),u=u.concat(Ry(a.serverSyncTree_,p.path,Be,p.currentWriteId,p.applyLocally)),u=u.concat(di(a.serverSyncTree_,ne,!0))}else C=!0,v="nodata",u=u.concat(di(a.serverSyncTree_,p.currentWriteId,!0))}$t(a.eventQueue_,l,u),u=[],C&&(n[m].status=2,(function(b){setTimeout(b,Math.floor(0))})(n[m].unwatcher),n[m].onComplete&&(v==="nodata"?r.push(()=>n[m].onComplete(null,!1,n[m].currentInputSnapshot)):r.push(()=>n[m].onComplete(new Error(v),!1,null))))}Do(a,a.transactionQueueTree_);for(let m=0;m<r.length;m++)Pl(r[m]);gh(a,a.transactionQueueTree_)}function Zy(a,n){let l,r=a.transactionQueueTree_;for(l=le(n);l!==null&&ta(r)===void 0;)r=fh(r,l),n=Oe(n),l=le(n);return r}function Fy(a,n){const l=[];return Jy(a,n,l),l.sort((r,u)=>r.order-u.order),l}function Jy(a,n,l){const r=ta(n);if(r)for(let u=0;u<r.length;u++)l.push(r[u]);No(n,u=>{Jy(a,u,l)})}function Do(a,n){const l=ta(n);if(l){let r=0;for(let u=0;u<l.length;u++)l[u].status!==2&&(l[r]=l[u],r++);l.length=r,By(n,l.length>0?l:void 0)}No(n,r=>{Do(a,r)})}function _h(a,n){const l=ws(Zy(a,n)),r=fh(a.transactionQueueTree_,n);return VC(r,u=>{of(a,u)}),of(a,r),ky(r,u=>{of(a,u)}),l}function of(a,n){const l=ta(n);if(l){const r=[];let u=[],f=-1;for(let h=0;h<l.length;h++)l[h].status===3||(l[h].status===1?(I(f===h-1,"All SENT items should be at beginning of queue."),f=h,l[h].status=3,l[h].abortReason="set"):(I(l[h].status===0,"Unexpected transaction status in abort"),l[h].unwatcher(),u=u.concat(di(a.serverSyncTree_,l[h].currentWriteId,!0)),l[h].onComplete&&r.push(l[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?By(n,void 0):l.length=f+1,$t(a.eventQueue_,ws(n),u);for(let h=0;h<r.length;h++)Pl(r[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(a){let n="";const l=a.split("/");for(let r=0;r<l.length;r++)if(l[r].length>0){let u=l[r];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}n+="/"+u}return n}function b2(a){const n={};a.charAt(0)==="?"&&(a=a.substring(1));for(const l of a.split("&")){if(l.length===0)continue;const r=l.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):vt(`Invalid query segment '${l}' in query '${a}'`)}return n}const yp=function(a,n){const l=S2(a),r=l.namespace;l.domain==="firebase.com"&&Bn(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&l.domain!=="localhost"&&Bn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||AS();const u=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new ey(l.host,l.secure,r,u,n,"",r!==l.subdomain),path:new Ne(l.pathString)}},S2=function(a){let n="",l="",r="",u="",f="",h=!0,m="https",p=443;if(typeof a=="string"){let _=a.indexOf("//");_>=0&&(m=a.substring(0,_-1),a=a.substring(_+2));let C=a.indexOf("/");C===-1&&(C=a.length);let v=a.indexOf("?");v===-1&&(v=a.length),n=a.substring(0,Math.min(C,v)),C<v&&(u=v2(a.substring(C,v)));const b=b2(a.substring(Math.min(a.length,v)));_=n.indexOf(":"),_>=0?(h=m==="https"||m==="wss",p=parseInt(n.substring(_+1),10)):_=n.length;const j=n.slice(0,_);if(j.toLowerCase()==="localhost")l="localhost";else if(j.split(".").length<=2)l=j;else{const k=n.indexOf(".");r=n.substring(0,k).toLowerCase(),l=n.substring(k+1),f=r}"ns"in b&&(f=b.ns)}return{host:n,port:p,domain:l,subdomain:r,secure:h,scheme:m,pathString:u,namespace:f}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(n,l,r,u){this.eventType=n,this.eventRegistration=l,this.snapshot=r,this.prevName=u}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+$e(this.snapshot.exportVal())}}class C2{constructor(n,l,r){this.eventRegistration=n,this.error=l,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return I(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(n,l){this._repo=n,this._path=l}cancel(){const n=new dn;return f2(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){ls("OnDisconnect.remove",this._path);const n=new dn;return pp(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){ls("OnDisconnect.set",this._path),zf("OnDisconnect.set",n,this._path);const l=new dn;return pp(this._repo,this._path,n,l.wrapCallback(()=>{})),l.promise}setWithPriority(n,l){ls("OnDisconnect.setWithPriority",this._path),zf("OnDisconnect.setWithPriority",n,this._path),JC("OnDisconnect.setWithPriority",l);const r=new dn;return h2(this._repo,this._path,n,l,r.wrapCallback(()=>{})),r.promise}update(n){ls("OnDisconnect.update",this._path),Yy("OnDisconnect.update",n,this._path);const l=new dn;return d2(this._repo,this._path,n,l.wrapCallback(()=>{})),l.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(n,l,r,u){this._repo=n,this._path=l,this._queryParams=r,this._orderByCalled=u}get key(){return ae(this._path)?null:Vf(this._path)}get ref(){return new Hn(this._repo,this._path)}get _queryIdentifier(){const n=ip(this._queryParams),l=kf(n);return l==="{}"?"default":l}get _queryObject(){return ip(this._queryParams)}isEqual(n){if(n=Ki(n),!(n instanceof ph))return!1;const l=this._repo===n._repo,r=Qf(this._path,n._path),u=this._queryIdentifier===n._queryIdentifier;return l&&r&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+cE(this._path)}}class Hn extends ph{constructor(n,l){super(n,l,new Ff,!1)}get parent(){const n=uy(this._path);return n===null?null:new Hn(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class Es{constructor(n,l,r){this._node=n,this.ref=l,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new Ne(n),r=Lf(this.ref,n);return new Es(this._node.getChild(l),r,ke)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,u)=>n(new Es(u,Lf(this.ref,r),ke)))}hasChild(n){const l=new Ne(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Pt(a,n){return a=Ki(a),a._checkNotDeleted("ref"),n!==void 0?Lf(a._root,n):a._root}function Lf(a,n){return a=Ki(a),le(a._path)===null?WC("child","path",n):Vy("child","path",n),new Hn(a._repo,He(a._path,n))}function Py(a){return a=Ki(a),new T2(a._repo,a._path)}function yh(a,n){a=Ki(a),ls("set",a._path),zf("set",n,a._path);const l=new dn;return o2(a._repo,a._path,n,null,l.wrapCallback(()=>{})),l.promise}function vh(a,n){Yy("update",n,a._path);const l=new dn;return u2(a._repo,a._path,n,l.wrapCallback(()=>{})),l.promise}function Os(a){a=Ki(a);const n=new Wy(()=>{}),l=new Oo(n);return r2(a._repo,a,l).then(r=>new Es(r,new Hn(a._repo,a._path),a._queryParams.getIndex()))}class Oo{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,l){const r=l._queryParams.getIndex();return new E2("value",this,new Es(n.snapshotNode,new Hn(l._repo,l._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new C2(this,n,l):null}matches(n){return n instanceof Oo?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function N2(a,n,l,r,u){const f=new Wy(l,void 0),h=new Oo(f);return m2(a._repo,a,h),()=>g2(a._repo,a,h)}function x2(a,n,l,r){return N2(a,"value",n)}EC(Hn);AC(Hn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="FIREBASE_DATABASE_EMULATOR_HOST",Uf={};let w2=!1;function D2(a,n,l,r){const u=n.lastIndexOf(":"),f=n.substring(0,u),h=Bf(f);a.repoInfo_=new ey(n,h,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,l),r&&(a.authTokenProvider_=r)}function O2(a,n,l,r,u){let f=r||a.options.databaseURL;f===void 0&&(a.options.projectId||Bn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),at("Using default host for project ",a.options.projectId),f=`${a.options.projectId}-default-rtdb.firebaseio.com`);let h=yp(f,u),m=h.repoInfo,p;typeof process<"u"&&H_&&(p=H_[A2]),p?(f=`http://${p}?ns=${m.namespace}`,h=yp(f,u),m=h.repoInfo):h.repoInfo.secure;const _=new BS(a.name,a.options,n);PC("Invalid Firebase Database URL",h),ae(h.path)||Bn("Database URL must point to the root of a Firebase Database (not including a child path).");const C=M2(m,a,_,new IS(a,l));return new z2(C,a)}function R2(a,n){const l=Uf[n];(!l||l[a.key]!==a)&&Bn(`Database ${n}(${a.repoInfo_}) has already been deleted.`),_2(a),delete l[a.key]}function M2(a,n,l,r){let u=Uf[n.name];u||(u={},Uf[n.name]=u);let f=u[a.toURLString()];return f&&Bn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new i2(a,w2,l,r),u[a.toURLString()]=f,f}class z2{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(l2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hn(this._repo,_e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(R2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Bn("Cannot call "+n+" on a deleted database.")}}function L2(a=oS(),n){const l=iS(a,"database").getImmediate({identifier:n});if(!l._instanceStarted){const r=q1("database");r&&U2(l,...r)}return l}function U2(a,n,l,r={}){a=Ki(a),a._checkNotDeleted("useEmulator");const u=`${n}:${l}`,f=a._repoInternal;if(a._instanceStarted){if(u===a._repoInternal.repoInfo_.host&&no(r,f.repoInfo_.emulatorOptions))return;Bn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)r.mockUserToken&&Bn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new $r($r.OWNER);else if(r.mockUserToken){const m=typeof r.mockUserToken=="string"?r.mockUserToken:V1(r.mockUserToken,a.app.options.projectId);h=new $r(m)}Bf(n)&&(Y1(n),K1("Database",!0)),D2(f,u,r,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(a){SS(rS),io(new hs("database",(n,{instanceIdentifier:l})=>{const r=n.getProvider("app").getImmediate(),u=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return O2(r,u,f,l)},"PUBLIC").setMultipleInstances(!0)),Gl(k_,G_,a),Gl(k_,G_,"esm2020")}jn.prototype.simpleListen=function(a,n){this.sendRequest("q",{p:a},n)};jn.prototype.echo=function(a,n){this.sendRequest("echo",{d:a},n)};j2();let uf,Ve;try{U_().length?uf=U_()[0]:uf=Ip(O1),Ve=L2(uf)}catch(a){console.error("Firebase Initialization Error. Online mode will not work without valid config.",a)}const I2=()=>{const a="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let n="";for(let l=0;l<4;l++)n+=a.charAt(Math.floor(Math.random()*a.length));return n},B2=async a=>{if(!Ve)throw new Error("Database not initialized");const n=I2(),l=Pt(Ve,`rooms/${n}`),r={status:"WAITING",players:{player1:{name:a,symbol:"X",joined:!0},player2:{name:"",symbol:"O",joined:!1}},board:ki,currentTurn:"X",winner:null,lastMoveTimestamp:Date.now()};console.log(" Creating room:",n,"for player:",a),await yh(l,r),console.log(" Room created successfully");const u=Pt(Ve,`rooms/${n}/players/player1/joined`);return Py(u).set(!1),n},H2=async(a,n)=>{if(!Ve)throw new Error("Database not initialized");console.log(" Attempting to join room:",a,"as player:",n);const l=Pt(Ve,`rooms/${a}`),r=await Os(l);if(!r.exists())return console.error(" Room does not exist:",a),!1;if(r.val().players.player2.joined)return console.error(" Room is full:",a),!1;const f={};f[`rooms/${a}/players/player2`]={name:n,symbol:"O",joined:!0},f[`rooms/${a}/status`]="PLAYING",console.log(" Updating room with Player 2 data..."),await vh(Pt(Ve),f),console.log(" Player 2 joined successfully");const h=Pt(Ve,`rooms/${a}/players/player2/joined`);return Py(h).set(!1),!0},k2=(a,n)=>{if(!Ve)return console.error(" Database not initialized, cannot subscribe"),()=>{};console.log(" Subscribing to room:",a);const l=Pt(Ve,`rooms/${a}`);return x2(l,u=>{const f=u.val();f?(console.log(" Received room update:",f),n(f)):console.warn(" Room data is null for code:",a)})},vp=async(a,n,l,r)=>{if(!Ve){console.error(" Database not initialized, cannot update game state");return}const u={};u[`rooms/${a}/board`]=n,u[`rooms/${a}/currentTurn`]=l,u[`rooms/${a}/lastMoveTimestamp`]=Date.now(),r&&(u[`rooms/${a}/winner`]=r,u[`rooms/${a}/status`]="FINISHED",console.log(" Game over! Winner:",r)),console.log(" Updating game state for room:",a,"Next turn:",l),await vh(Pt(Ve),u),console.log(" Game state updated successfully")},G2=async(a,n)=>{if(!Ve)return;const l=n?"player1":"player2",r={};r[`rooms/${a}/players/${l}/joined`]=!1,await vh(Pt(Ve),r)},q2=async()=>{if(!Ve)throw new Error("Database not initialized");const a=Pt(Ve,"visitorCount"),n=await Os(a),l=n.exists()?n.val():0;await yh(a,l+1)},Y2=async()=>{if(!Ve)throw new Error("Database not initialized");const a=Pt(Ve,"visitorCount"),n=await Os(a);return n.exists()?n.val():0},V2=async()=>{if(!Ve)throw new Error("Database not initialized");const a=Pt(Ve,"gamesPlayed"),n=await Os(a),l=n.exists()?n.val():0;await yh(a,l+1)},bp=async()=>{if(!Ve)throw new Error("Database not initialized");const a=Pt(Ve,"gamesPlayed"),n=await Os(a);return n.exists()?n.val():0},Sp=window.AudioContext||window.webkitAudioContext;let cf=null;const Q2=()=>(!cf&&Sp&&(cf=new Sp),cf),hi=a=>{const n=Q2();if(!n)return;n.state==="suspended"&&n.resume().catch(()=>{});const l=n.createOscillator(),r=n.createGain();l.connect(r),r.connect(n.destination);const u=n.currentTime;a==="move"?(l.type="sine",l.frequency.setValueAtTime(400,u),l.frequency.exponentialRampToValueAtTime(600,u+.1),r.gain.setValueAtTime(.3,u),r.gain.exponentialRampToValueAtTime(.01,u+.1),l.start(u),l.stop(u+.1)):a==="win"?[523.25,659.25,783.99,1046.5].forEach((h,m)=>{const p=n.createOscillator(),_=n.createGain();p.connect(_),_.connect(n.destination),p.type="triangle",p.frequency.value=h,_.gain.setValueAtTime(.1,u),_.gain.exponentialRampToValueAtTime(.001,u+1.5),p.start(u+m*.1),p.stop(u+1.5)}):a==="draw"?(l.type="sawtooth",l.frequency.setValueAtTime(150,u),l.frequency.linearRampToValueAtTime(100,u+.5),r.gain.setValueAtTime(.2,u),r.gain.linearRampToValueAtTime(.01,u+.5),l.start(u),l.stop(u+.5)):a==="click"&&(l.type="sine",l.frequency.setValueAtTime(800,u),r.gain.setValueAtTime(.05,u),r.gain.exponentialRampToValueAtTime(.001,u+.05),l.start(u),l.stop(u+.05))},X2=({value:a,onClick:n,disabled:l,isWinningSquare:r})=>{const u=f=>{f.stopPropagation(),n()};return T.jsx("button",{className:`
        relative w-full aspect-square rounded-xl text-5xl md:text-6xl font-bold flex items-center justify-center
        transition-all duration-300 transform
        ${l?"cursor-not-allowed":"hover:bg-white/10 active:scale-95 cursor-pointer"}
        ${r?"bg-accent/20 border-accent text-accent shadow-[0_0_20px_rgba(46,204,113,0.4)]":"bg-white/5 border-white/10 text-white shadow-inner"}
        border-2
      `,onClick:u,disabled:l,children:T.jsxs("span",{className:`transform transition-all duration-300 ${a?"scale-100 opacity-100":"scale-50 opacity-0"}`,children:[a==="X"&&T.jsx("span",{className:"text-accent drop-shadow-[0_0_8px_rgba(46,204,113,0.6)]",children:"X"}),a==="O"&&T.jsx("span",{className:"text-white drop-shadow-[0_0_8px_rgba(255,255,255,0.6)]",children:"O"})]})})},K2=({className:a})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[T.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),T.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),Ep=({className:a})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[T.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),T.jsx("circle",{cx:"9",cy:"7",r:"4"}),T.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),T.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),Z2=({className:a})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[T.jsx("circle",{cx:"12",cy:"12",r:"10"}),T.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),T.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),F2=({className:a})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[T.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),T.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),J2=({className:a})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[T.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),T.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"}),T.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"})]}),W2=({className:a})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[T.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),T.jsx("line",{x1:"23",y1:"9",x2:"17",y2:"15"}),T.jsx("line",{x1:"17",y1:"9",x2:"23",y2:"15"})]}),is=({className:a})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[T.jsx("path",{d:"m12 19-7-7 7-7"}),T.jsx("path",{d:"M19 12H5"})]}),Cp=({className:a})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[T.jsx("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),T.jsx("path",{d:"M21 3v5h-5"})]}),Wr=({className:a})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",className:a,children:T.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),Pr=({className:a})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",className:a,children:T.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})});function P2(){const[a,n]=de.useState("LANDING"),[l,r]=de.useState("SINGLE"),[u,f]=de.useState("MEDIUM"),[h,m]=de.useState(!0),[p,_]=de.useState(ki),[C,v]=de.useState("X"),[b,j]=de.useState(null),[k,Q]=de.useState(null),[ne,Se]=de.useState("Player 1"),[Be,pe]=de.useState("Player 2"),[ye,bt]=de.useState(""),[je,ee]=de.useState(null),[et,kt]=de.useState(!1),[en,gt]=de.useState(!1),[rt,Dt]=de.useState(""),[Ot,_t]=de.useState({X:0,O:0,Draws:0}),[R,H]=de.useState(null),[X,ve]=de.useState(null),[Ee,E]=de.useState(!1),z=de.useRef(null),B=de.useRef(!1),q=de.useRef(a),F=de.useRef(p),ie=de.useRef(C),J=U=>{var te;const ue=typeof U=="function"?U(a):U;console.log(" VIEW CHANGE:",a,"",ue,"| Stack:",(te=new Error().stack)==null?void 0:te.split(`
`)[2]),n(U)},Qe=U=>{console.log(" GAME MODE CHANGE:",l,"",U),r(U)},ze=U=>{const ue=typeof U=="function"?U(p):U;console.log(" BOARD UPDATE:",p,"",ue),_(U)},kn=U=>{console.log(" TURN CHANGE:",C,"",U),v(U)};de.useEffect(()=>{q.current=a,F.current=p,ie.current=C}),de.useEffect(()=>{console.log(" RENDER:",{view:a,gameMode:l,mySymbol:je,roomCode:ye,opponentConnected:et,currentTurn:C,boardLength:p.filter(U=>U!==null).length,winner:b})}),de.useEffect(()=>{const U=localStorage.getItem("difficulty"),ue=localStorage.getItem("soundEnabled");U&&f(U),ue&&m(ue==="true")},[]),de.useEffect(()=>{(async()=>{try{await q2();const ue=await Y2();H(ue);const te=await bp();ve(te)}catch(ue){console.error("Failed to load counters:",ue)}})()},[]);const Ji=de.useCallback(U=>{for(const ue of ff){const[te,_n,dt]=ue;if(U[te]&&U[te]===U[_n]&&U[te]===U[dt])return{winner:U[te],line:ue}}return U.includes(null)?null:{winner:"draw",line:null}},[]);de.useEffect(()=>{if(l==="SINGLE"&&C==="O"&&!b&&a==="GAME"){const U=setTimeout(()=>{const ue=R1(p,u);ue!==-1&&Wi(ue)},600);return()=>clearTimeout(U)}},[C,l,b,a,p]),de.useEffect(()=>(l==="ONLINE"&&ye&&(console.log(" Setting up Firebase subscription for room:",ye,"My symbol:",je),z.current=k2(ye,U=>{console.log(" Firebase update received:",U),_(dt=>(console.log(" Firebase board update - prev:",dt,"new:",U.board||ki),U.board||ki)),v(dt=>(console.log(" Firebase turn update - prev:",dt,"new:",U.currentTurn),U.currentTurn));const ue=je==="X",te=ue?U.players.player2:U.players.player1,_n=ue?U.players.player1:U.players.player2;if(kt(te.joined),ue?pe(te.joined?te.name:"Waiting..."):(Se(U.players.player1.name),pe(_n.name)),U.winner)if(j(U.winner),U.winner!=="draw")for(const dt of ff){const[$i,el,Mo]=dt;if(U.board[$i]&&U.board[$i]===U.board[el]&&U.board[$i]===U.board[Mo]){Q(dt);break}}else Q(null);else j(null),Q(null);!B.current&&U.players.player2.joined&&(console.log(" Player 2 joined! Checking if we should transition to game..."),B.current=!0,setTimeout(()=>{J(dt=>(console.log(" Auto-transition check - current view:",dt),dt==="LOBBY"?(console.log(" Transitioning from LOBBY to GAME"),"GAME"):(console.log(" Skipping transition - not in LOBBY"),dt)))},500)),Dt(dt=>U.winner||te.joined?"":"Opponent disconnected")})),()=>{z.current&&(console.log(" Unsubscribing from room"),z.current(),z.current=null)}),[l,ye,je]),de.useEffect(()=>{b&&(b==="draw"?(h&&hi("draw"),_t(U=>({...U,Draws:U.Draws+1}))):(h&&hi("win"),_t(U=>({...U,[b]:U[b]+1}))))},[b,h]);const na=()=>{const U=!h;m(U),localStorage.setItem("soundEnabled",String(U)),hi("click")},Rs=U=>{f(U),localStorage.setItem("difficulty",U),hi("click")},on=async(U,ue)=>{console.log(" START GAME CALLED with mode:",U),hi("click"),Qe(U),_t({X:0,O:0,Draws:0});try{await V2();const te=await bp();ve(te)}catch(te){console.error("Failed to increment games played:",te)}if(U==="SINGLE"){console.log(" Starting SINGLE player mode");const te=ue||u;Se("You"),pe(`AI (${te})`),gn(),ee("X"),J("GAME")}else U==="LOCAL"?(console.log(" Starting LOCAL multiplayer mode"),gn(),ee("X"),J("GAME")):console.log(" ONLINE mode - no immediate action")},gn=()=>{ze(ki),kn("X"),j(null),Q(null)},Wi=async U=>{if(p[U]||b)return;if(l==="ONLINE"){if(C!==je){console.log(" Not your turn! Current:",C,"Your symbol:",je);return}if(!et){console.log(" Opponent not connected");return}}h&&hi("move");const ue=[...p];ue[U]=C;const te=Ji(ue),_n=C==="X"?"O":"X";console.log(" Making move at index",U,"Current turn:",C,"Next turn:",_n),l==="ONLINE"?(console.log(" Updating Firebase with new move..."),await vp(ye,ue,_n,te?te.winner:null),console.log(" Firebase updated successfully")):(ze(ue),te?(j(te.winner),Q(te.line)):kn(_n))},Ro=async()=>{gt(!0);try{const U=await B2(ne||"Player 1");bt(U),ee("X"),Qe("ONLINE"),pe("Waiting..."),gn(),B.current=!1,J("LOBBY")}catch(U){alert("Error creating room. Check connection."),console.error(U)}gt(!1)},Ms=async()=>{if(!ye||ye.length!==4){Dt("Invalid Code");return}gt(!0),Dt("");try{await H2(ye,ne||"Player 2")?(ee("O"),Qe("ONLINE"),gn(),J("GAME")):Dt("Room not found or full")}catch(U){Dt("Connection error"),console.error("Join room error:",U)}gt(!1)},ia=async()=>{hi("click"),gn(),l==="SINGLE"&&pe(`AI (${u})`),l==="ONLINE"&&await vp(ye,ki,"X",null)},Pi=()=>{console.log(" GO BACK CALLED! Current view:",a,"Current mode:",l),console.trace("GO BACK STACK TRACE"),hi("click"),(a==="GAME"||a==="LOBBY")&&l==="ONLINE"&&G2(ye,je==="X"),J("LANDING"),bt(""),ze(ki),j(null)},la=()=>{if(b){if(b==="draw")return T.jsx("span",{className:"text-gray-300",children:"It's a Draw!"});const ue=b==="X"?ne:Be;return T.jsxs("span",{className:"text-accent drop-shadow-md",children:[ue," Wins!"]})}if(l==="ONLINE"&&!et&&a==="GAME")return T.jsx("span",{className:"text-red-400 animate-pulse",children:"Opponent Disconnected"});if(l==="ONLINE"&&C!==je)return T.jsx("span",{className:"text-gray-400 animate-pulse",children:"Waiting for opponent..."});const U=C==="X"?ne:Be;return T.jsxs("span",{className:"text-white",children:[U,"'s Turn (",C,")"]})};return a==="LANDING"?T.jsxs("div",{className:"min-h-screen flex flex-col p-6",children:[R!==null&&T.jsxs("div",{className:"absolute top-4 left-2 sm:left-4 glass-panel px-2 sm:px-3 py-1.5 rounded-full text-xs text-gray-300",children:[" ",R.toLocaleString()," visitors"]}),X!==null&&T.jsxs("div",{className:"absolute top-4 right-2 sm:right-4 glass-panel px-2 sm:px-3 py-1.5 rounded-full text-xs text-gray-300",children:[" ",X.toLocaleString()," games played"]}),T.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[T.jsxs("div",{className:"text-center mb-12 animate-scale-in",children:[T.jsx("h1",{className:"text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-500 mb-2 drop-shadow-lg",children:"Tic Tac Toe"}),T.jsx("p",{className:"text-gray-400 text-sm tracking-widest uppercase",children:"By PlayLoop Studios"})]}),T.jsxs("div",{className:"w-full max-w-md space-y-4",children:[T.jsxs("button",{onClick:()=>{J("MODE_SELECT"),Qe("SINGLE")},className:"w-full glass-panel py-5 rounded-2xl flex items-center justify-center space-x-4 hover:bg-white/10 transition-all hover:scale-105 group",children:[T.jsx(K2,{className:"w-8 h-8 text-accent group-hover:text-white transition-colors"}),T.jsx("span",{className:"text-xl font-semibold",children:"Single Player"})]}),T.jsxs("button",{onClick:()=>J("ONLINE_MENU"),className:"w-full glass-panel py-5 rounded-2xl flex items-center justify-center space-x-4 hover:bg-white/10 transition-all hover:scale-105 group",children:[T.jsx(Ep,{className:"w-8 h-8 text-cyan-400 group-hover:text-white transition-colors"}),T.jsx("span",{className:"text-xl font-semibold",children:"Two Player"})]})]}),T.jsx("p",{className:"mt-8 text-xs text-gray-500",children:"Choose your mode to begin"})]}),T.jsx("div",{className:"mt-auto py-6 text-center w-full px-4",children:T.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-400",children:[T.jsx("span",{children:"Built by ProductAlchemist"}),T.jsx("a",{href:"https://github.com/ProductAlchemist",target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 hover:text-accent transition-all",children:T.jsx(Wr,{className:"inline-block"})}),T.jsx("span",{className:"text-gray-600",children:"|"}),T.jsx("a",{href:"https://www.linkedin.com/in/kshitijkulkarni-productmanager/",target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 hover:text-accent transition-all",children:T.jsx(Pr,{className:"inline-block"})})]})})]}):a==="MODE_SELECT"&&l==="SINGLE"?T.jsxs("div",{className:"min-h-screen flex flex-col p-6",children:[T.jsx("button",{onClick:()=>J("LANDING"),className:"absolute top-6 left-6 p-2 rounded-full hover:bg-white/10",children:T.jsx(is,{})}),T.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[T.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Select Difficulty"}),T.jsx("div",{className:"space-y-4 w-full max-w-xs",children:["EASY","MEDIUM","HARD"].map(U=>T.jsx("button",{onClick:()=>{Rs(U),on("SINGLE",U)},className:`w-full py-4 rounded-xl border transition-all ${u===U?"bg-accent text-background border-accent font-bold":"glass-panel border-white/10 text-gray-300 hover:bg-white/10"}`,children:U},U))})]}),T.jsx("div",{className:"mt-auto py-6 text-center w-full px-4",children:T.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-400",children:[T.jsx("span",{children:"Built by ProductAlchemist"}),T.jsx("a",{href:"https://github.com/ProductAlchemist",target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 hover:text-accent transition-all",children:T.jsx(Wr,{className:"inline-block"})}),T.jsx("span",{className:"text-gray-600",children:"|"}),T.jsx("a",{href:"https://www.linkedin.com/in/kshitijkulkarni-productmanager/",target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 hover:text-accent transition-all",children:T.jsx(Pr,{className:"inline-block"})})]})})]}):a==="ONLINE_MENU"?T.jsxs("div",{className:"min-h-screen flex flex-col p-6",children:[T.jsx("button",{onClick:()=>J("LANDING"),className:"absolute top-6 left-6 p-2 rounded-full hover:bg-white/10",children:T.jsx(is,{})}),T.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[T.jsx("h2",{className:"text-3xl font-bold mb-10",children:"Two Player Mode"}),T.jsxs("div",{className:"w-full max-w-md space-y-6",children:[T.jsxs("div",{className:"glass-panel p-6 rounded-2xl",children:[T.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[T.jsx(Ep,{className:"w-5 h-5 text-accent"})," Same Device"]}),T.jsxs("div",{className:"space-y-3",children:[T.jsx("input",{value:ne,onChange:U=>Se(U.target.value),placeholder:"Player 1 Name",className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-2 focus:outline-none focus:border-accent"}),T.jsx("input",{value:Be,onChange:U=>pe(U.target.value),placeholder:"Player 2 Name",className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-2 focus:outline-none focus:border-accent"}),T.jsx("button",{onClick:()=>{Qe("LOCAL"),on("LOCAL")},className:"w-full bg-accent text-background font-bold py-3 rounded-lg hover:brightness-110 transition-all",children:"Start Local Game"})]})]}),T.jsxs("div",{className:"glass-panel p-6 rounded-2xl",children:[T.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[T.jsx(Z2,{className:"w-5 h-5 text-cyan-400"})," Play Online"]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsx("button",{onClick:()=>E(!0),className:"bg-white/5 border border-white/10 hover:bg-white/10 py-3 rounded-lg transition-all",children:"Create Room"}),T.jsx("button",{onClick:()=>E(!0),className:"bg-white/5 border border-white/10 hover:bg-white/10 py-3 rounded-lg transition-all",children:"Join Room"})]})]})]})]}),T.jsx("div",{className:"mt-auto py-6 text-center w-full",children:T.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-400",children:[T.jsx("span",{children:"Built by ProductAlchemist"}),T.jsx("a",{href:"https://github.com/ProductAlchemist",target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 hover:text-accent transition-all",children:T.jsx(Wr,{className:"inline-block"})}),T.jsx("span",{className:"text-gray-600",children:"|"}),T.jsx("a",{href:"https://www.linkedin.com/in/kshitijkulkarni-productmanager/",target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 hover:text-accent transition-all",children:T.jsx(Pr,{className:"inline-block"})})]})}),Ee&&T.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-6",onClick:()=>E(!1),children:T.jsxs("div",{className:"glass-panel p-8 rounded-3xl max-w-sm w-full text-center animate-scale-in",onClick:U=>U.stopPropagation(),children:[T.jsx("div",{className:"text-5xl mb-4",children:""}),T.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Online Multiplayer Coming Soon!"}),T.jsx("p",{className:"text-gray-400 mb-6",children:"We're working on it. Stay tuned!"}),T.jsx("button",{onClick:()=>E(!1),className:"w-full bg-accent text-background font-bold py-3 rounded-lg hover:brightness-110 transition-all",children:"Can't wait!"})]})})]}):a==="CREATE_ROOM"?T.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 relative",children:[T.jsx("button",{onClick:()=>J("ONLINE_MENU"),className:"absolute top-6 left-6 p-2 rounded-full hover:bg-white/10",children:T.jsx(is,{})}),T.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Create Room"}),T.jsxs("div",{className:"glass-panel p-8 rounded-2xl w-full max-w-sm text-center",children:[T.jsx("input",{value:ne,onChange:U=>Se(U.target.value),placeholder:"Enter Your Name",className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 mb-6 focus:outline-none focus:border-accent text-center text-lg"}),T.jsx("button",{disabled:en,onClick:Ro,className:"w-full bg-gradient-to-r from-emerald-500 to-teal-500 text-white font-bold py-3 rounded-lg hover:opacity-90 transition-all flex justify-center",children:en?T.jsx(Cp,{className:"animate-spin"}):"Generate Room Code"})]})]}):a==="JOIN_ROOM"?T.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 relative",children:[T.jsx("button",{onClick:()=>J("ONLINE_MENU"),className:"absolute top-6 left-6 p-2 rounded-full hover:bg-white/10",children:T.jsx(is,{})}),T.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Join Room"}),T.jsxs("div",{className:"glass-panel p-8 rounded-2xl w-full max-w-sm text-center",children:[T.jsx("input",{value:ne,onChange:U=>Se(U.target.value),placeholder:"Enter Your Name",className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 mb-4 focus:outline-none focus:border-accent text-center text-lg"}),T.jsx("input",{value:ye,onChange:U=>bt(U.target.value.toUpperCase()),maxLength:4,placeholder:"4-DIGIT CODE",className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 mb-6 focus:outline-none focus:border-accent text-center text-2xl tracking-widest uppercase font-mono"}),rt&&T.jsx("p",{className:"text-red-400 text-sm mb-4",children:rt}),T.jsx("button",{disabled:en,onClick:Ms,className:"w-full bg-gradient-to-r from-blue-500 to-indigo-500 text-white font-bold py-3 rounded-lg hover:opacity-90 transition-all flex justify-center",children:en?T.jsx(Cp,{className:"animate-spin"}):"Join Game"})]})]}):a==="LOBBY"?T.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6",children:T.jsxs("div",{className:"glass-panel p-10 rounded-3xl text-center w-full max-w-sm relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-accent animate-pulse"}),T.jsx("h3",{className:"text-gray-400 uppercase tracking-widest text-xs mb-2",children:"Room Code"}),T.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8",children:[T.jsx("span",{className:"text-5xl font-mono font-bold text-white tracking-widest",children:ye}),T.jsx("button",{onClick:()=>navigator.clipboard.writeText(ye),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:T.jsx(F2,{className:"text-accent"})})]}),T.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[T.jsxs("div",{className:"flex items-center gap-3 w-full bg-white/5 p-3 rounded-lg",children:[T.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),T.jsxs("span",{className:"font-semibold",children:[ne," (You)"]})]}),T.jsxs("div",{className:"flex items-center gap-3 w-full bg-white/5 p-3 rounded-lg opacity-50",children:[T.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-500 animate-pulse"}),T.jsx("span",{className:"italic",children:"Waiting for Player 2..."})]})]}),T.jsx("button",{onClick:Pi,className:"mt-8 text-gray-400 hover:text-white underline text-sm",children:"Cancel"})]})}):a==="GAME"?T.jsxs("div",{className:"min-h-screen flex flex-col p-4 md:p-8",children:[T.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[T.jsxs("div",{className:"w-full max-w-md flex justify-between items-center mb-8",children:[T.jsx("button",{onClick:Pi,className:"p-2 rounded-full hover:bg-white/10",children:T.jsx(is,{})}),T.jsx("div",{className:"text-xl font-bold font-mono bg-black/20 px-4 py-1 rounded-full border border-white/5",children:la()}),T.jsx("button",{onClick:na,className:"p-2 rounded-full hover:bg-white/10",children:h?T.jsx(J2,{className:"text-accent"}):T.jsx(W2,{className:"text-gray-500"})})]}),T.jsx("div",{className:"w-full max-w-md aspect-square mb-8",children:T.jsx("div",{className:"grid grid-cols-3 gap-3 p-3 glass-panel rounded-2xl h-full",children:p.map((U,ue)=>T.jsx(X2,{value:U,onClick:()=>{console.log(" SQUARE CLICKED:",ue,"Current view:",a,"Game mode:",l),Wi(ue)},disabled:!!U||!!b||l==="ONLINE"&&C!==je||l==="SINGLE"&&C==="O",isWinningSquare:(k==null?void 0:k.includes(ue))??!1},ue))})}),T.jsxs("div",{className:"w-full max-w-md space-y-6",children:[T.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[T.jsxs("div",{className:`p-3 rounded-xl border ${C==="X"?"bg-white/10 border-accent":"bg-transparent border-white/5"}`,children:[T.jsxs("div",{className:"text-xs text-gray-400 uppercase",children:[ne," (X)"]}),T.jsx("div",{className:"text-2xl font-bold",children:Ot.X})]}),T.jsxs("div",{className:"p-3 rounded-xl border border-white/5",children:[T.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Draws"}),T.jsx("div",{className:"text-2xl font-bold",children:Ot.Draws})]}),T.jsxs("div",{className:`p-3 rounded-xl border ${C==="O"?"bg-white/10 border-white":"bg-transparent border-white/5"}`,children:[T.jsxs("div",{className:"text-xs text-gray-400 uppercase",children:[Be," (O)"]}),T.jsx("div",{className:"text-2xl font-bold",children:Ot.O})]})]}),b&&T.jsx("button",{onClick:ia,className:"w-full py-4 bg-accent text-background font-bold text-lg rounded-xl shadow-[0_0_20px_rgba(46,204,113,0.4)] animate-pulse-slow hover:scale-[1.02] transition-transform",children:"Play Again"})]})]}),T.jsx("div",{className:"mt-auto py-6 text-center w-full px-4",children:T.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-400",children:[T.jsx("span",{children:"Built by ProductAlchemist"}),T.jsx("a",{href:"https://github.com/ProductAlchemist",target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 hover:text-accent transition-all",children:T.jsx(Wr,{className:"inline-block"})}),T.jsx("span",{className:"text-gray-600",children:"|"}),T.jsx("a",{href:"https://www.linkedin.com/in/kshitijkulkarni-productmanager/",target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 hover:text-accent transition-all",children:T.jsx(Pr,{className:"inline-block"})})]})})]}):(console.error(" CRITICAL: Unknown view state:",a),T.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:T.jsxs("div",{className:"glass-panel p-8 rounded-2xl text-center",children:[T.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-4",children:"Error: Unknown View State"}),T.jsxs("p",{className:"text-gray-300 mb-4",children:["View: ",a]}),T.jsx("button",{onClick:()=>J("LANDING"),className:"px-6 py-3 bg-accent text-background rounded-lg font-bold",children:"Return to Home"})]})}))}const $y=document.getElementById("root");if(!$y)throw new Error("Could not find root element to mount to");const $2=D1.createRoot($y);$2.render(T.jsx(S1.StrictMode,{children:T.jsx(P2,{})}));
